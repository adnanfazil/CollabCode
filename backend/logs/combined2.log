{
  message: '🔐 WebSocket Authentication Attempt: Socket ID pol3cIQK6wx-pHuSAAAB from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:37'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket pol3cIQK6wx-pHuSAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:37'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: pol3cIQK6wx-pHuSAAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:37'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:37'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:37'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:37',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:37'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:37'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:37'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:37'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:37'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:37'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b2326a3dab11194ba0b2',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-08-30 15:59:37'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:37'
}
{
  message: '🆕 New Project Room Created: project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:37'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:37'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:37'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:37'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:37'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:37'
}
{
  message: '🖥️ Terminal Create: User adnan99@gmail.com creating session for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:41'
}
{
  message: '🐳 Creating container session for project 68b2b2326a3dab11194ba0b2, socket pol3cIQK6wx-pHuSAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:41'
}
{
  message: '🖥️ Terminal Create: User adnan99@gmail.com creating session for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:42'
}
{
  message: '⚠️ Terminal creation already in progress for socket pol3cIQK6wx-pHuSAAAB, ignoring duplicate request',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:42'
}
{
  message: '🐳 Docker version: Docker version 28.0.1, build 068a01e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:42'
}
{
  message: '🐳 Docker is available and working properly',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:43'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:43'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:43'
}
{
  message: '✅ Terminal session created for adnan99@gmail.com in project 68b2b2326a3dab11194ba0b2 (container)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:43'
}
{
  message: '✅ Container process spawned: collabcode-68b2b2326a3dab11194ba0b2-1756551583393',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:43'
}
{
  message: '🐳 Docker version check timed out',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:47'
}
{
  message: 'POST /api/chatbot/session - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:51'
}
{
  message: 'POST /api/chatbot/session - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:51'
}
{
  message: '🐳 Docker test timed out - daemon may not be running',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 15:59:57'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 16:01:01'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 16:01:01'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 16:01:01'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 16:01:01'
}
{
  service: 'collabcode-backend',
  code: 'ERR_INVALID_ARG_TYPE',
  level: 'error',
  message: '💥 File sync failed for project 68b2b2326a3dab11194ba0b2: The "path" argument must be of type string. Received an instance of ObjectId',
  stack: 'TypeError [ERR_INVALID_ARG_TYPE]: The "path" argument must be of type string. Received an instance of ObjectId\n' +
    '    at Object.join (node:path:478:7)\n' +
    '    at syncProjectToDisk (C:\\Users\\Mosafir\\Desktop\\CollabCode\\backend\\src\\services\\fileSync.js:16:29)\n' +
    '    at C:\\Users\\Mosafir\\Desktop\\CollabCode\\backend\\src\\routes\\files.js:340:15\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)',
  timestamp: '2025-08-30 16:01:01'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 16:01:01'
}
{
  message: 'POST /api/chatbot/query - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 16:01:08'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 16:01:33'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 16:01:33'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 16:01:33'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 16:01:33'
}
{
  service: 'collabcode-backend',
  code: 'ERR_INVALID_ARG_TYPE',
  level: 'error',
  message: '💥 File sync failed for project 68b2b2326a3dab11194ba0b2: The "path" argument must be of type string. Received an instance of ObjectId',
  stack: 'TypeError [ERR_INVALID_ARG_TYPE]: The "path" argument must be of type string. Received an instance of ObjectId\n' +
    '    at Object.join (node:path:478:7)\n' +
    '    at syncProjectToDisk (C:\\Users\\Mosafir\\Desktop\\CollabCode\\backend\\src\\services\\fileSync.js:16:29)\n' +
    '    at C:\\Users\\Mosafir\\Desktop\\CollabCode\\backend\\src\\routes\\files.js:340:15\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)',
  timestamp: '2025-08-30 16:01:33'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-08-30 16:01:33'
}
{
  message: '⚠️ GEMINI_API_KEY not configured. Gemini service will return mock responses.',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:36:04'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:36:04'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:36:04'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:36:04'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:36:04'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:36:04'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:36:04'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:36:04'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:36:04'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:36:04'
}
{
  message: 'POST /api/auth/login - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:37:21'
}
{
  message: 'User logged in: adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:37:21'
}
{
  service: 'collabcode-backend',
  level: 'error',
  message: 'Login error: "expiresIn" should be a number of seconds or string representing a timespan',
  stack: 'Error: "expiresIn" should be a number of seconds or string representing a timespan\n' +
    '    at C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\jsonwebtoken\\sign.js:56:15\n' +
    '    at Array.forEach (<anonymous>)\n' +
    '    at validate (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\jsonwebtoken\\sign.js:47:6)\n' +
    '    at validateOptions (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\jsonwebtoken\\sign.js:62:10)\n' +
    '    at module.exports [as sign] (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\jsonwebtoken\\sign.js:171:5)\n' +
    '    at userSchema.methods.getRefreshToken (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\models\\User.js:139:14)\n' +
    '    at generateTokens (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\routes\\auth.js:66:29)\n' +
    '    at sendTokenResponse (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\routes\\auth.js:73:41)\n' +
    '    at C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\routes\\auth.js:147:5\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)',
  timestamp: '2025-09-01 14:37:21'
}
{
  message: 'POST /api/auth/login - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:37:22'
}
{
  message: 'User logged in: adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:37:23'
}
{
  service: 'collabcode-backend',
  level: 'error',
  message: 'Login error: "expiresIn" should be a number of seconds or string representing a timespan',
  stack: 'Error: "expiresIn" should be a number of seconds or string representing a timespan\n' +
    '    at C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\jsonwebtoken\\sign.js:56:15\n' +
    '    at Array.forEach (<anonymous>)\n' +
    '    at validate (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\jsonwebtoken\\sign.js:47:6)\n' +
    '    at validateOptions (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\jsonwebtoken\\sign.js:62:10)\n' +
    '    at module.exports [as sign] (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\jsonwebtoken\\sign.js:171:5)\n' +
    '    at userSchema.methods.getRefreshToken (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\models\\User.js:139:14)\n' +
    '    at generateTokens (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\routes\\auth.js:66:29)\n' +
    '    at sendTokenResponse (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\routes\\auth.js:73:41)\n' +
    '    at C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\routes\\auth.js:147:5\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)',
  timestamp: '2025-09-01 14:37:23'
}
{
  message: 'POST /api/auth/login - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:37:25'
}
{
  message: 'User logged in: adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:37:25'
}
{
  service: 'collabcode-backend',
  level: 'error',
  message: 'Login error: "expiresIn" should be a number of seconds or string representing a timespan',
  stack: 'Error: "expiresIn" should be a number of seconds or string representing a timespan\n' +
    '    at C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\jsonwebtoken\\sign.js:56:15\n' +
    '    at Array.forEach (<anonymous>)\n' +
    '    at validate (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\jsonwebtoken\\sign.js:47:6)\n' +
    '    at validateOptions (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\jsonwebtoken\\sign.js:62:10)\n' +
    '    at module.exports [as sign] (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\jsonwebtoken\\sign.js:171:5)\n' +
    '    at userSchema.methods.getRefreshToken (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\models\\User.js:139:14)\n' +
    '    at generateTokens (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\routes\\auth.js:66:29)\n' +
    '    at sendTokenResponse (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\routes\\auth.js:73:41)\n' +
    '    at C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\routes\\auth.js:147:5\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)',
  timestamp: '2025-09-01 14:37:25'
}
{
  message: '⚠️ GEMINI_API_KEY not configured. Gemini service will return mock responses.',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:24'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:24'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:24'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:24'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:24'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:24'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:24'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:24'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:24'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:24'
}
{
  message: 'POST /api/auth/login - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:37'
}
{
  message: 'User logged in: adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:38'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID GziRM-dIF18sBT_BAAAB from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:38'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket GziRM-dIF18sBT_BAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:38'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: GziRM-dIF18sBT_BAAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:38'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:38'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:38'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:38',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:38'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:38'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:38'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:38'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:41'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:41'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:41'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:41'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:41'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b2326a3dab11194ba0b2',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 14:38:41'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:41'
}
{
  message: '🆕 New Project Room Created: project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:41'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:41'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:41'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:41'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:41'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:41'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:41'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket UecJHiLl_8oNcSQwAAAC',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:44'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: UecJHiLl_8oNcSQwAAAC)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:44'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 807,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-01 14:38:44'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:44'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:45'
}
{
  service: 'collabcode-backend',
  status: 400,
  statusText: 'Bad Request',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.ErrorInfo',
      reason: 'API_KEY_INVALID',
      domain: 'googleapis.com',
      metadata: { service: 'generativelanguage.googleapis.com' }
    },
    {
      '@type': 'type.googleapis.com/google.rpc.LocalizedMessage',
      locale: 'en-US',
      message: 'API key not valid. Please pass a valid API key.'
    }
  ],
  level: 'error',
  message: 'Error generating streaming completion: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:streamGenerateContent?alt=sse: [400 Bad Request] API key not valid. Please pass a valid API key. [{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"API_KEY_INVALID","domain":"googleapis.com","metadata":{"service":"generativelanguage.googleapis.com"}},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"API key not valid. Please pass a valid API key."}]',
  stack: 'Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:streamGenerateContent?alt=sse: [400 Bad Request] API key not valid. Please pass a valid API key. [{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"API_KEY_INVALID","domain":"googleapis.com","metadata":{"service":"generativelanguage.googleapis.com"}},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"API key not valid. Please pass a valid API key."}]\n' +
    '    at handleResponseNotOk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async makeRequest (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n' +
    '    at async generateContentStream (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:862:22)\n' +
    '    at async StreamingCompletionService.generateCompletion (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\streamingCompletionService.js:43:22)\n' +
    '    at async Socket.<anonymous> (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\socket\\completionSocketHandler.js:100:26)',
  timestamp: '2025-09-01 14:38:46'
}
{
  message: 'Completion cancelled for socket UecJHiLl_8oNcSQwAAAC',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:46'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:46'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:48'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:48'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:48'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:48'
}
{
  service: 'collabcode-backend',
  code: 'ERR_INVALID_ARG_TYPE',
  level: 'error',
  message: '💥 File sync failed for project 68b2b2326a3dab11194ba0b2: The "path" argument must be of type string. Received an instance of ObjectId',
  stack: 'TypeError [ERR_INVALID_ARG_TYPE]: The "path" argument must be of type string. Received an instance of ObjectId\n' +
    '    at Object.join (node:path:478:7)\n' +
    '    at syncProjectToDisk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\fileSync.js:16:29)\n' +
    '    at C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\routes\\files.js:340:15\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)',
  timestamp: '2025-09-01 14:38:48'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:48'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:53'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:53'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:53'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:53'
}
{
  service: 'collabcode-backend',
  code: 'ERR_INVALID_ARG_TYPE',
  level: 'error',
  message: '💥 File sync failed for project 68b2b2326a3dab11194ba0b2: The "path" argument must be of type string. Received an instance of ObjectId',
  stack: 'TypeError [ERR_INVALID_ARG_TYPE]: The "path" argument must be of type string. Received an instance of ObjectId\n' +
    '    at Object.join (node:path:478:7)\n' +
    '    at syncProjectToDisk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\fileSync.js:16:29)\n' +
    '    at C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\routes\\files.js:340:15\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)',
  timestamp: '2025-09-01 14:38:53'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:53'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:54'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:38:54'
}
{
  service: 'collabcode-backend',
  status: 400,
  statusText: 'Bad Request',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.ErrorInfo',
      reason: 'API_KEY_INVALID',
      domain: 'googleapis.com',
      metadata: { service: 'generativelanguage.googleapis.com' }
    },
    {
      '@type': 'type.googleapis.com/google.rpc.LocalizedMessage',
      locale: 'en-US',
      message: 'API key not valid. Please pass a valid API key.'
    }
  ],
  level: 'error',
  message: 'Error generating streaming completion: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:streamGenerateContent?alt=sse: [400 Bad Request] API key not valid. Please pass a valid API key. [{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"API_KEY_INVALID","domain":"googleapis.com","metadata":{"service":"generativelanguage.googleapis.com"}},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"API key not valid. Please pass a valid API key."}]',
  stack: 'Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:streamGenerateContent?alt=sse: [400 Bad Request] API key not valid. Please pass a valid API key. [{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"API_KEY_INVALID","domain":"googleapis.com","metadata":{"service":"generativelanguage.googleapis.com"}},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"API key not valid. Please pass a valid API key."}]\n' +
    '    at handleResponseNotOk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async makeRequest (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n' +
    '    at async generateContentStream (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:862:22)\n' +
    '    at async StreamingCompletionService.generateCompletion (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\streamingCompletionService.js:43:22)\n' +
    '    at async C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\routes\\completions.js:110:26',
  timestamp: '2025-09-01 14:38:55'
}
{
  service: 'collabcode-backend',
  level: 'error',
  message: 'Error during completion generation: token.trim is not a function',
  stack: 'TypeError: token.trim is not a function\n' +
    '    at C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\routes\\completions.js:111:30\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)',
  timestamp: '2025-09-01 14:38:55'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:39:52'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:39:52'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:39:52'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:39:52'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:39:52'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:39:52'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:39:52'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:39:52'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:39:52'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID IGoDY1gzTfYy-PBdAAAB from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:39:52'
}
{
  service: 'collabcode-backend',
  name: 'JsonWebTokenError',
  message: '💥 WebSocket Authentication Error for socket IGoDY1gzTfYy-PBdAAAB: invalid signature',
  level: 'error',
  stack: 'JsonWebTokenError: invalid signature\n' +
    '    at C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\jsonwebtoken\\verify.js:171:19\n' +
    '    at getSecret (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\jsonwebtoken\\verify.js:97:14)\n' +
    '    at module.exports [as verify] (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\jsonwebtoken\\verify.js:101:10)\n' +
    '    at Array.authenticateSocket (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\socket\\socketHandler.js:27:25)\n' +
    '    at run (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\socket.io\\dist\\namespace.js:130:19)\n' +
    '    at Namespace.run (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\socket.io\\dist\\namespace.js:141:9)\n' +
    '    at Namespace._add (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\socket.io\\dist\\namespace.js:218:14)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)',
  timestamp: '2025-09-01 14:39:52'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID LdTCo58u1rT0pSurAAAD from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:39:55'
}
{
  service: 'collabcode-backend',
  name: 'JsonWebTokenError',
  message: '💥 WebSocket Authentication Error for socket LdTCo58u1rT0pSurAAAD: invalid signature',
  level: 'error',
  stack: 'JsonWebTokenError: invalid signature\n' +
    '    at C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\jsonwebtoken\\verify.js:171:19\n' +
    '    at getSecret (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\jsonwebtoken\\verify.js:97:14)\n' +
    '    at module.exports [as verify] (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\jsonwebtoken\\verify.js:101:10)\n' +
    '    at Array.authenticateSocket (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\socket\\socketHandler.js:27:25)\n' +
    '    at run (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\socket.io\\dist\\namespace.js:130:19)\n' +
    '    at Namespace.run (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\socket.io\\dist\\namespace.js:141:9)\n' +
    '    at Namespace._add (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\socket.io\\dist\\namespace.js:218:14)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)',
  timestamp: '2025-09-01 14:39:55'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID tm03LPkuFHtXpwmCAAAF from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:39:59'
}
{
  service: 'collabcode-backend',
  name: 'JsonWebTokenError',
  message: '💥 WebSocket Authentication Error for socket tm03LPkuFHtXpwmCAAAF: invalid signature',
  level: 'error',
  stack: 'JsonWebTokenError: invalid signature\n' +
    '    at C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\jsonwebtoken\\verify.js:171:19\n' +
    '    at getSecret (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\jsonwebtoken\\verify.js:97:14)\n' +
    '    at module.exports [as verify] (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\jsonwebtoken\\verify.js:101:10)\n' +
    '    at Array.authenticateSocket (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\socket\\socketHandler.js:27:25)\n' +
    '    at run (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\socket.io\\dist\\namespace.js:130:19)\n' +
    '    at Namespace.run (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\socket.io\\dist\\namespace.js:141:9)\n' +
    '    at Namespace._add (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\socket.io\\dist\\namespace.js:218:14)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)',
  timestamp: '2025-09-01 14:39:59'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID r3w3u8CVzDJQqFtgAAAH from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:05'
}
{
  service: 'collabcode-backend',
  name: 'JsonWebTokenError',
  message: '💥 WebSocket Authentication Error for socket r3w3u8CVzDJQqFtgAAAH: invalid signature',
  level: 'error',
  stack: 'JsonWebTokenError: invalid signature\n' +
    '    at C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\jsonwebtoken\\verify.js:171:19\n' +
    '    at getSecret (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\jsonwebtoken\\verify.js:97:14)\n' +
    '    at module.exports [as verify] (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\jsonwebtoken\\verify.js:101:10)\n' +
    '    at Array.authenticateSocket (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\socket\\socketHandler.js:27:25)\n' +
    '    at run (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\socket.io\\dist\\namespace.js:130:19)\n' +
    '    at Namespace.run (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\socket.io\\dist\\namespace.js:141:9)\n' +
    '    at Namespace._add (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\socket.io\\dist\\namespace.js:218:14)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)',
  timestamp: '2025-09-01 14:40:05'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:07'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:10'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:10'
}
{
  message: 'POST /api/auth/login - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:19'
}
{
  message: 'User logged in: adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:19'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID mJKXL-XeRUTgJYzqAAAJ from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:19'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket mJKXL-XeRUTgJYzqAAAJ',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:19'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: mJKXL-XeRUTgJYzqAAAJ)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:19'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:19'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:19'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:19',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:19'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:19'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:19'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:19'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:21'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:21'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:21'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:21'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:21'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b2326a3dab11194ba0b2',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 14:40:21'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:21'
}
{
  message: '🆕 New Project Room Created: project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:21'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:21'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:21'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:21'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:21'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:21'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:21'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket rbOyTgxf2LBkO4zOAAAK',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:24'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: rbOyTgxf2LBkO4zOAAAK)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:24'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 813,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-01 14:40:24'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:24'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:25'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:25'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:26'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:26'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:26'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:26'
}
{
  service: 'collabcode-backend',
  code: 'ERR_INVALID_ARG_TYPE',
  level: 'error',
  message: '💥 File sync failed for project 68b2b2326a3dab11194ba0b2: The "path" argument must be of type string. Received an instance of ObjectId',
  stack: 'TypeError [ERR_INVALID_ARG_TYPE]: The "path" argument must be of type string. Received an instance of ObjectId\n' +
    '    at Object.join (node:path:478:7)\n' +
    '    at syncProjectToDisk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\fileSync.js:16:29)\n' +
    '    at C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\routes\\files.js:340:15\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)',
  timestamp: '2025-09-01 14:40:26'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:26'
}
{
  message: 'Completion cancelled for socket rbOyTgxf2LBkO4zOAAAK',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:27'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:27'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:34'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:34'
}
{
  service: 'collabcode-backend',
  level: 'error',
  message: 'Error during completion generation: token.trim is not a function',
  stack: 'TypeError: token.trim is not a function\n' +
    '    at C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\routes\\completions.js:111:30\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)',
  timestamp: '2025-09-01 14:40:38'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket nCIVBE5AMacOrcBjAAAM',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:49'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: nCIVBE5AMacOrcBjAAAM)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:49'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 815,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-01 14:40:49'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:49'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:51'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket EjquqthL71jeg3elAAAO',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:51'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: EjquqthL71jeg3elAAAO)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:51'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 815,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-01 14:40:51'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:51'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:51'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:51'
}
{
  message: 'Completion cancelled for socket nCIVBE5AMacOrcBjAAAM',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:53'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:53'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:53'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:53'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:53'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:53'
}
{
  service: 'collabcode-backend',
  code: 'ERR_INVALID_ARG_TYPE',
  level: 'error',
  message: '💥 File sync failed for project 68b2b2326a3dab11194ba0b2: The "path" argument must be of type string. Received an instance of ObjectId',
  stack: 'TypeError [ERR_INVALID_ARG_TYPE]: The "path" argument must be of type string. Received an instance of ObjectId\n' +
    '    at Object.join (node:path:478:7)\n' +
    '    at syncProjectToDisk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\fileSync.js:16:29)\n' +
    '    at C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\routes\\files.js:340:15\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)',
  timestamp: '2025-09-01 14:40:53'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:53'
}
{
  message: 'Completion cancelled for socket EjquqthL71jeg3elAAAO',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:55'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:55'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:59'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:40:59'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:41:02'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:41:02'
}
{
  service: 'collabcode-backend',
  level: 'error',
  message: 'Error during completion generation: token.trim is not a function',
  stack: 'TypeError: token.trim is not a function\n' +
    '    at C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\routes\\completions.js:111:30\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)',
  timestamp: '2025-09-01 14:41:04'
}
{
  service: 'collabcode-backend',
  level: 'error',
  message: 'Error during completion generation: token.trim is not a function',
  stack: 'TypeError: token.trim is not a function\n' +
    '    at C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\routes\\completions.js:111:30\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)',
  timestamp: '2025-09-01 14:41:06'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:50'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:50'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:50'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:50'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:50'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:50'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:50'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:50'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:50'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID G6wzS76bO3sU1wAkAAAB from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:50'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket G6wzS76bO3sU1wAkAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:50'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: G6wzS76bO3sU1wAkAAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:50'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:50'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:50'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:50',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:50'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b2326a3dab11194ba0b2',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 14:42:50'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:50'
}
{
  message: '🆕 New Project Room Created: project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:50'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:50'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:50'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:50'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:50'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:50'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: G6wzS76bO3sU1wAkAAAB) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:54'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:54'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:54'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:54'
}
{
  message: '👥 Remaining users in project 68b2b2326a3dab11194ba0b2: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:54'
}
{
  message: '🗑️ Empty project room 68b2b2326a3dab11194ba0b2 cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:54'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:54'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:54'
}
{
  message: '🧹 Cleanup: Stopped container session for socket G6wzS76bO3sU1wAkAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:54'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:55'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:55'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:55'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID po4NBCOw2iIvA9YSAAAD from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:55'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket po4NBCOw2iIvA9YSAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:55'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: po4NBCOw2iIvA9YSAAAD)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:55'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:55'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:55'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:56',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:56'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b2326a3dab11194ba0b2',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 14:42:56'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:56'
}
{
  message: '🆕 New Project Room Created: project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:56'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:56'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:56'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:56'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:56'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:56'
}
{
  message: 'User adnan99@gmail.com left project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:56'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:57'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:57'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:57'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:57'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:58'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:58'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:58'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:58'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:58'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b2326a3dab11194ba0b2',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 14:42:58'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:58'
}
{
  message: '🆕 New Project Room Created: project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:58'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:58'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:58'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:58'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:58'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:58'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:42:58'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket eoKJbWuLgYSvJdZgAAAE',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:43:00'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: eoKJbWuLgYSvJdZgAAAE)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:43:00'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 817,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-01 14:43:00'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:43:00'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:43:02'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:43:02'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:43:03'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:43:03'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:43:03'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:43:03'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:43:03'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:43:03'
}
{
  message: 'Completion cancelled for socket eoKJbWuLgYSvJdZgAAAE',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:43:05'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:43:05'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:43:08'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:43:08'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:43:08'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:43:08'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:43:08'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:43:08'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:43:10'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:43:11'
}
{
  message: 'Completion generated successfully, total length: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:43:15'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:43:15'
}
{
  message: 'POST /api/chatbot/session - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:43:51'
}
{
  message: 'POST /api/chatbot/session - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:43:51'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket KItxj-UADo22htIkAAAG',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:43:53'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: KItxj-UADo22htIkAAAG)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:43:53'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 819,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-01 14:43:53'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:43:53'
}
{
  message: 'Completion finished for adnan99@gmail.com: 1 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:43:57'
}
{
  message: 'POST /api/chatbot/query - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:44:03'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:13'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:13'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:13'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:13'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:13'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:13'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:13'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:13'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:13'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID j3wFgl6Q8xEQ4ntrAAAB from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:13'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket j3wFgl6Q8xEQ4ntrAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:13'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: j3wFgl6Q8xEQ4ntrAAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:13'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:13'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:13'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:13',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:13'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b2326a3dab11194ba0b2',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 14:45:13'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:13'
}
{
  message: '🆕 New Project Room Created: project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:13'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:13'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:13'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:13'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:13'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:13'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket -oYj7NKGlSCpPzSdAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:13'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: -oYj7NKGlSCpPzSdAAAD)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:13'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 819,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-01 14:45:13'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:13'
}
{
  message: 'Completion finished for adnan99@gmail.com: 1 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:18'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:26'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket s9nuXZf8isVVvYZhAAAF',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:26'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: s9nuXZf8isVVvYZhAAAF)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:26'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 819,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-01 14:45:26'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:26'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:26'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:26'
}
{
  message: 'Completion cancelled for socket s9nuXZf8isVVvYZhAAAF',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:28'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:28'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:33'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:34'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:34'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:34'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:34'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:34'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:36'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:36'
}
{
  message: 'Completion generated successfully, total length: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:40'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:45:40'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:46:12'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:46:12'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:46:12'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:46:12'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:46:12'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:46:12'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:46:12'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:46:12'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:46:12'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID Elz69NDc9D9acXV5AAAB from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:46:12'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket Elz69NDc9D9acXV5AAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:46:12'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: Elz69NDc9D9acXV5AAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:46:12'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:46:12'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:46:12'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:46:12',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:46:12'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b2326a3dab11194ba0b2',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 14:46:12'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:46:12'
}
{
  message: '🆕 New Project Room Created: project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:46:12'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:46:12'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:46:12'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:46:12'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:46:12'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:46:12'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:46:51'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:46:51'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:46:51'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:46:51'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:46:51'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:46:51'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: Elz69NDc9D9acXV5AAAB) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:19'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:19'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:19'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:19'
}
{
  message: '👥 Remaining users in project 68b2b2326a3dab11194ba0b2: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:19'
}
{
  message: '🗑️ Empty project room 68b2b2326a3dab11194ba0b2 cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:19'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:19'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:19'
}
{
  message: '🧹 Cleanup: Stopped container session for socket Elz69NDc9D9acXV5AAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:19'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:20'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID NunNff-5vcHTMlwAAAAD from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:20'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket NunNff-5vcHTMlwAAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:20'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: NunNff-5vcHTMlwAAAAD)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:20'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:20'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:20'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:20'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:20'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:20',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:20'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:20'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:20'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:20'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b2326a3dab11194ba0b2',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 14:47:20'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:20'
}
{
  message: '🆕 New Project Room Created: project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:20'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:20'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:20'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:20'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:20'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:20'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket BWRHaz6eDi7AAelaAAAE',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:28'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: BWRHaz6eDi7AAelaAAAE)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:28'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 825,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-01 14:47:28'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:28'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:29'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket hTLlO0fRnlv3zB1qAAAG',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:29'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: hTLlO0fRnlv3zB1qAAAG)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:29'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 825,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-01 14:47:29'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:29'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:29'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:29'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:30'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:30'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:30'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:30'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:30'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:30'
}
{
  message: 'Completion cancelled for socket BWRHaz6eDi7AAelaAAAE',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:30'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:30'
}
{
  message: 'Completion cancelled for socket hTLlO0fRnlv3zB1qAAAG',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:31'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:31'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:38'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:38'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:39'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:39'
}
{
  message: 'Completion generated successfully, total length: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:42'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:42'
}
{
  message: 'Completion generated successfully, total length: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:44'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:47:44'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:51:29'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:51:29'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:51:29'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:51:29'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:51:29'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:51:29'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:51:29'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:51:29'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:51:29'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID gPfnP-aEtHfbEaseAAAB from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:51:29'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket gPfnP-aEtHfbEaseAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:51:29'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: gPfnP-aEtHfbEaseAAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:51:29'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:51:29'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:51:29'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:51:29',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:51:29'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b2326a3dab11194ba0b2',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 14:51:29'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:51:29'
}
{
  message: '🆕 New Project Room Created: project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:51:29'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:51:29'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:51:29'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:51:29'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:51:29'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:51:29'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: gPfnP-aEtHfbEaseAAAB) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:02'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:02'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:02'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:02'
}
{
  message: '👥 Remaining users in project 68b2b2326a3dab11194ba0b2: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:02'
}
{
  message: '🗑️ Empty project room 68b2b2326a3dab11194ba0b2 cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:02'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:02'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:02'
}
{
  message: '🧹 Cleanup: Stopped container session for socket gPfnP-aEtHfbEaseAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:02'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:03'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:03'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:03'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID w1kSuQPmxoe3IoMHAAAD from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:04'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket w1kSuQPmxoe3IoMHAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:04'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: w1kSuQPmxoe3IoMHAAAD)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:04'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:04'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:04'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:04',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:04'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b2326a3dab11194ba0b2',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 14:54:04'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:04'
}
{
  message: '🆕 New Project Room Created: project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:04'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:04'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:04'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:04'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:04'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:04'
}
{
  message: 'User adnan99@gmail.com left project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:04'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:05'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:05'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:05'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:05'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:06'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:06'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:06'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:06'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:06'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b2326a3dab11194ba0b2',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 14:54:06'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:06'
}
{
  message: '🆕 New Project Room Created: project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:06'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:06'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:06'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:06'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:06'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:06'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:06'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket bxbXAEjz9hf59V_6AAAE',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:09'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: bxbXAEjz9hf59V_6AAAE)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:09'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 826,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-01 14:54:09'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:09'
}
{
  message: 'Completion finished for adnan99@gmail.com: 1 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:10'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:10'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:10'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:11'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:12'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:12'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:12'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:12'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:12'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:15'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:15'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:15'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:15'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:15'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:15'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:19'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:19'
}
{
  message: 'Completion generated successfully, total length: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:20'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:54:20'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:58:36'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:58:36'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:58:36'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:58:36'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:58:36'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:58:36'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:58:36'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:58:36'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:58:36'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:58:54'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:58:54'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:58:54'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:58:54'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:58:54'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:58:54'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:58:56'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:58:56'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:58:56'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:58:56'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:58:56'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:58:56'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:59:00'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:59:00'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:59:00'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:59:00'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:59:00'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 14:59:00'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket pHnTizMDXra4PyYAAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:00:21'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: pHnTizMDXra4PyYAAAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:00:21'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 833,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-01 15:00:21'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:00:21'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:00:21'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:00:21'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:00:22'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:00:22'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:00:22'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:00:22'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:00:22'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:00:22'
}
{
  message: 'Completion cancelled for socket pHnTizMDXra4PyYAAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:00:23'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:00:23'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:00:29'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:00:29'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:00:29'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:00:29'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:00:29'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:00:29'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:00:31'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:00:31'
}
{
  message: 'Completion generated successfully, total length: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:00:32'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:00:32'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:00:37'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:00:37'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:00:37'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:00:37'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:00:37'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:00:37'
}
{
  message: 'POST /api/chatbot/session - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:03:10'
}
{
  message: 'POST /api/chatbot/session - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:03:10'
}
{
  message: 'POST /api/chatbot/query - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:03:12'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:03:26'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID DF5jtxhGJqXFx5g-AAAD from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:03:26'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket DF5jtxhGJqXFx5g-AAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:03:26'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: DF5jtxhGJqXFx5g-AAAD)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:03:26'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:03:26'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:03:26'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:03:26'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:03:26'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:03:26'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:03:26'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:03:26',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:03:26'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b2326a3dab11194ba0b2',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 15:03:26'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:03:26'
}
{
  message: '🆕 New Project Room Created: project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:03:26'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:03:26'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:03:26'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:03:26'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:03:26'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:03:26'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:03:26'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:12:30'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:12:30'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:12:30'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:12:30'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:12:30'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:12:30'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:12:30'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:12:30'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:12:30'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID ngzUBuB_BpmC9zs7AAAB from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:12:32'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket ngzUBuB_BpmC9zs7AAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:12:32'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: ngzUBuB_BpmC9zs7AAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:12:32'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:12:32'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:12:32'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:12:32',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:12:32'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b2326a3dab11194ba0b2',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 15:12:32'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:12:32'
}
{
  message: '🆕 New Project Room Created: project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:12:32'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:12:32'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:12:32'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:12:32'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:12:32'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 15:12:32'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: ngzUBuB_BpmC9zs7AAAB) - Reason: ping timeout',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:33:50'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:33:50'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:33:50'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:33:50'
}
{
  message: '👥 Remaining users in project 68b2b2326a3dab11194ba0b2: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:33:50'
}
{
  message: '🗑️ Empty project room 68b2b2326a3dab11194ba0b2 cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:33:50'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:33:50'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:33:50'
}
{
  message: '🧹 Cleanup: Stopped container session for socket ngzUBuB_BpmC9zs7AAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:33:50'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID 2VBqSUFUGG7ZAtF1AAAD from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:10'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket 2VBqSUFUGG7ZAtF1AAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:10'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: 2VBqSUFUGG7ZAtF1AAAD)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:10'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:10'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:10'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:10',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:10'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b2326a3dab11194ba0b2',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 16:34:10'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:10'
}
{
  message: '🆕 New Project Room Created: project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:10'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:10'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:10'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:10'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:10'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:10'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket scByHI-G6hd7IUDfAAAE',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:17'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: scByHI-G6hd7IUDfAAAE)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:17'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 22,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-01 16:34:17'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:17'
}
{
  message: 'Completion finished for adnan99@gmail.com: 1 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:19'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:28'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket 7T2J_HM85Cd6Nm31AAAG',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:28'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: 7T2J_HM85Cd6Nm31AAAG)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:28'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 22,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-01 16:34:28'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:28'
}
{
  message: 'Completion finished for adnan99@gmail.com: 1 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:29'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:33'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:33'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:34'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:35'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:35'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:35'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:35'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:35'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:38'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:38'
}
{
  message: 'Client disconnected during completion generation for user 6894f6135cbf1256c0f77008',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:39'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:34:39'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:46:06'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:46:06'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:46:06'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:46:06'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:46:06'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:46:06'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:46:10'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:46:10'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:46:10'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:46:10'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:46:10'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:46:10'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:46:17'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:46:17'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:46:17'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:46:17'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:46:17'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:46:17'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:55:26'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:55:26'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:55:26'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:55:26'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:55:26'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:55:26'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: 2VBqSUFUGG7ZAtF1AAAD) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:54'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:54'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:54'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:54'
}
{
  message: '👥 Remaining users in project 68b2b2326a3dab11194ba0b2: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:54'
}
{
  message: '🗑️ Empty project room 68b2b2326a3dab11194ba0b2 cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:54'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:54'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:54'
}
{
  message: '🧹 Cleanup: Stopped container session for socket 2VBqSUFUGG7ZAtF1AAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:54'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:55'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:56'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:56'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID 4i_ysq3q4jzLv8CgAAAI from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:56'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket 4i_ysq3q4jzLv8CgAAAI',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:56'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: 4i_ysq3q4jzLv8CgAAAI)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:56'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:56'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:56'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:56',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:56'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b2326a3dab11194ba0b2',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 16:56:56'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:56'
}
{
  message: '🆕 New Project Room Created: project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:56'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:56'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:56'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:56'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:56'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:56'
}
{
  message: 'User adnan99@gmail.com left project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:57'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:58'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:58'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:58'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:56:58'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:57:01'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:57:01'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:57:01'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:57:01'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:57:01'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b2326a3dab11194ba0b2',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 16:57:01'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:57:01'
}
{
  message: '🆕 New Project Room Created: project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:57:01'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:57:01'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:57:01'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:57:01'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:57:01'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:57:01'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:57:01'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket 8vcXWY_hXfAaC-a5AAAJ',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:57:05'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: 8vcXWY_hXfAaC-a5AAAJ)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:57:05'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 30,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-01 16:57:05'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:57:05'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:57:06'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:57:07'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:57:07'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:57:07'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:57:07'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:57:07'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:57:07'
}
{
  message: 'Completion cancelled for socket 8vcXWY_hXfAaC-a5AAAJ',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:57:07'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:57:07'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:57:15'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:57:15'
}
{
  message: 'Client disconnected during completion generation for user 6894f6135cbf1256c0f77008',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:57:16'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:57:16'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: 4i_ysq3q4jzLv8CgAAAI) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:04'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:04'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:04'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:04'
}
{
  message: '👥 Remaining users in project 68b2b2326a3dab11194ba0b2: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:04'
}
{
  message: '🗑️ Empty project room 68b2b2326a3dab11194ba0b2 cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:04'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:04'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:04'
}
{
  message: '🧹 Cleanup: Stopped container session for socket 4i_ysq3q4jzLv8CgAAAI',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:04'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:05'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:06'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:06'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID IEbJexdLNUSSkeiEAAAL from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:06'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket IEbJexdLNUSSkeiEAAAL',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:06'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: IEbJexdLNUSSkeiEAAAL)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:06'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:06'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:06'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:06',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:06'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b2326a3dab11194ba0b2',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 16:58:06'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:06'
}
{
  message: '🆕 New Project Room Created: project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:06'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:06'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:06'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:06'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:06'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:06'
}
{
  message: 'User adnan99@gmail.com left project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:07'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:08'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:08'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:08'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:08'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:09'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:09'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:09'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:09'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:09'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b2326a3dab11194ba0b2',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 16:58:09'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:10'
}
{
  message: '🆕 New Project Room Created: project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:10'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:10'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:10'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:10'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:10'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:10'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:10'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket yavJT2gZVP7fEtCDAAAM',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:14'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: yavJT2gZVP7fEtCDAAAM)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:14'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 31,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-01 16:58:14'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:14'
}
{
  message: 'Completion finished for adnan99@gmail.com: 1 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:15'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:17'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:18'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:18'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:18'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:18'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:18'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:18'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:23'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:23'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:23'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:23'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:23'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:23'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:24'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:24'
}
{
  message: 'Client disconnected during completion generation for user 6894f6135cbf1256c0f77008',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:25'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 16:58:25'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:11'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:11'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:11'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:11'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:11'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:11'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:25'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:25'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:25'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:25'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:25'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:25'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:25'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:25'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:25'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID s5NgWTAGs6EY6OqjAAAB from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:27'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket s5NgWTAGs6EY6OqjAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:27'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: s5NgWTAGs6EY6OqjAAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:27'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:27'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:27'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:27',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:27'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b2326a3dab11194ba0b2',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 17:00:27'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:27'
}
{
  message: '🆕 New Project Room Created: project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:27'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:27'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:27'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:27'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:27'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:27'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: s5NgWTAGs6EY6OqjAAAB) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:38'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:38'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:38'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:38'
}
{
  message: '👥 Remaining users in project 68b2b2326a3dab11194ba0b2: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:38'
}
{
  message: '🗑️ Empty project room 68b2b2326a3dab11194ba0b2 cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:38'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:38'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:38'
}
{
  message: '🧹 Cleanup: Stopped container session for socket s5NgWTAGs6EY6OqjAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:38'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:39'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID YIaW3ydv4iZ9nPiyAAAD from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:39'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket YIaW3ydv4iZ9nPiyAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:39'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: YIaW3ydv4iZ9nPiyAAAD)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:39'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:39'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:39'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:39',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:40'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:40'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:40'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:40'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:40'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:40'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b2326a3dab11194ba0b2',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 17:00:40'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:40'
}
{
  message: '🆕 New Project Room Created: project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:40'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:40'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:40'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:40'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:40'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:40'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket XbDOKwcR_r-zXbuRAAAE',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:47'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: XbDOKwcR_r-zXbuRAAAE)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:47'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 30,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-01 17:00:47'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:47'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:47'
}
{
  message: '📝 Enhanced prompt for completion (609 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:47'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:47'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:48'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ""\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 148,\n' +
    '    "totalTokenCount": 148,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 148\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "8Iq1aLbqE6CXgLUPxryQgAI"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:48'
}
{
  message: '✅ Token extracted via chunk.text(): ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:48'
}
{
  message: '✅ Token extracted via candidates: ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:48'
}
{
  message: '📊 CHUNK SUMMARY: token="", hasToken=false, tokenLength=0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:48'
}
{
  message: '⚠️ EMPTY TOKEN - chunk keys: candidates, usageMetadata, modelVersion, responseId, text, functionCall, functionCalls',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:48'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ""\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 147,\n' +
    '    "totalTokenCount": 147,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 147\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "8Iq1aLbqE6CXgLUPxryQgAI"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:48'
}
{
  message: '✅ Token extracted via chunk.text(): ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:48'
}
{
  message: '✅ Token extracted via candidates: ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:48'
}
{
  message: '📊 CHUNK SUMMARY: token="", hasToken=false, tokenLength=0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:48'
}
{
  message: '⚠️ EMPTY TOKEN - chunk keys: candidates, usageMetadata, modelVersion, responseId, text, functionCall, functionCalls',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:48'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:48'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:48'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"","done":true,"sessionId":"XbDOKwcR_r-zXbuRAAAE","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:48'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:48'
}
{
  message: 'Completion finished for adnan99@gmail.com: 1 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:48'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:48'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:48'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:49'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:49'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:49'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:49'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:50'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:50'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:57'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:57'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:57'
}
{
  message: '📝 Enhanced prompt for completion (609 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:57'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:57'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:57'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:57'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:57'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:57'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:57'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:57'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:58'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ""\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 148,\n' +
    '    "totalTokenCount": 148,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 148\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "-Yq1aKruN57agLUPkJqWwA8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:58'
}
{
  message: '✅ Token extracted via chunk.text(): ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:58'
}
{
  message: '✅ Token extracted via candidates: ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:58'
}
{
  message: '📊 CHUNK SUMMARY: token="", hasToken=false, tokenLength=0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:58'
}
{
  message: '⚠️ EMPTY TOKEN - chunk keys: candidates, usageMetadata, modelVersion, responseId, text, functionCall, functionCalls',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:58'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ""\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 147,\n' +
    '    "totalTokenCount": 147,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 147\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "-Yq1aKruN57agLUPkJqWwA8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:58'
}
{
  message: '✅ Token extracted via chunk.text(): ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:58'
}
{
  message: '✅ Token extracted via candidates: ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:58'
}
{
  message: '📊 CHUNK SUMMARY: token="", hasToken=false, tokenLength=0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:58'
}
{
  message: '⚠️ EMPTY TOKEN - chunk keys: candidates, usageMetadata, modelVersion, responseId, text, functionCall, functionCalls',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:58'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:58'
}
{
  message: 'Client disconnected during completion generation for user 6894f6135cbf1256c0f77008',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:58'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:00:58'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:36'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:36'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:36'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:36'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:36'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:36'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:36'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:36'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:36'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID Ei1wLHUQWA2gqeqQAAAB from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:36'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket Ei1wLHUQWA2gqeqQAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:36'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: Ei1wLHUQWA2gqeqQAAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:36'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:36'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:36'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:36',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:36'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b2326a3dab11194ba0b2',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 17:04:36'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:36'
}
{
  message: '🆕 New Project Room Created: project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:36'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:36'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:36'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:36'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:36'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:36'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:58'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:59'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:59'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:59'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:59'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:59'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:59'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:04:59'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:00'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:00'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:00'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:00'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: Ei1wLHUQWA2gqeqQAAAB) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:34'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:34'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:34'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:34'
}
{
  message: '👥 Remaining users in project 68b2b2326a3dab11194ba0b2: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:34'
}
{
  message: '🗑️ Empty project room 68b2b2326a3dab11194ba0b2 cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:34'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:34'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:34'
}
{
  message: '🧹 Cleanup: Stopped container session for socket Ei1wLHUQWA2gqeqQAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:34'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:35'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID UsFddBTjd3-uK4-LAAAD from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:36'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket UsFddBTjd3-uK4-LAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:36'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: UsFddBTjd3-uK4-LAAAD)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:36'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:36'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:36'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:36',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:36'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:36'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:36'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:36'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:36'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b2326a3dab11194ba0b2',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 17:05:36'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:36'
}
{
  message: '🆕 New Project Room Created: project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:36'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:36'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:36'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:36'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:36'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:36'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:36'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket QispUfoWejrX_ZV-AAAE',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:39'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: QispUfoWejrX_ZV-AAAE)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:39'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 35,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-01 17:05:39'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:39'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:39'
}
{
  message: '📝 Enhanced prompt for completion (614 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:39'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:39'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:39'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:39'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:40'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "```"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 149,\n' +
    '    "totalTokenCount": 149,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 149\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "FIy1aKjzF6CXgLUPxryQgAI"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:40'
}
{
  message: '✅ Token extracted via chunk.text(): "```"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:40'
}
{
  message: '📊 CHUNK SUMMARY: token="```", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:40'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"```","completionText":"```","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:40'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"```","completionText":"```","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:40'
}
{
  message: 'Completion cancelled for socket QispUfoWejrX_ZV-AAAE',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:40'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:40'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:41'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:41'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:41'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:41'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:41'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:41'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:49'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:49'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:49'
}
{
  message: '📝 Enhanced prompt for completion (614 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:49'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:49'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:50'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "```"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 149,\n' +
    '    "totalTokenCount": 149,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 149\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "HYy1aNmjJbahgLUPuo6YkAE"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:50'
}
{
  message: '✅ Token extracted via chunk.text(): "```"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:50'
}
{
  message: '📊 CHUNK SUMMARY: token="```", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:50'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"```","completionText":"```","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:50'
}
{
  message: 'Client disconnected during completion generation for user 6894f6135cbf1256c0f77008',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:50'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:05:50'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket MqZ3IIlWTdlXHZoKAAAG',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:24'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: MqZ3IIlWTdlXHZoKAAAG)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:24'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 38,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-01 17:06:24'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:24'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:24'
}
{
  message: '📝 Enhanced prompt for completion (617 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:24'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:24'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:25'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:25'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:25'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "```"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 149,\n' +
    '    "totalTokenCount": 149,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 149\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "QYy1aLGTEbahgLUPuo6YkAE"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:25'
}
{
  message: '✅ Token extracted via chunk.text(): "```"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:25'
}
{
  message: '📊 CHUNK SUMMARY: token="```", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:25'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"```","completionText":"```","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:25'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"```","completionText":"```","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:25'
}
{
  message: 'Completion cancelled for socket MqZ3IIlWTdlXHZoKAAAG',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:25'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:25'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:26'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:26'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:26'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:26'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:26'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:26'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:29'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:29'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:29'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:29'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:29'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:29'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:34'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:34'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:34'
}
{
  message: '📝 Enhanced prompt for completion (617 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:34'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:34'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:35'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "```"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 149,\n' +
    '    "totalTokenCount": 149,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 149\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Soy1aK6XKomXgLUP-pbW2AI"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:35'
}
{
  message: '✅ Token extracted via chunk.text(): "```"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:35'
}
{
  message: '📊 CHUNK SUMMARY: token="```", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:35'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"```","completionText":"```","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:35'
}
{
  message: 'Client disconnected during completion generation for user 6894f6135cbf1256c0f77008',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:35'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:06:35'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:05'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:05'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:05'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:05'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:05'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:05'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:05'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:05'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:05'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:15'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:16'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:16'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID o0Wf4BcemRfD4j-yAAAB from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:16'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket o0Wf4BcemRfD4j-yAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:16'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: o0Wf4BcemRfD4j-yAAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:16'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:16'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:16'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:16',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b2326a3dab11194ba0b2',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 17:20:17'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:17'
}
{
  message: '🆕 New Project Room Created: project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:17'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:17'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:17'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:17'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:17'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:17'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:17'
}
{
  message: 'User adnan99@gmail.com left project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:18'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:19'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:19'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:19'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:19'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:21'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:22'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:22'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:22'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:22'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:22'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b2326a3dab11194ba0b2',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 17:20:22'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:22'
}
{
  message: '🆕 New Project Room Created: project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:22'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:22'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:22'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:22'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:22'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:22'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket T4OTHRMmojdCVXsgAAAC',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:25'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: T4OTHRMmojdCVXsgAAAC)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:25'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 36,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-01 17:20:25'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:25'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:25'
}
{
  message: '📝 Enhanced prompt for completion (701 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:25'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:25'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:26'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "ld"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 166,\n' +
    '    "totalTokenCount": 166,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 166\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "io-1aMvmHJeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:26'
}
{
  message: '✅ Token extracted via chunk.text(): "ld"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:26'
}
{
  message: '📊 CHUNK SUMMARY: token="ld", hasToken=true, tokenLength=2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:26'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"ld","completionText":"ld","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"ld","completionText":"ld","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"ld","completionText":"ld","done":false,"sessionId":"T4OTHRMmojdCVXsgAAAC","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:26'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\");\\nconst port = 3000;\\nhttp.createServer(("\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 166,\n' +
    '    "totalTokenCount": 166,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 166\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "io-1aMvmHJeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:26'
}
{
  message: '✅ Token extracted via chunk.text(): "");\n' +
    'const port = 3000;\n' +
    'http.createServer(("',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:26'
}
{
  message: '📊 CHUNK SUMMARY: token="");\n' +
    'const port = 3000;\n' +
    'http.createServer((", hasToken=true, tokenLength=42',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:26'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\");\\nconst port = 3000;\\nhttp.createServer((","completionText":"ld\\");\\nconst port = 3000;\\nhttp.createServer((","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\");\\nconst port = 3000;\\nhttp.createServer((","completionText":"ld\\");\\nconst port = 3000;\\nhttp.createServer((","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\");\\nconst port = 3000;\\nhttp.createServer((","completionText":"ld\\");\\nconst port = 3000;\\nhttp.createServer((","done":false,"sessionId":"T4OTHRMmojdCVXsgAAAC","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:26'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "req, res) => {\\n  res.end(\\"Hello World!\\");\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 166,\n' +
    '    "totalTokenCount": 166,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 166\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "io-1aMvmHJeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:27'
}
{
  message: '✅ Token extracted via chunk.text(): "req, res) => {\n' +
    '  res.end("Hello World!");\n' +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:27'
}
{
  message: '📊 CHUNK SUMMARY: token="req, res) => {\n' +
    '  res.end("Hello World!");\n' +
    '", hasToken=true, tokenLength=42',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:27'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"req, res) => {\\n  res.end(\\"Hello World!\\");\\n","completionText":"ld\\");\\nconst port = 3000;\\nhttp.createServer((req, res) => {\\n  res.end(\\"Hello World!\\");\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"req, res) => {\\n  res.end(\\"Hello World!\\");\\n","completionText":"ld\\");\\nconst port = 3000;\\nhttp.createServer((req, res) => {\\n  res.end(\\"Hello World!\\");\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"req, res) => {\\n  res.end(\\"Hello World!\\");\\n","completionText":"ld\\");\\nconst port = 3000;\\nhttp.createServer((req, res) => {\\n  res.end(\\"Hello World!\\");\\n","done":false,"sessionId":"T4OTHRMmojdCVXsgAAAC","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:27'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "}).listen(port);\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 165,\n' +
    '    "candidatesTokenCount": 39,\n' +
    '    "totalTokenCount": 204,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 165\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 39\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "io-1aMvmHJeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:27'
}
{
  message: '✅ Token extracted via chunk.text(): "}).listen(port);\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:27'
}
{
  message: '📊 CHUNK SUMMARY: token="}).listen(port);\n", hasToken=true, tokenLength=17',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:27'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"}).listen(port);\\n","completionText":"ld\\");\\nconst port = 3000;\\nhttp.createServer((req, res) => {\\n  res.end(\\"Hello World!\\");\\n}).listen(port);\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"}).listen(port);\\n","completionText":"ld\\");\\nconst port = 3000;\\nhttp.createServer((req, res) => {\\n  res.end(\\"Hello World!\\");\\n}).listen(port);\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"}).listen(port);\\n","completionText":"ld\\");\\nconst port = 3000;\\nhttp.createServer((req, res) => {\\n  res.end(\\"Hello World!\\");\\n}).listen(port);\\n","done":false,"sessionId":"T4OTHRMmojdCVXsgAAAC","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:27'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 103',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"ld\\");\\nconst port = 3000;\\nhttp.createServer((req, res) => {\\n  res.end(\\"Hello World!\\");\\n}).listen(port);\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"ld\\");\\nconst port = 3000;\\nhttp.createServer((req, res) => {\\n  res.end(\\"Hello World!\\");\\n}).listen(port);\\n","done":true,"sessionId":"T4OTHRMmojdCVXsgAAAC","tokenCount":5}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:27'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:27'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 103 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:27'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:20:27'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket qk2oJDYdGmtg9-UCAAAE',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:22:57'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: qk2oJDYdGmtg9-UCAAAE)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:22:57'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 36,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-01 17:22:57'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:22:57'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:22:57'
}
{
  message: '📝 Enhanced prompt for completion (701 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:22:57'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:22:57'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:22:58'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:22:58'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:22:58'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "ld"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 166,\n' +
    '    "totalTokenCount": 166,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 166\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "IpC1aJ2pH62m1dkP6puC6Q8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:22:58'
}
{
  message: '✅ Token extracted via chunk.text(): "ld"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:22:58'
}
{
  message: '📊 CHUNK SUMMARY: token="ld", hasToken=true, tokenLength=2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:22:58'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"ld","completionText":"ld","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:22:58'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"ld","completionText":"ld","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:22:58'
}
{
  message: 'Completion cancelled for socket qk2oJDYdGmtg9-UCAAAE',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:22:58'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:22:58'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:22:59'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:22:59'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:22:59'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:22:59'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:22:59'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:22:59'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:23:02'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:23:02'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:23:02'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:23:02'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:23:02'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:23:02'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:23:08'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:23:08'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:23:08'
}
{
  message: '📝 Enhanced prompt for completion (701 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:23:08'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:23:08'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:23:09'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "ld"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 166,\n' +
    '    "totalTokenCount": 166,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 166\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "LZC1aL3XEqCXgLUPxryQgAI"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:23:09'
}
{
  message: '✅ Token extracted via chunk.text(): "ld"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:23:09'
}
{
  message: '📊 CHUNK SUMMARY: token="ld", hasToken=true, tokenLength=2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:23:09'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"ld","completionText":"ld","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:23:09'
}
{
  message: 'Client disconnected during completion generation for user 6894f6135cbf1256c0f77008',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:23:09'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:23:09'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket S-a_y8cKzR2no50RAAAG',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:28'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: S-a_y8cKzR2no50RAAAG)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:28'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 38,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-01 17:24:28'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:28'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:28'
}
{
  message: '📝 Enhanced prompt for completion (703 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:28'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:28'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:28'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "const"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 166,\n' +
    '    "totalTokenCount": 166,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 166\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "fJC1aLiyHLahgLUPuo6YkAE"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:28'
}
{
  message: '✅ Token extracted via chunk.text(): "const"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:28'
}
{
  message: '📊 CHUNK SUMMARY: token="const", hasToken=true, tokenLength=5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:28'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:28'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:28'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"const","completionText":"const","done":false,"sessionId":"S-a_y8cKzR2no50RAAAG","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:28'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " express = require(\\"express\\");\\nconst app = express();\\nconst port ="\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 166,\n' +
    '    "totalTokenCount": 166,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 166\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "fJC1aLiyHLahgLUPuo6YkAE"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:29'
}
{
  message: '✅ Token extracted via chunk.text(): " express = require("express");\n' +
    'const app = express();\n' +
    'const port ="',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:29'
}
{
  message: '📊 CHUNK SUMMARY: token=" express = require("express");\n' +
    'const app = express();\n' +
    'const port =", hasToken=true, tokenLength=66',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:29'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" express = require(\\"express\\");\\nconst app = express();\\nconst port =","completionText":"const express = require(\\"express\\");\\nconst app = express();\\nconst port =","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:29'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" express = require(\\"express\\");\\nconst app = express();\\nconst port =","completionText":"const express = require(\\"express\\");\\nconst app = express();\\nconst port =","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:29'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" express = require(\\"express\\");\\nconst app = express();\\nconst port =","completionText":"const express = require(\\"express\\");\\nconst app = express();\\nconst port =","done":false,"sessionId":"S-a_y8cKzR2no50RAAAG","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:29'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " 3000;\\napp.get(\\"/\\", (req, res)"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 166,\n' +
    '    "totalTokenCount": 166,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 166\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "fJC1aLiyHLahgLUPuo6YkAE"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:29'
}
{
  message: '✅ Token extracted via chunk.text(): " 3000;\napp.get("/", (req, res)"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:29'
}
{
  message: '📊 CHUNK SUMMARY: token=" 3000;\n' +
    'app.get("/", (req, res)", hasToken=true, tokenLength=30',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:29'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" 3000;\\napp.get(\\"/\\", (req, res)","completionText":"const express = require(\\"express\\");\\nconst app = express();\\nconst port = 3000;\\napp.get(\\"/\\", (req, res)","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:29'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" 3000;\\napp.get(\\"/\\", (req, res)","completionText":"const express = require(\\"express\\");\\nconst app = express();\\nconst port = 3000;\\napp.get(\\"/\\", (req, res)","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:29'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" 3000;\\napp.get(\\"/\\", (req, res)","completionText":"const express = require(\\"express\\");\\nconst app = express();\\nconst port = 3000;\\napp.get(\\"/\\", (req, res)","done":false,"sessionId":"S-a_y8cKzR2no50RAAAG","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:29'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " => res.send(\\"Hello world!\\"));\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 165,\n' +
    '    "candidatesTokenCount": 43,\n' +
    '    "totalTokenCount": 208,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 165\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 43\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "fJC1aLiyHLahgLUPuo6YkAE"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:29'
}
{
  message: '✅ Token extracted via chunk.text(): " => res.send("Hello world!"));\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:29'
}
{
  message: '📊 CHUNK SUMMARY: token=" => res.send("Hello world!"));\n' +
    '", hasToken=true, tokenLength=31',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:29'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" => res.send(\\"Hello world!\\"));\\n","completionText":"const express = require(\\"express\\");\\nconst app = express();\\nconst port = 3000;\\napp.get(\\"/\\", (req, res) => res.send(\\"Hello world!\\"));\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:29'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" => res.send(\\"Hello world!\\"));\\n","completionText":"const express = require(\\"express\\");\\nconst app = express();\\nconst port = 3000;\\napp.get(\\"/\\", (req, res) => res.send(\\"Hello world!\\"));\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:29'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" => res.send(\\"Hello world!\\"));\\n","completionText":"const express = require(\\"express\\");\\nconst app = express();\\nconst port = 3000;\\napp.get(\\"/\\", (req, res) => res.send(\\"Hello world!\\"));\\n","done":false,"sessionId":"S-a_y8cKzR2no50RAAAG","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:29'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 132',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:29'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"const express = require(\\"express\\");\\nconst app = express();\\nconst port = 3000;\\napp.get(\\"/\\", (req, res) => res.send(\\"Hello world!\\"));\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:29'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"const express = require(\\"express\\");\\nconst app = express();\\nconst port = 3000;\\napp.get(\\"/\\", (req, res) => res.send(\\"Hello world!\\"));\\n","done":true,"sessionId":"S-a_y8cKzR2no50RAAAG","tokenCount":5}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:29'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:29'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 132 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:29'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:29'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:31'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:31'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:31'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:31'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:31'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:24:31'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:25:39'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:25:39'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:25:39'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:25:39'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:25:39'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:25:39'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:25:41'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:25:41'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:25:41'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:25:41'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:25:41'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:25:41'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:25:48'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:25:48'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:25:48'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:25:48'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:25:48'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:25:48'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:25:50'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:25:50'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:25:50'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:25:50'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:25:50'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:25:50'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:11'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:11'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:11'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:11'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:11'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:11'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:12'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:12'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:12'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:12'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:12'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:12'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:13'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:13'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:13'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:13'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:13'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:13'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:15'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:15'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:15'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:15'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:15'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:15'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:16'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:16'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:16'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:16'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:16'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:16'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:20'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:20'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:20'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:20'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:20'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:20'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:22'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:22'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:22'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:22'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:22'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:26:22'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:23'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:23'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:23'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:23'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:23'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:23'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:25'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:25'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:25'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:25'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:25'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:25'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:28'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:28'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:28'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:28'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:28'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:28'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket oTpEhDtKH1dEV4ttAAAI',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:28'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: oTpEhDtKH1dEV4ttAAAI)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:28'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 30,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-01 17:29:28'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:28'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:28'
}
{
  message: '📝 Enhanced prompt for completion (695 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:28'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:28'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:28'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:28'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:29'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:29'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:29'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:29'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:29'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:29'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:29'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "const"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 165,\n' +
    '    "totalTokenCount": 165,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 165\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "qZG1aLOpH6qigLUP48Ki8AU"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:29'
}
{
  message: '✅ Token extracted via chunk.text(): "const"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:29'
}
{
  message: '📊 CHUNK SUMMARY: token="const", hasToken=true, tokenLength=5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:29'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:29'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:29'
}
{
  message: 'Completion cancelled for socket oTpEhDtKH1dEV4ttAAAI',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:29'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:29'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:32'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:32'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:32'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:32'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:32'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:32'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:36'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:36'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:36'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:36'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:36'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:36'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:38'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:38'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:38'
}
{
  message: '📝 Enhanced prompt for completion (695 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:38'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:38'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:39'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "const"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 165,\n' +
    '    "totalTokenCount": 165,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 165\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "spG1aKrtLpCJ1dkPjteauQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:39'
}
{
  message: '✅ Token extracted via chunk.text(): "const"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:39'
}
{
  message: '📊 CHUNK SUMMARY: token="const", hasToken=true, tokenLength=5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:39'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:39'
}
{
  message: 'Client disconnected during completion generation for user 6894f6135cbf1256c0f77008',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:39'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:29:39'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket spTtlw_Tq6JOMyE7AAAK',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:24'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: spTtlw_Tq6JOMyE7AAAK)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:24'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 58,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-01 17:30:24'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:24'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:24'
}
{
  message: '📝 Enhanced prompt for completion (723 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:24'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:24'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:24'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:24'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:24'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "(\\""\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 173,\n' +
    '    "totalTokenCount": 173,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 173\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "4JG1aLDUHqqigLUP48Ki8AU"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:24'
}
{
  message: '✅ Token extracted via chunk.text(): "(""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:24'
}
{
  message: '📊 CHUNK SUMMARY: token="("", hasToken=true, tokenLength=2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:24'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"(\\"","completionText":"(\\"","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:24'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"(\\"","completionText":"(\\"","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:24'
}
{
  message: 'Completion cancelled for socket spTtlw_Tq6JOMyE7AAAK',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:24'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:24'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:26'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:26'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:26'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:26'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:26'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:26'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:28'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:28'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:28'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:28'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:28'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:28'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket Rs-Zik62rNSPr_CtAAAM',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:30'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: Rs-Zik62rNSPr_CtAAAM)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:30'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:30'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 69,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-01 17:30:30'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:30'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:30'
}
{
  message: '📝 Enhanced prompt for completion (734 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:30'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:30'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:30'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:30'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:30'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:30'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:30'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:31'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:31'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:31'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "const"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 175,\n' +
    '    "totalTokenCount": 175,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 175\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "55G1aMDXE62m1dkP6puC6Q8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:31'
}
{
  message: '✅ Token extracted via chunk.text(): "const"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:31'
}
{
  message: '📊 CHUNK SUMMARY: token="const", hasToken=true, tokenLength=5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:31'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:31'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:31'
}
{
  message: 'Completion cancelled for socket Rs-Zik62rNSPr_CtAAAM',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:31'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:31'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:32'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:32'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:32'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:32'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:32'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:32'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:34'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:34'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:34'
}
{
  message: '📝 Enhanced prompt for completion (723 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:34'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:34'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:34'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "(\\""\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 173,\n' +
    '    "totalTokenCount": 173,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 173\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "6pG1aP-XFJ7agLUPkJqWwA8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:34'
}
{
  message: '✅ Token extracted via chunk.text(): "(""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:34'
}
{
  message: '📊 CHUNK SUMMARY: token="("", hasToken=true, tokenLength=2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:34'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"(\\"","completionText":"(\\"","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:34'
}
{
  message: 'Client disconnected during completion generation for user 6894f6135cbf1256c0f77008',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:34'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:34'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:40'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:40'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:40'
}
{
  message: '📝 Enhanced prompt for completion (734 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:40'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:40'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:41'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "const"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 175,\n' +
    '    "totalTokenCount": 175,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 175\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "8JG1aN3YLerxgLUPzLW7mAo"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:41'
}
{
  message: '✅ Token extracted via chunk.text(): "const"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:41'
}
{
  message: '📊 CHUNK SUMMARY: token="const", hasToken=true, tokenLength=5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:41'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:41'
}
{
  message: 'Client disconnected during completion generation for user 6894f6135cbf1256c0f77008',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:41'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:30:41'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:31:37'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:31:37'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:31:38'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:31:38'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:31:38'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:31:38'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: o0Wf4BcemRfD4j-yAAAB) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:26'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:26'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:26'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:26'
}
{
  message: '👥 Remaining users in project 68b2b2326a3dab11194ba0b2: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:26'
}
{
  message: '🗑️ Empty project room 68b2b2326a3dab11194ba0b2 cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:26'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:26'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:26'
}
{
  message: '🧹 Cleanup: Stopped container session for socket o0Wf4BcemRfD4j-yAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:26'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID 6q-sNHafwtKWBFk3AAAO from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:26'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket 6q-sNHafwtKWBFk3AAAO',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:26'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: 6q-sNHafwtKWBFk3AAAO)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:26'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:26'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:26'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:26',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:27'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b2326a3dab11194ba0b2',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 17:32:27'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:27'
}
{
  message: '🆕 New Project Room Created: project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:27'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:27'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:27'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:27'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:27'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:27'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: 6q-sNHafwtKWBFk3AAAO) - Reason: transport error',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:27'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:27'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:27'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:27'
}
{
  message: '👥 Remaining users in project 68b2b2326a3dab11194ba0b2: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:27'
}
{
  message: '🗑️ Empty project room 68b2b2326a3dab11194ba0b2 cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:27'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:27'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:27'
}
{
  message: '🧹 Cleanup: Stopped container session for socket 6q-sNHafwtKWBFk3AAAO',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:27'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:27'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID UbRmOJuyz_unVy71AAAQ from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:28'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket UbRmOJuyz_unVy71AAAQ',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:28'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: UbRmOJuyz_unVy71AAAQ)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:28'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:28'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:28'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:28'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:28'
}
{
  message: 'GET /api/projects/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:28'
}
{
  message: 'GET /api/files/project/68b2b2326a3dab11194ba0b2 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:28'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:28',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:28'
}
{
  message: 'GET /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:29'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b2326a3dab11194ba0b2',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 17:32:29'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:29'
}
{
  message: '🆕 New Project Room Created: project:68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:29'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:29'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:29'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:29'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:29'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:29'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:38'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:38'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:38'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:38'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:38'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:38'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:41'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:41'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:41'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:41'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:41'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:41'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:42'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:42'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:42'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:42'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:42'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:42'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:45'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:45'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:45'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:45'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:45'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:32:45'
}
{
  message: 'POST /api/chatbot/session - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:34:39'
}
{
  message: 'POST /api/chatbot/session - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:34:39'
}
{
  message: 'PUT /api/files/68b2b23d6a3dab11194ba0cf - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:35:31'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:35:31'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b23d6a3dab11194ba0cf in project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:35:31'
}
{
  message: '📂 Starting file sync for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:35:31'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:35:31'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:35:31'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: UbRmOJuyz_unVy71AAAQ) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:36:57'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:36:57'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:36:57'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b2326a3dab11194ba0b2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:36:57'
}
{
  message: '👥 Remaining users in project 68b2b2326a3dab11194ba0b2: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:36:57'
}
{
  message: '🗑️ Empty project room 68b2b2326a3dab11194ba0b2 cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:36:57'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:36:57'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:36:57'
}
{
  message: '🧹 Cleanup: Stopped container session for socket UbRmOJuyz_unVy71AAAQ',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:36:57'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:36:57'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:36:58'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:36:58'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID goIo_AIX4rXfO9gbAAAS from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:36:58'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket goIo_AIX4rXfO9gbAAAS',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:36:58'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: goIo_AIX4rXfO9gbAAAS)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:36:58'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:36:58'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:36:58'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:36:58',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:36:59'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:36:59'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:36:59'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:36:59'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:02'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:02'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:02'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:02'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:02'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 17:37:02'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:02'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:02'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:02'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:02'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:02'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:02'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:02'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:02'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket GYQRLfc6iQMXZTJnAAAT',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:05'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: GYQRLfc6iQMXZTJnAAAT)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:05'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 65,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-01 17:37:05'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:05'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:05'
}
{
  message: '📝 Enhanced prompt for completion (730 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:05'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:05'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:05'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:06'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "app"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 175,\n' +
    '    "totalTokenCount": 175,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 175\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "cZO1aICUOr2XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:06'
}
{
  message: '✅ Token extracted via chunk.text(): "app"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:06'
}
{
  message: '📊 CHUNK SUMMARY: token="app", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:06'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:06'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:06'
}
{
  message: 'Completion cancelled for socket GYQRLfc6iQMXZTJnAAAT',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:06'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:06'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:06'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:06'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:06'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:06'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:06'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:06'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:15'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:15'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:15'
}
{
  message: '📝 Enhanced prompt for completion (730 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:15'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:15'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:16'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "app"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 175,\n' +
    '    "totalTokenCount": 175,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 175\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "e5O1aLGgO72XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:16'
}
{
  message: '✅ Token extracted via chunk.text(): "app"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:16'
}
{
  message: '📊 CHUNK SUMMARY: token="app", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:16'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:16'
}
{
  message: 'Client disconnected during completion generation for user 6894f6135cbf1256c0f77008',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:16'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:16'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:18'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:18'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:18'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:18'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:18'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:37:18'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:46:46'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:46:46'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:46:46'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:46:46'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:46:46'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:46:46'
}
{
  message: 'POST /api/completions/generate - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:46:54'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:46:54'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:46:54'
}
{
  message: '📝 Enhanced prompt for completion (735 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:46:54'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:46:54'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:46:55'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "const"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 179,\n' +
    '    "totalTokenCount": 179,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 179\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "vpW1aKiqPKCXgLUPxryQgAI"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:46:55'
}
{
  message: '✅ Token extracted via chunk.text(): "const"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:46:55'
}
{
  message: '📊 CHUNK SUMMARY: token="const", hasToken=true, tokenLength=5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:46:55'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:46:55'
}
{
  message: 'Client disconnected during completion generation for user 6894f6135cbf1256c0f77008',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:46:55'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:46:55'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:46:58'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:46:58'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:46:58'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:46:58'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:46:58'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:46:58'
}
{
  message: 'SIGINT received. Shutting down gracefully...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:53:47'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:53:52'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:53:52'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:53:52'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:53:52'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:53:52'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:53:52'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:53:52'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:53:52'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:53:52'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID s9GFHFUMBLiSyMaoAAAB from IP ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:53:55'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket s9GFHFUMBLiSyMaoAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:53:55'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: s9GFHFUMBLiSyMaoAAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:53:55'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:53:55'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:53:55'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:53:55',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:53:55'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 17:53:55'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:53:55'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:53:55'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:53:55'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:53:55'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:53:55'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:53:55'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:53:55'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: s9GFHFUMBLiSyMaoAAAB) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:19'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:19'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:19'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:19'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:19'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:19'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:19'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:19'
}
{
  message: '🧹 Cleanup: Stopped container session for socket s9GFHFUMBLiSyMaoAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:19'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID iRHSwk7JThsaQTu8AAAD from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:19'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket iRHSwk7JThsaQTu8AAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:19'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: iRHSwk7JThsaQTu8AAAD)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:19'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:19'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:19'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:19',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:19'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 17:55:19'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:20'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:20'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:20'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:20'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:20'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:20'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:20'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: iRHSwk7JThsaQTu8AAAD) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:22'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:22'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:22'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:22'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:22'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:22'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:22'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:22'
}
{
  message: '🧹 Cleanup: Stopped container session for socket iRHSwk7JThsaQTu8AAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:22'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:23'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID CZ1erbzF_xwwFiHDAAAF from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:24'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket CZ1erbzF_xwwFiHDAAAF',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:24'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: CZ1erbzF_xwwFiHDAAAF)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:24'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:24'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:24'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:24',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:24'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:24'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:24'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:24'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:24'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:25'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-01 17:55:25'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:25'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:25'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:25'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:25'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:25'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:25'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:25'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:33'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:33'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:33'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:33'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:33'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:55:33'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:56:02'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:56:02'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:56:02'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:56:02'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:56:02'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:56:02'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:56:34'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:56:34'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:56:34'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:56:34'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:56:34'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:56:34'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:56:39'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:56:39'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:56:39'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:56:39'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:56:39'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:56:39'
}
{
  message: 'POST /api/completions/generate - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:58:17'
}
{
  message: 'Received malformed JWT in Authorization header',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:58:17'
}
{
  message: 'POST /api/auth/login - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:59:01'
}
{
  message: 'User logged in: ahsan@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 17:59:01'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 18:00:00'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 18:00:00'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 18:00:00'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 18:00:00'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 18:00:00'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 18:00:00'
}
{
  message: 'SIGINT received. Shutting down gracefully...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 18:01:47'
}
{
  message: '🛑 Graceful shutdown: Cleaning up container sessions...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 18:01:47'
}
{
  message: '🧹 Cleaning up 0 active container sessions',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 18:01:47'
}
{
  message: '✅ Container cleanup completed',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 18:01:47'
}
{
  message: 'Shutting down completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 18:01:47'
}
{
  message: 'Completion handlers shutdown complete',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-01 18:01:47'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:04:33'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:04:33'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:04:33'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:04:33'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:04:33'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:04:33'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:04:33'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:04:33'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:04:33'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:04:57'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID kSlwlzavzAL8RmJqAAAB from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:04:57'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket kSlwlzavzAL8RmJqAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:04:57'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: kSlwlzavzAL8RmJqAAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:04:57'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:04:57'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:04:57'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:04:57',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/projects/demo-project - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:00'
}
{
  message: 'GET /api/files/project/demo-project - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:00'
}
{
  message: 'GET /api/projects/demo-project - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:00'
}
{
  message: 'GET /api/files/project/demo-project - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:00'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: kSlwlzavzAL8RmJqAAAB) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:06'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:06'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:06'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 0 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:06'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:06'
}
{
  message: '🧹 Cleanup: Stopped container session for socket kSlwlzavzAL8RmJqAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:06'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID NU2_9azWIGllHRSoAAAD from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:06'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket NU2_9azWIGllHRSoAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:06'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: NU2_9azWIGllHRSoAAAD)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:06'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:06'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:06'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:06',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: NU2_9azWIGllHRSoAAAD) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:07'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:07'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:07'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 0 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:07'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:07'
}
{
  message: '🧹 Cleanup: Stopped container session for socket NU2_9azWIGllHRSoAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:07'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:07'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:07'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:07'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID aF-le4shNRIdntpFAAAF from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:07'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket aF-le4shNRIdntpFAAAF',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:07'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: aF-le4shNRIdntpFAAAF)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:07'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:07'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:07'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:07',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:09'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:09'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:09'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:09'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:11'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:11'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:11'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:11'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:11'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 10:05:11'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:11'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:11'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:11'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:11'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:11'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:11'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:11'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:11'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket g-yuz877dSQUlcRxAAAG',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:14'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: g-yuz877dSQUlcRxAAAG)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:14'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 98,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 10:05:14'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:14'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:14'
}
{
  message: '📝 Enhanced prompt for completion (763 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:14'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:14'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:16'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "tening"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 190,\n' +
    '    "totalTokenCount": 190,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 190\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "DHu2aO_1Jt6XhMIP38T7sA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:16'
}
{
  message: '✅ Token extracted via chunk.text(): "tening"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:16'
}
{
  message: '📊 CHUNK SUMMARY: token="tening", hasToken=true, tokenLength=6',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:16'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"tening","completionText":"tening","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"tening","completionText":"tening","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"tening","completionText":"tening","done":false,"sessionId":"g-yuz877dSQUlcRxAAAG","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:16'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " on port 3000\\");\\nconsole.log(\\"app is listening"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 190,\n' +
    '    "totalTokenCount": 190,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 190\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "DHu2aO_1Jt6XhMIP38T7sA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:17'
}
{
  message: '✅ Token extracted via chunk.text(): " on port 3000");\n' +
    'console.log("app is listening"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:17'
}
{
  message: '📊 CHUNK SUMMARY: token=" on port 3000");\n' +
    'console.log("app is listening", hasToken=true, tokenLength=46',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:17'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" on port 3000\\");\\nconsole.log(\\"app is listening","completionText":"tening on port 3000\\");\\nconsole.log(\\"app is listening","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:17'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" on port 3000\\");\\nconsole.log(\\"app is listening","completionText":"tening on port 3000\\");\\nconsole.log(\\"app is listening","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:17'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" on port 3000\\");\\nconsole.log(\\"app is listening","completionText":"tening on port 3000\\");\\nconsole.log(\\"app is listening","done":false,"sessionId":"g-yuz877dSQUlcRxAAAG","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:17'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " on port 3000\\");\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 189,\n' +
    '    "candidatesTokenCount": 26,\n' +
    '    "totalTokenCount": 215,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 189\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 26\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "DHu2aO_1Jt6XhMIP38T7sA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:17'
}
{
  message: '✅ Token extracted via chunk.text(): " on port 3000");\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:17'
}
{
  message: '📊 CHUNK SUMMARY: token=" on port 3000");\n", hasToken=true, tokenLength=17',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:17'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" on port 3000\\");\\n","completionText":"tening on port 3000\\");\\nconsole.log(\\"app is listening on port 3000\\");\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:17'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" on port 3000\\");\\n","completionText":"tening on port 3000\\");\\nconsole.log(\\"app is listening on port 3000\\");\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:17'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" on port 3000\\");\\n","completionText":"tening on port 3000\\");\\nconsole.log(\\"app is listening on port 3000\\");\\n","done":false,"sessionId":"g-yuz877dSQUlcRxAAAG","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:17'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 69',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:17'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"tening on port 3000\\");\\nconsole.log(\\"app is listening on port 3000\\");\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:17'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"tening on port 3000\\");\\nconsole.log(\\"app is listening on port 3000\\");\\n","done":true,"sessionId":"g-yuz877dSQUlcRxAAAG","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:17'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:17'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 69 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:17'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:17'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:23'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:23'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:23'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:23'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:23'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:23'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:26'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:26'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:26'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:26'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:26'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:05:26'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: aF-le4shNRIdntpFAAAF) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: '🧹 Cleanup: Stopped container session for socket aF-le4shNRIdntpFAAAF',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID LZS94nv4vSYdB-eJAAAI from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket LZS94nv4vSYdB-eJAAAI',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: LZS94nv4vSYdB-eJAAAI)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: LZS94nv4vSYdB-eJAAAI) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: '🧹 Cleanup: Stopped container session for socket LZS94nv4vSYdB-eJAAAI',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:09'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:10'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:10'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:10'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID bBwWjuAB22Md5uPTAAAK from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:10'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket bBwWjuAB22Md5uPTAAAK',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:10'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: bBwWjuAB22Md5uPTAAAK)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:10'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:10'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:10'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:10'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:10',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:10'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 10:12:10'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:10'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:10'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:10'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:10'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:10'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:10'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:10'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:11'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:11'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:11'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:11'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:11'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:13'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:13'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:13'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:13'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 10:12:13'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:13'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:13'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:13'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:13'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:13'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:13'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:13'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:13'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:13'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:19'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:19'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:19'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:19'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:19'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:19'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:29'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:29'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:29'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:29'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:29'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:29'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket ZnkE0aK4vPXxak5HAAAL',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:39'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: ZnkE0aK4vPXxak5HAAAL)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:39'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 17,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 10:12:39'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:39'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:39'
}
{
  message: '📝 Enhanced prompt for completion (682 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:39'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:39'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:41'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "export"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 167,\n' +
    '    "totalTokenCount": 167,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 167\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "yXy2aJDgApeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:41'
}
{
  message: '✅ Token extracted via chunk.text(): "export"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:41'
}
{
  message: '📊 CHUNK SUMMARY: token="export", hasToken=true, tokenLength=6',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:41'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"export","completionText":"export","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:41'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"export","completionText":"export","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:41'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"export","completionText":"export","done":false,"sessionId":"ZnkE0aK4vPXxak5HAAAL","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:41'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " const exampleFunction = (param) => {\\n  console.log(param"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 167,\n' +
    '    "totalTokenCount": 167,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 167\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "yXy2aJDgApeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:41'
}
{
  message: '✅ Token extracted via chunk.text(): " const exampleFunction = (param) => {\n' +
    '  console.log(param"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:41'
}
{
  message: '📊 CHUNK SUMMARY: token=" const exampleFunction = (param) => {\n' +
    '  console.log(param", hasToken=true, tokenLength=57',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:41'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" const exampleFunction = (param) => {\\n  console.log(param","completionText":"export const exampleFunction = (param) => {\\n  console.log(param","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:41'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" const exampleFunction = (param) => {\\n  console.log(param","completionText":"export const exampleFunction = (param) => {\\n  console.log(param","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:41'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" const exampleFunction = (param) => {\\n  console.log(param","completionText":"export const exampleFunction = (param) => {\\n  console.log(param","done":false,"sessionId":"ZnkE0aK4vPXxak5HAAAL","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:41'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ");\\n};\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 166,\n' +
    '    "candidatesTokenCount": 21,\n' +
    '    "totalTokenCount": 187,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 166\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 21\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "yXy2aJDgApeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:41'
}
{
  message: '✅ Token extracted via chunk.text(): ");\n};\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:41'
}
{
  message: '📊 CHUNK SUMMARY: token=");\n};\n", hasToken=true, tokenLength=6',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:41'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":");\\n};\\n","completionText":"export const exampleFunction = (param) => {\\n  console.log(param);\\n};\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:41'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":");\\n};\\n","completionText":"export const exampleFunction = (param) => {\\n  console.log(param);\\n};\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:41'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":");\\n};\\n","completionText":"export const exampleFunction = (param) => {\\n  console.log(param);\\n};\\n","done":false,"sessionId":"ZnkE0aK4vPXxak5HAAAL","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:41'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 69',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:41'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"export const exampleFunction = (param) => {\\n  console.log(param);\\n};\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:41'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"export const exampleFunction = (param) => {\\n  console.log(param);\\n};\\n","done":true,"sessionId":"ZnkE0aK4vPXxak5HAAAL","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:41'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:41'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 69 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:41'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:41'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:46'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:46'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:46'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:46'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:46'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:46'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:47'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:47'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:47'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:47'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:47'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:12:47'
}
{
  message: 'SIGINT received. Shutting down gracefully...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:43'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:49'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:49'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:49'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:49'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:49'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:49'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:49'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:49'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:49'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID PjZ2w42vEDxU6087AAAB from IP ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:51'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket PjZ2w42vEDxU6087AAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:51'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: PjZ2w42vEDxU6087AAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:51'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:51'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:51'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:51',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:51'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 10:19:51'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:51'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:51'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:51'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:51'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:51'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:51'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:51'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: PjZ2w42vEDxU6087AAAB) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:54'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:54'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:54'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:54'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:54'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:54'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:54'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:54'
}
{
  message: '🧹 Cleanup: Stopped container session for socket PjZ2w42vEDxU6087AAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:54'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:55'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID o8MG2K-m0B3om8_KAAAD from IP ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:56'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket o8MG2K-m0B3om8_KAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:56'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: o8MG2K-m0B3om8_KAAAD)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:56'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:56'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:56'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:56',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:56'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:56'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:56'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:56'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:56'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:56'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 10:19:56'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:56'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:56'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:56'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:56'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:56'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:56'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:56'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket Hli6C3eaRkLaTHu9AAAE',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:59'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: Hli6C3eaRkLaTHu9AAAE)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:59'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 19,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 10:19:59'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:59'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:59'
}
{
  message: '📝 Enhanced prompt for completion (684 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:59'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:19:59'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:00'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "="\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 167,\n' +
    '    "totalTokenCount": 167,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 167\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "gH62aP_4Hc2UhMIP7Myz4Q8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:00'
}
{
  message: '✅ Token extracted via chunk.text(): "="',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:00'
}
{
  message: '📊 CHUNK SUMMARY: token="=", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:00'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"=","completionText":"=","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:00'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"=","completionText":"=","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:00'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"=","completionText":"=","done":false,"sessionId":"Hli6C3eaRkLaTHu9AAAE","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:00'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": " 'Hello, world!';\\nconsole.log(expr);\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 166,\n' +
    '    "candidatesTokenCount": 14,\n' +
    '    "totalTokenCount": 180,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 166\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 14\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "gH62aP_4Hc2UhMIP7Myz4Q8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:00'
}
{
  message: `✅ Token extracted via chunk.text(): " 'Hello, world!';\n` +
    'console.log(expr);\n' +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:00'
}
{
  message: `📊 CHUNK SUMMARY: token=" 'Hello, world!';\n` +
    'console.log(expr);\n' +
    '", hasToken=true, tokenLength=37',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:00'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":" 'Hello, world!';\\nconsole.log(expr);\\n","completionText":"= 'Hello, world!';\\nconsole.log(expr);\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:00'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":" 'Hello, world!';\\nconsole.log(expr);\\n","completionText":"= 'Hello, world!';\\nconsole.log(expr);\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:00'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":" 'Hello, world!';\\nconsole.log(expr);\\n","completionText":"= 'Hello, world!';\\nconsole.log(expr);\\n","done":false,"sessionId":"Hli6C3eaRkLaTHu9AAAE","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:00'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 38',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:00'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"= 'Hello, world!';\\nconsole.log(expr);\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:00'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"= 'Hello, world!';\\nconsole.log(expr);\\n","done":true,"sessionId":"Hli6C3eaRkLaTHu9AAAE","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:00'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:00'
}
{
  message: 'Completion finished for adnan99@gmail.com: 3 tokens, 38 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:00'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:00'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:03'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:03'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:03'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:03'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:03'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:03'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:05'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:05'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:05'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:05'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:05'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:05'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:24'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:25'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:25'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:25'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:25'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:25'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:31'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:31'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:31'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:31'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:31'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:31'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:35'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:35'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:35'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:35'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:35'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:35'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:37'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:37'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:37'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:37'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:37'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:37'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:42'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:42'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:42'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:42'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:42'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:20:42'
}
{
  message: 'SIGINT received. Shutting down gracefully...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:19'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:23'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:23'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:23'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:23'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:23'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:23'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:23'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:23'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:23'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID Xsz-6C-D-Fymqao8AAAB from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:23'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket Xsz-6C-D-Fymqao8AAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:23'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: Xsz-6C-D-Fymqao8AAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:23'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:23'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:23'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:23',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:23'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 10:21:23'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:23'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:23'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:23'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:23'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:23'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:23'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:23'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:33'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:34'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:34'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:34'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:34'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:34'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:46'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:46'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:46'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:46'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:46'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:21:46'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:17'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:17'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:17'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:17'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:17'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:17'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: Xsz-6C-D-Fymqao8AAAB) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:18'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:18'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:18'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:18'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:18'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:18'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:18'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:18'
}
{
  message: '🧹 Cleanup: Stopped container session for socket Xsz-6C-D-Fymqao8AAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:18'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:19'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID I05isC3JWpqxXWjXAAAD from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:19'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket I05isC3JWpqxXWjXAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:19'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: I05isC3JWpqxXWjXAAAD)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:19'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:19'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:19'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:20',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:20'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:20'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:20'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:20'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:20'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:20'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 10:23:20'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:20'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:20'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:20'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:20'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:20'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:20'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:20'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:29'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:29'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:29'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:29'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:29'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:23:29'
}
{
  message: 'SIGINT received. Shutting down gracefully...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:23'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:26'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:26'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:26'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:26'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:26'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:26'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:26'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:26'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:26'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID K3imnQXBAN5OuLLBAAAB from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:26'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket K3imnQXBAN5OuLLBAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:26'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: K3imnQXBAN5OuLLBAAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:26'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:26'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:26'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:26',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:26'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 10:26:26'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:26'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:26'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:26'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:26'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:26'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:26'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:26'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:35'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:36'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:36'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:36'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:36'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:36'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: K3imnQXBAN5OuLLBAAAB) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:38'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:38'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:38'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:38'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:38'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:38'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:38'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:38'
}
{
  message: '🧹 Cleanup: Stopped container session for socket K3imnQXBAN5OuLLBAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:38'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:39'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID c_gG4vgh_ox85I6KAAAD from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:39'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket c_gG4vgh_ox85I6KAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:39'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: c_gG4vgh_ox85I6KAAAD)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:39'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:39'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:39'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:40'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:40'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:40'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:40'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:40',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:40'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:40'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 10:26:40'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:40'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:40'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:40'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:40'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:40'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:40'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:40'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:51'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:51'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:51'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:51'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:51'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 10:26:51'
}
{
  message: 'SIGINT received. Shutting down gracefully...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:26'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:29'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:29'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:29'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:29'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:29'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:29'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:29'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:29'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:29'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID XKBQuxOrq2gsMygaAAAB from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:30'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket XKBQuxOrq2gsMygaAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:30'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: XKBQuxOrq2gsMygaAAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:30'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:30'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:30'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:30',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:30'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 11:17:30'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:30'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:30'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:30'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:30'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:30'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:30'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:30'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: XKBQuxOrq2gsMygaAAAB) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:53'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:53'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:53'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:53'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:53'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:53'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:53'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:53'
}
{
  message: '🧹 Cleanup: Stopped container session for socket XKBQuxOrq2gsMygaAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:53'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID bWHLhadLUlG5T7IFAAAD from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:54'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket bWHLhadLUlG5T7IFAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:54'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: bWHLhadLUlG5T7IFAAAD)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:54'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:54'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:54'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:54',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:54'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 11:17:54'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:54'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:54'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:54'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:54'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:54'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:54'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:54'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: bWHLhadLUlG5T7IFAAAD) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:58'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:58'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:58'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:58'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:58'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:58'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:58'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:58'
}
{
  message: '🧹 Cleanup: Stopped container session for socket bWHLhadLUlG5T7IFAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:58'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:58'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:59'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:59'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID SIyh4SQV2w99UP4LAAAF from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:59'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket SIyh4SQV2w99UP4LAAAF',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:59'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: SIyh4SQV2w99UP4LAAAF)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:59'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:59'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:59'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:59',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:59'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 11:17:59'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:59'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:59'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:59'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:59'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:59'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:59'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:17:59'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:00'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:01'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:01'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:01'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:01'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:04'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:04'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:04'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:04'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:04'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 11:18:04'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:04'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:04'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:04'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:04'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:04'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:04'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:04'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:04'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket VawAqSsROdb20JnSAAAG',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:06'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: VawAqSsROdb20JnSAAAG)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:06'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 22,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 11:18:06'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:06'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:06'
}
{
  message: '📝 Enhanced prompt for completion (687 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:06'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:06'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:07'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "require"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 166,\n' +
    '    "totalTokenCount": 166,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 166\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "H4y2aL_TGd6XhMIP38T7sA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:07'
}
{
  message: '✅ Token extracted via chunk.text(): "require"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:07'
}
{
  message: '📊 CHUNK SUMMARY: token="require", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:07'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"require","completionText":"require","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:07'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"require","completionText":"require","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:07'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"require","completionText":"require","done":false,"sessionId":"VawAqSsROdb20JnSAAAG","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:07'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "('express');\\nconst app = express();\\nconst port = 30"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 166,\n' +
    '    "totalTokenCount": 166,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 166\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "H4y2aL_TGd6XhMIP38T7sA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:07'
}
{
  message: `✅ Token extracted via chunk.text(): "('express');\n` +
    'const app = express();\n' +
    'const port = 30"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:07'
}
{
  message: `📊 CHUNK SUMMARY: token="('express');\n` +
    'const app = express();\n' +
    'const port = 30", hasToken=true, tokenLength=51',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:07'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"('express');\\nconst app = express();\\nconst port = 30","completionText":"require('express');\\nconst app = express();\\nconst port = 30","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:07'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"('express');\\nconst app = express();\\nconst port = 30","completionText":"require('express');\\nconst app = express();\\nconst port = 30","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:07'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"('express');\\nconst app = express();\\nconst port = 30","completionText":"require('express');\\nconst app = express();\\nconst port = 30","done":false,"sessionId":"VawAqSsROdb20JnSAAAG","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:07'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "00;\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 165,\n' +
    '    "candidatesTokenCount": 21,\n' +
    '    "totalTokenCount": 186,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 165\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 21\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "H4y2aL_TGd6XhMIP38T7sA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:07'
}
{
  message: '✅ Token extracted via chunk.text(): "00;\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:07'
}
{
  message: '📊 CHUNK SUMMARY: token="00;\n", hasToken=true, tokenLength=4',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:07'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"00;\\n","completionText":"require('express');\\nconst app = express();\\nconst port = 3000;\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:07'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"00;\\n","completionText":"require('express');\\nconst app = express();\\nconst port = 3000;\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:07'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"00;\\n","completionText":"require('express');\\nconst app = express();\\nconst port = 3000;\\n","done":false,"sessionId":"VawAqSsROdb20JnSAAAG","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:07'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 62',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:07'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"require('express');\\nconst app = express();\\nconst port = 3000;\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:07'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"require('express');\\nconst app = express();\\nconst port = 3000;\\n","done":true,"sessionId":"VawAqSsROdb20JnSAAAG","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:07'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:07'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 62 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:07'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:18:07'
}
{
  message: 'SIGINT received. Shutting down gracefully...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:20:58'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:01'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:01'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:01'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:01'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:01'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:01'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:01'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:01'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:01'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID 7sAx6-TmHpJ2VbBFAAAB from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:01'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket 7sAx6-TmHpJ2VbBFAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:01'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: 7sAx6-TmHpJ2VbBFAAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:01'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:01'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:01'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:01',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:01'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 11:21:01'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:01'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:01'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:01'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:01'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:01'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:01'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:01'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: 7sAx6-TmHpJ2VbBFAAAB) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:07'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:07'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:07'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:07'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:07'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:07'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:07'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:07'
}
{
  message: '🧹 Cleanup: Stopped container session for socket 7sAx6-TmHpJ2VbBFAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:07'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:08'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:08'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:08'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID edIYI5GRH8Vxs2-uAAAD from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:09'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket edIYI5GRH8Vxs2-uAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:09'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: edIYI5GRH8Vxs2-uAAAD)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:09'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:09'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:09'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:09',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:09'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 11:21:09'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:09'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:09'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:09'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:09'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:09'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:09'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:09'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:09'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:10'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:10'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:10'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:10'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:12'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:12'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:12'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:12'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:12'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 11:21:12'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:12'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:12'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:12'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:12'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:12'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:12'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:12'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:12'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket hPF-JDsXxsYZS0ZuAAAE',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:17'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: hPF-JDsXxsYZS0ZuAAAE)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:17'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 22,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 11:21:17'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:17'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:17'
}
{
  message: '📝 Enhanced prompt for completion (687 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:17'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:17'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:19'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "require"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 166,\n' +
    '    "totalTokenCount": 166,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 166\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "3oy2aKvoMZeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:19'
}
{
  message: '✅ Token extracted via chunk.text(): "require"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:19'
}
{
  message: '📊 CHUNK SUMMARY: token="require", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:19'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"require","completionText":"require","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:19'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"require","completionText":"require","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:19'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"require","completionText":"require","done":false,"sessionId":"hPF-JDsXxsYZS0ZuAAAE","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:19'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "('express');\\nconst app = express();\\nconst port = 30"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 166,\n' +
    '    "totalTokenCount": 166,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 166\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "3oy2aKvoMZeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:19'
}
{
  message: `✅ Token extracted via chunk.text(): "('express');\n` +
    'const app = express();\n' +
    'const port = 30"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:19'
}
{
  message: `📊 CHUNK SUMMARY: token="('express');\n` +
    'const app = express();\n' +
    'const port = 30", hasToken=true, tokenLength=51',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:19'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"('express');\\nconst app = express();\\nconst port = 30","completionText":"require('express');\\nconst app = express();\\nconst port = 30","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:19'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"('express');\\nconst app = express();\\nconst port = 30","completionText":"require('express');\\nconst app = express();\\nconst port = 30","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:19'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"('express');\\nconst app = express();\\nconst port = 30","completionText":"require('express');\\nconst app = express();\\nconst port = 30","done":false,"sessionId":"hPF-JDsXxsYZS0ZuAAAE","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:19'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "00;\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 165,\n' +
    '    "candidatesTokenCount": 21,\n' +
    '    "totalTokenCount": 186,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 165\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 21\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "3oy2aKvoMZeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:19'
}
{
  message: '✅ Token extracted via chunk.text(): "00;\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:19'
}
{
  message: '📊 CHUNK SUMMARY: token="00;\n", hasToken=true, tokenLength=4',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:19'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"00;\\n","completionText":"require('express');\\nconst app = express();\\nconst port = 3000;\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:19'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"00;\\n","completionText":"require('express');\\nconst app = express();\\nconst port = 3000;\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:19'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"00;\\n","completionText":"require('express');\\nconst app = express();\\nconst port = 3000;\\n","done":false,"sessionId":"hPF-JDsXxsYZS0ZuAAAE","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:19'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 62',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:19'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"require('express');\\nconst app = express();\\nconst port = 3000;\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:19'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"require('express');\\nconst app = express();\\nconst port = 3000;\\n","done":true,"sessionId":"hPF-JDsXxsYZS0ZuAAAE","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:19'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:19'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 62 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:19'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:19'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:24'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:24'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:24'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:24'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:24'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:24'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:26'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:26'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:26'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:26'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:26'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:26'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:34'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:34'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:34'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:34'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:34'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:34'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:37'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:37'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:37'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:37'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:37'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:37'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:41'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:41'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:41'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:41'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:41'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:21:41'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:24:00'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:24:00'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:24:00'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:24:00'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:24:00'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:24:00'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:24:01'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:24:01'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:24:01'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:24:01'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:24:01'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:24:01'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:24:07'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:24:08'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:24:08'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:24:08'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:24:08'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:24:08'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:24:11'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:24:11'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:24:11'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:24:11'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:24:11'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:24:11'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:27'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:27'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:27'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:27'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:27'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:27'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: edIYI5GRH8Vxs2-uAAAD) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:29'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:29'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:29'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:29'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:29'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:29'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:29'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:29'
}
{
  message: '🧹 Cleanup: Stopped container session for socket edIYI5GRH8Vxs2-uAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:29'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:30'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:30'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:30'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID Kfc9jMjmFUbzizEmAAAG from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:30'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket Kfc9jMjmFUbzizEmAAAG',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:30'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: Kfc9jMjmFUbzizEmAAAG)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:30'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:30'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:30'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:30',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:31'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 11:28:31'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:31'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:31'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:31'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:31'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:31'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:31'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:31'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:31'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:31'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:31'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:31'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:31'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:33'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:33'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:33'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:33'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:33'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 11:28:33'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:33'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:33'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:33'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:33'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:33'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:33'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:33'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:33'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:39'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:39'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:39'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:39'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:39'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:39'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:40'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:40'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:40'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:40'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:40'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:40'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:46'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:46'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:46'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:46'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:46'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:28:46'
}
{
  message: 'SIGINT received. Shutting down gracefully...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:02'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:05'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:05'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:05'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:05'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:05'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:05'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:05'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:05'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:05'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID NoBl4Y-h79Mt8yztAAAB from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:05'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket NoBl4Y-h79Mt8yztAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:05'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: NoBl4Y-h79Mt8yztAAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:05'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:05'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:05'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:05',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:05'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 11:29:05'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:05'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:05'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:05'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:05'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:05'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:05'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:05'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: NoBl4Y-h79Mt8yztAAAB) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:09'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:09'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:09'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:09'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:09'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:09'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:09'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:09'
}
{
  message: '🧹 Cleanup: Stopped container session for socket NoBl4Y-h79Mt8yztAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:09'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:10'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID zw08AFlCy26_j_YYAAAD from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:10'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket zw08AFlCy26_j_YYAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:10'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: zw08AFlCy26_j_YYAAAD)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:10'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:10'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:10'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:10'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:10'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:10'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:10'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:10',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:10'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:10'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 11:29:10'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:10'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:10'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:10'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:10'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:10'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:10'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:10'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket aXVrDRDDSuTE5RjpAAAE',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:18'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: aXVrDRDDSuTE5RjpAAAE)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:18'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 20,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 11:29:18'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:18'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:18'
}
{
  message: '📝 Enhanced prompt for completion (685 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:18'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:18'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:20'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "require"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 164,\n' +
    '    "totalTokenCount": 164,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 164\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "v462aPe7Or2XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:20'
}
{
  message: '✅ Token extracted via chunk.text(): "require"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:20'
}
{
  message: '📊 CHUNK SUMMARY: token="require", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:20'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"require","completionText":"require","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:20'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"require","completionText":"require","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:20'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"require","completionText":"require","done":false,"sessionId":"aXVrDRDDSuTE5RjpAAAE","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:20'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "('express');\\nconst app = express();\\nconst port = 30"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 164,\n' +
    '    "totalTokenCount": 164,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 164\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "v462aPe7Or2XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:20'
}
{
  message: `✅ Token extracted via chunk.text(): "('express');\n` +
    'const app = express();\n' +
    'const port = 30"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:20'
}
{
  message: `📊 CHUNK SUMMARY: token="('express');\n` +
    'const app = express();\n' +
    'const port = 30", hasToken=true, tokenLength=51',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:20'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"('express');\\nconst app = express();\\nconst port = 30","completionText":"require('express');\\nconst app = express();\\nconst port = 30","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:20'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"('express');\\nconst app = express();\\nconst port = 30","completionText":"require('express');\\nconst app = express();\\nconst port = 30","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:20'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"('express');\\nconst app = express();\\nconst port = 30","completionText":"require('express');\\nconst app = express();\\nconst port = 30","done":false,"sessionId":"aXVrDRDDSuTE5RjpAAAE","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:20'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "00;\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 163,\n' +
    '    "candidatesTokenCount": 21,\n' +
    '    "totalTokenCount": 184,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 163\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 21\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "v462aPe7Or2XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:20'
}
{
  message: '✅ Token extracted via chunk.text(): "00;\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:20'
}
{
  message: '📊 CHUNK SUMMARY: token="00;\n", hasToken=true, tokenLength=4',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:20'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"00;\\n","completionText":"require('express');\\nconst app = express();\\nconst port = 3000;\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:20'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"00;\\n","completionText":"require('express');\\nconst app = express();\\nconst port = 3000;\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:20'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"00;\\n","completionText":"require('express');\\nconst app = express();\\nconst port = 3000;\\n","done":false,"sessionId":"aXVrDRDDSuTE5RjpAAAE","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:20'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 62',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:20'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"require('express');\\nconst app = express();\\nconst port = 3000;\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:20'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"require('express');\\nconst app = express();\\nconst port = 3000;\\n","done":true,"sessionId":"aXVrDRDDSuTE5RjpAAAE","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:20'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:20'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 62 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:20'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:20'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket yjriXMyJcl5RyA4RAAAG',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:25'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: yjriXMyJcl5RyA4RAAAG)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:25'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 85,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 11:29:25'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:25'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:25'
}
{
  message: '📝 Enhanced prompt for completion (750 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:25'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:25'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:25'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:25'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:25'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:25'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  service: 'collabcode-backend',
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [
        {
          quotaMetric: 'generativelanguage.googleapis.com/generate_content_free_tier_requests',
          quotaId: 'GenerateRequestsPerDayPerProjectPerModel-FreeTier',
          quotaDimensions: { location: 'global', model: 'gemini-1.5-flash' },
          quotaValue: '50'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.Help',
      links: [
        {
          description: 'Learn more about Gemini API quotas',
          url: 'https://ai.google.dev/gemini-api/docs/rate-limits'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '34s'
    }
  ],
  level: 'error',
  message: 'Error generating streaming completion: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"34s"}]',
  stack: 'Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"34s"}]\n' +
    '    at handleResponseNotOk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async makeRequest (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n' +
    '    at async generateContentStream (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:862:22)\n' +
    '    at async StreamingCompletionService.generateCompletion (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\streamingCompletionService.js:48:22)\n' +
    '    at async Socket.<anonymous> (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\socket\\completionSocketHandler.js:100:26)',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '🔁 Falling back to mock completion due to error',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"c","completionText":"c","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"c","completionText":"c","done":false,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"co","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"co","done":false,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"n","completionText":"con","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"n","completionText":"con","done":false,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"s","completionText":"cons","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"s","completionText":"cons","done":false,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"conso","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"conso","done":false,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":5}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"consol","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"consol","done":false,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":6}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"e","completionText":"console","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"e","completionText":"console","done":false,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":7}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".","completionText":"console.","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".","completionText":"console.","done":false,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":8}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.l","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.l","done":false,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":9}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.lo","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.lo","done":false,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":10}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"g","completionText":"console.log","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"g","completionText":"console.log","done":false,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":11}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"(","completionText":"console.log(","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"(","completionText":"console.log(","done":false,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":12}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\"","completionText":"console.log(\\"","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\"","completionText":"console.log(\\"","done":false,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":13}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"H","completionText":"console.log(\\"H","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"H","completionText":"console.log(\\"H","done":false,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":14}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"e","completionText":"console.log(\\"He","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"e","completionText":"console.log(\\"He","done":false,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":15}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hel","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hel","done":false,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":16}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hell","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hell","done":false,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":17}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.log(\\"Hello","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.log(\\"Hello","done":false,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":18}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":",","completionText":"console.log(\\"Hello,","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":",","completionText":"console.log(\\"Hello,","done":false,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":19}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" ","completionText":"console.log(\\"Hello, ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" ","completionText":"console.log(\\"Hello, ","done":false,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":20}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"W","completionText":"console.log(\\"Hello, W","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"W","completionText":"console.log(\\"Hello, W","done":false,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":21}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.log(\\"Hello, Wo","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.log(\\"Hello, Wo","done":false,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":22}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"r","completionText":"console.log(\\"Hello, Wor","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"r","completionText":"console.log(\\"Hello, Wor","done":false,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":23}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hello, Worl","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hello, Worl","done":false,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":24}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"d","completionText":"console.log(\\"Hello, World","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"d","completionText":"console.log(\\"Hello, World","done":false,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":25}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"!","completionText":"console.log(\\"Hello, World!","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"!","completionText":"console.log(\\"Hello, World!","done":false,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":26}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\"","completionText":"console.log(\\"Hello, World!\\"","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\"","completionText":"console.log(\\"Hello, World!\\"","done":false,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":27}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":")","completionText":"console.log(\\"Hello, World!\\")","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":")","completionText":"console.log(\\"Hello, World!\\")","done":false,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":28}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":";","completionText":"console.log(\\"Hello, World!\\");","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":";","completionText":"console.log(\\"Hello, World!\\");","done":false,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":29}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"console.log(\\"Hello, World!\\");","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"console.log(\\"Hello, World!\\");","done":true,"sessionId":"yjriXMyJcl5RyA4RAAAG","tokenCount":30}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: 'Completion finished for adnan99@gmail.com: 30 tokens, 29 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:27'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:31'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:31'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:31'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:31'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:31'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:31'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:33'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:33'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:33'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:33'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:33'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:33'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:39'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:39'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:39'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:39'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:39'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:29:39'
}
{
  message: 'SIGINT received. Shutting down gracefully...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:07'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:10'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:10'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:10'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:10'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:10'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:10'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:10'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:10'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:10'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID WU76Ur2cc3r-AV-_AAAB from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:10'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket WU76Ur2cc3r-AV-_AAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:10'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: WU76Ur2cc3r-AV-_AAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:10'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:10'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:10'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:10',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:10'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 11:31:10'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:10'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:10'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:10'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:10'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:10'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:10'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:10'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:20'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:20'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:20'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:20'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:20'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:20'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:24'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:24'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:24'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:24'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:24'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:24'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: WU76Ur2cc3r-AV-_AAAB) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:27'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:27'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:27'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:27'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:27'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:27'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:27'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:27'
}
{
  message: '🧹 Cleanup: Stopped container session for socket WU76Ur2cc3r-AV-_AAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:27'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:28'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID IpFoW_ufIW-5tSXXAAAD from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:28'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket IpFoW_ufIW-5tSXXAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:28'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: IpFoW_ufIW-5tSXXAAAD)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:28'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:28'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:28'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:28'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:28'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:28'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:28'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:28',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:28'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:28'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 11:31:28'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:28'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:28'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:28'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:28'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:28'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:28'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:28'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket eYLQVXl-aI0IjYzsAAAE',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:31'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: eYLQVXl-aI0IjYzsAAAE)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:31'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 97,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 11:31:31'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:31'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:31'
}
{
  message: '📝 Enhanced prompt for completion (762 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:31'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:31'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:32'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "("\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 190,\n' +
    '    "totalTokenCount": 190,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 190\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "RI-2aJj9EJrnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:32'
}
{
  message: '✅ Token extracted via chunk.text(): "("',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:32'
}
{
  message: '📊 CHUNK SUMMARY: token="(", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:32'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"(","completionText":"(","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:32'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"(","completionText":"(","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:32'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"(","completionText":"(","done":false,"sessionId":"eYLQVXl-aI0IjYzsAAAE","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:32'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "port, () => console.log(`Server listening on port ${port}`));"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 190,\n' +
    '    "totalTokenCount": 190,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 190\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "RI-2aJj9EJrnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:32'
}
{
  message: '✅ Token extracted via chunk.text(): "port, () => console.log(`Server listening on port ${port}`));"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:32'
}
{
  message: '📊 CHUNK SUMMARY: token="port, () => console.log(`Server listening on port ${port}`));", hasToken=true, tokenLength=61',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:32'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"port, () => console.log(`Server listening on port ${port}`));","completionText":"(port, () => console.log(`Server listening on port ${port}`));","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:32'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"port, () => console.log(`Server listening on port ${port}`));","completionText":"(port, () => console.log(`Server listening on port ${port}`));","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:32'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"port, () => console.log(`Server listening on port ${port}`));","completionText":"(port, () => console.log(`Server listening on port ${port}`));","done":false,"sessionId":"eYLQVXl-aI0IjYzsAAAE","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:32'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 189,\n' +
    '    "candidatesTokenCount": 18,\n' +
    '    "totalTokenCount": 207,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 189\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 18\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "RI-2aJj9EJrnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:32'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:32'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:32'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"(port, () => console.log(`Server listening on port ${port}`));\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:32'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"(port, () => console.log(`Server listening on port ${port}`));\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:32'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"(port, () => console.log(`Server listening on port ${port}`));\\n","done":false,"sessionId":"eYLQVXl-aI0IjYzsAAAE","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:32'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 63',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:32'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"(port, () => console.log(`Server listening on port ${port}`));\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:32'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"(port, () => console.log(`Server listening on port ${port}`));\\n","done":true,"sessionId":"eYLQVXl-aI0IjYzsAAAE","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:32'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:32'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 63 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:32'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:32'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket 3CPXEqZRGvC1PcVGAAAG',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:35'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: 3CPXEqZRGvC1PcVGAAAG)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:35'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 161,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 11:31:35'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:35'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:35'
}
{
  message: '📝 Enhanced prompt for completion (826 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:35'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:35'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "app"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 208,\n' +
    '    "totalTokenCount": 208,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 208\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "R4-2aLXMM96XhMIP38T7sA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: '✅ Token extracted via chunk.text(): "app"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: '📊 CHUNK SUMMARY: token="app", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"app","completionText":"app","done":false,"sessionId":"3CPXEqZRGvC1PcVGAAAG","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".get('/', (req, res) => res.send('Hello World!"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 208,\n' +
    '    "totalTokenCount": 208,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 208\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "R4-2aLXMM96XhMIP38T7sA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: `✅ Token extracted via chunk.text(): ".get('/', (req, res) => res.send('Hello World!"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: `📊 CHUNK SUMMARY: token=".get('/', (req, res) => res.send('Hello World!", hasToken=true, tokenLength=46`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".get('/', (req, res) => res.send('Hello World!","completionText":"app.get('/', (req, res) => res.send('Hello World!","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".get('/', (req, res) => res.send('Hello World!","completionText":"app.get('/', (req, res) => res.send('Hello World!","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".get('/', (req, res) => res.send('Hello World!","completionText":"app.get('/', (req, res) => res.send('Hello World!","done":false,"sessionId":"3CPXEqZRGvC1PcVGAAAG","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "'));\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 207,\n' +
    '    "candidatesTokenCount": 19,\n' +
    '    "totalTokenCount": 226,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 207\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 19\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "R4-2aLXMM96XhMIP38T7sA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: `✅ Token extracted via chunk.text(): "'));\n"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: `📊 CHUNK SUMMARY: token="'));\n", hasToken=true, tokenLength=5`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"'));\\n","completionText":"app.get('/', (req, res) => res.send('Hello World!'));\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"'));\\n","completionText":"app.get('/', (req, res) => res.send('Hello World!'));\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"'));\\n","completionText":"app.get('/', (req, res) => res.send('Hello World!'));\\n","done":false,"sessionId":"3CPXEqZRGvC1PcVGAAAG","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 54',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"app.get('/', (req, res) => res.send('Hello World!'));\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"app.get('/', (req, res) => res.send('Hello World!'));\\n","done":true,"sessionId":"3CPXEqZRGvC1PcVGAAAG","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 54 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:36'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:39'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:39'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:39'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:39'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:39'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:39'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:44'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:44'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:44'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:44'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:44'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:31:44'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:01'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:01'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:01'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:01'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:01'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:01'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: IpFoW_ufIW-5tSXXAAAD) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:01'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:01'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:01'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:01'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:01'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:01'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:01'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:01'
}
{
  message: '🧹 Cleanup: Stopped container session for socket IpFoW_ufIW-5tSXXAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:01'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:02'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:03'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:03'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:03'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:03'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID OU0BTYMgq_9kDed4AAAI from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:03'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket OU0BTYMgq_9kDed4AAAI',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:03'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: OU0BTYMgq_9kDed4AAAI)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:03'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:03'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:03'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:03',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:03'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:03'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 11:32:03'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:03'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:03'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:03'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:03'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:03'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:03'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:03'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:11'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:11'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:11'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:11'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:11'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:11'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:13'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:13'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:13'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:13'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:13'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:13'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:18'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:18'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:18'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:18'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:18'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:18'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:30'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:30'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:30'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:30'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:30'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:30'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: OU0BTYMgq_9kDed4AAAI) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:30'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:30'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:30'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:30'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:30'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:30'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:30'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:30'
}
{
  message: '🧹 Cleanup: Stopped container session for socket OU0BTYMgq_9kDed4AAAI',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:30'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:31'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:31'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:31'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:31'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:31'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID SCL0M0LaxbzXSW6SAAAK from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:32'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket SCL0M0LaxbzXSW6SAAAK',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:32'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: SCL0M0LaxbzXSW6SAAAK)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:32'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:32'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:32'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:32',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:32'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 11:32:32'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:32'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:32'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:32'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:32'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:32'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:32'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:32'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:32'
}
{
  message: 'SIGINT received. Shutting down gracefully...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:35'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:39'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:39'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:39'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:39'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:39'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:39'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:39'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:39'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:39'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID kefyd7qqV4a7dUFiAAAB from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:39'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket kefyd7qqV4a7dUFiAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:39'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: kefyd7qqV4a7dUFiAAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:39'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:39'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:39'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:39',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:39'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 11:32:39'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:39'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:39'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:39'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:39'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:39'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:39'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:39'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: kefyd7qqV4a7dUFiAAAB) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:43'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:43'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:43'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:43'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:43'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:43'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:43'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:43'
}
{
  message: '🧹 Cleanup: Stopped container session for socket kefyd7qqV4a7dUFiAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:43'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:43'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID o-RHkNVPBqx9my6zAAAD from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:44'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket o-RHkNVPBqx9my6zAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:44'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: o-RHkNVPBqx9my6zAAAD)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:44'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:44'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:44'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:44',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:44'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:44'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:44'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:44'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:44'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:44'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 11:32:44'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:44'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:44'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:44'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:44'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:44'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:44'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:44'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:49'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:49'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:49'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:49'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:49'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:49'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:58'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:58'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:58'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:58'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:58'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:32:58'
}
{
  message: 'POST /api/chatbot/session - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:33:56'
}
{
  message: 'POST /api/chatbot/session - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:33:56'
}
{
  message: 'POST /api/chatbot/query - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:33:59'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket IofL8I7u15P4DU_CAAAE',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:14'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: IofL8I7u15P4DU_CAAAE)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:14'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 93,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 11:34:14'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:14'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:14'
}
{
  message: '📝 Enhanced prompt for completion (758 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:14'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:14'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:15'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:16'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "get"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 190,\n' +
    '    "totalTokenCount": 190,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 190\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "54-2aMDnMb2XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:16'
}
{
  message: '✅ Token extracted via chunk.text(): "get"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:16'
}
{
  message: '📊 CHUNK SUMMARY: token="get", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:16'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"get","completionText":"get","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"get","completionText":"get","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:16'
}
{
  message: 'Completion cancelled for socket IofL8I7u15P4DU_CAAAE',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:16'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:16'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:16'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:16'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:16'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:16'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:16'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:16'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:18'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:18'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:18'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:18'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:18'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:18'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:24'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:24'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:24'
}
{
  message: '📝 Enhanced prompt for completion (758 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:24'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:24'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:26'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "get"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 190,\n' +
    '    "totalTokenCount": 190,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 190\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "8o-2aOj2E73qqsMPtMbK0Q0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:26'
}
{
  message: '✅ Token extracted via chunk.text(): "get"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:26'
}
{
  message: '📊 CHUNK SUMMARY: token="get", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:26'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"get","completionText":"get","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:26'
}
{
  message: 'Client disconnected during completion generation for user 6894f6135cbf1256c0f77008',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:26'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:26'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:43'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:44'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:44'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:44'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:44'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:44'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: o-RHkNVPBqx9my6zAAAD) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:59'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:59'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:59'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:59'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:59'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:59'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:59'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:59'
}
{
  message: '🧹 Cleanup: Stopped container session for socket o-RHkNVPBqx9my6zAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:34:59'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:00'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:00'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:00'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID IoUp_0FmlluR0_EfAAAG from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:00'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket IoUp_0FmlluR0_EfAAAG',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:00'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: IoUp_0FmlluR0_EfAAAG)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:00'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:00'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:00'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:00',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:01'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:01'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:01'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:01'
}
{
  message: 'POST /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:15'
}
{
  message: 'Project created: code completions by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:15'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:15'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:15'
}
{
  message: 'GET /api/projects/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:16'
}
{
  message: 'GET /api/files/project/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:16'
}
{
  message: 'GET /api/files/project/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:16'
}
{
  message: 'GET /api/projects/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:16'
}
{
  service: 'collabcode-backend',
  projectId: '68b6902393632ca58611dd55',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 11:35:16'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:16'
}
{
  message: '🆕 New Project Room Created: project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:16'
}
{
  message: '👥 Project Room Status: 1 users in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:16'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:16'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:16'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:16'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:16'
}
{
  message: 'POST /api/files - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:22'
}
{
  message: 'file created: index.js in project code completions by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:22'
}
{
  message: '📡 Broadcasting file creation via WebSocket: index.js in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:22'
}
{
  message: 'GET /api/files/project/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:22'
}
{
  message: 'GET /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:22'
}
{
  message: 'User adnan99@gmail.com started editing file 68b6902a93632ca58611dd72',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:22'
}
{
  message: 'SIGINT received. Shutting down gracefully...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:41'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:44'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:44'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:44'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:44'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:44'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:44'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:44'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:44'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:44'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID XCqkaw5LshPsPiCXAAAB from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:45'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket XCqkaw5LshPsPiCXAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:45'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: XCqkaw5LshPsPiCXAAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:45'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:45'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:45'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:45',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:45'
}
{
  service: 'collabcode-backend',
  projectId: '68b6902393632ca58611dd55',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 11:35:45'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:45'
}
{
  message: '🆕 New Project Room Created: project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:45'
}
{
  message: '👥 Project Room Status: 1 users in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:45'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:45'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:45'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:45'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:45'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:57'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:58'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:58'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:58'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:58'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:35:58'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:37:22'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:37:22'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:37:22'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:37:22'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:37:22'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:37:22'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:37:22'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:37:22'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:37:22'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID 4OIBR8pR0gBVuAx7AAAB from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:37:23'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket 4OIBR8pR0gBVuAx7AAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:37:23'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: 4OIBR8pR0gBVuAx7AAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:37:23'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:37:23'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:37:23'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:37:23',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:37:23'
}
{
  service: 'collabcode-backend',
  projectId: '68b6902393632ca58611dd55',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 11:37:23'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:37:23'
}
{
  message: '🆕 New Project Room Created: project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:37:23'
}
{
  message: '👥 Project Room Status: 1 users in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:37:23'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:37:23'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:37:23'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:37:23'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:37:23'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket BW7GgvLbjMnz5u62AAAC',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:29'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: BW7GgvLbjMnz5u62AAAC)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:29'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 7,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 11:47:29'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:29'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:29'
}
{
  message: '📝 Enhanced prompt for completion (672 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:29'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:29'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "andle"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 160,\n' +
    '    "totalTokenCount": 160,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 160\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "A5O2aIyiC5rnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: '✅ Token extracted via chunk.text(): "andle"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: '📊 CHUNK SUMMARY: token="andle", hasToken=true, tokenLength=5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"andle","completionText":"andle","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"andle","completionText":"andle","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"andle","completionText":"andle","done":false,"sessionId":"BW7GgvLbjMnz5u62AAAC","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "Error = (err) => {\\n  console.error('An error occurred"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 160,\n' +
    '    "totalTokenCount": 160,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 160\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "A5O2aIyiC5rnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: '✅ Token extracted via chunk.text(): "Error = (err) => {\n' +
    `  console.error('An error occurred"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: '📊 CHUNK SUMMARY: token="Error = (err) => {\n' +
    `  console.error('An error occurred", hasToken=true, tokenLength=53`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"Error = (err) => {\\n  console.error('An error occurred","completionText":"andleError = (err) => {\\n  console.error('An error occurred","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"Error = (err) => {\\n  console.error('An error occurred","completionText":"andleError = (err) => {\\n  console.error('An error occurred","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"Error = (err) => {\\n  console.error('An error occurred","completionText":"andleError = (err) => {\\n  console.error('An error occurred","done":false,"sessionId":"BW7GgvLbjMnz5u62AAAC","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ":', err);\\n  // Add more error handling logic here if needed\\n}"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 160,\n' +
    '    "totalTokenCount": 160,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 160\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "A5O2aIyiC5rnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: `✅ Token extracted via chunk.text(): ":', err);\n` +
    '  // Add more error handling logic here if needed\n' +
    '}"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: `📊 CHUNK SUMMARY: token=":', err);\n` +
    '  // Add more error handling logic here if needed\n' +
    '}", hasToken=true, tokenLength=61',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":":', err);\\n  // Add more error handling logic here if needed\\n}","completionText":"andleError = (err) => {\\n  console.error('An error occurred:', err);\\n  // Add more error handling logic here if needed\\n}","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":":', err);\\n  // Add more error handling logic here if needed\\n}","completionText":"andleError = (err) => {\\n  console.error('An error occurred:', err);\\n  // Add more error handling logic here if needed\\n}","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":":', err);\\n  // Add more error handling logic here if needed\\n}","completionText":"andleError = (err) => {\\n  console.error('An error occurred:', err);\\n  // Add more error handling logic here if needed\\n}","done":false,"sessionId":"BW7GgvLbjMnz5u62AAAC","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 159,\n' +
    '    "candidatesTokenCount": 34,\n' +
    '    "totalTokenCount": 193,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 159\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 34\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "A5O2aIyiC5rnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"andleError = (err) => {\\n  console.error('An error occurred:', err);\\n  // Add more error handling logic here if needed\\n}\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"andleError = (err) => {\\n  console.error('An error occurred:', err);\\n  // Add more error handling logic here if needed\\n}\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"andleError = (err) => {\\n  console.error('An error occurred:', err);\\n  // Add more error handling logic here if needed\\n}\\n","done":false,"sessionId":"BW7GgvLbjMnz5u62AAAC","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 120',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"andleError = (err) => {\\n  console.error('An error occurred:', err);\\n  // Add more error handling logic here if needed\\n}\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"andleError = (err) => {\\n  console.error('An error occurred:', err);\\n  // Add more error handling logic here if needed\\n}\\n","done":true,"sessionId":"BW7GgvLbjMnz5u62AAAC","tokenCount":5}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 120 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:31'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket ql2hkR1gA1haYBsuAAAE',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:59'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: ql2hkR1gA1haYBsuAAAE)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:59'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 7,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 11:47:59'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:59'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:59'
}
{
  message: '📝 Enhanced prompt for completion (672 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:59'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:47:59'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "andle"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 160,\n' +
    '    "totalTokenCount": 160,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 160\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "IJO2aNTzCc2UhMIP7Myz4Q8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: '✅ Token extracted via chunk.text(): "andle"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: '📊 CHUNK SUMMARY: token="andle", hasToken=true, tokenLength=5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"andle","completionText":"andle","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"andle","completionText":"andle","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"andle","completionText":"andle","done":false,"sessionId":"ql2hkR1gA1haYBsuAAAE","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "Error = (err) => {\\n  console.error('An error occurred"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 160,\n' +
    '    "totalTokenCount": 160,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 160\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "IJO2aNTzCc2UhMIP7Myz4Q8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: '✅ Token extracted via chunk.text(): "Error = (err) => {\n' +
    `  console.error('An error occurred"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: '📊 CHUNK SUMMARY: token="Error = (err) => {\n' +
    `  console.error('An error occurred", hasToken=true, tokenLength=53`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"Error = (err) => {\\n  console.error('An error occurred","completionText":"andleError = (err) => {\\n  console.error('An error occurred","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"Error = (err) => {\\n  console.error('An error occurred","completionText":"andleError = (err) => {\\n  console.error('An error occurred","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"Error = (err) => {\\n  console.error('An error occurred","completionText":"andleError = (err) => {\\n  console.error('An error occurred","done":false,"sessionId":"ql2hkR1gA1haYBsuAAAE","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ":', err);\\n  // Add more error handling logic here if needed\\n}"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 160,\n' +
    '    "totalTokenCount": 160,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 160\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "IJO2aNTzCc2UhMIP7Myz4Q8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: `✅ Token extracted via chunk.text(): ":', err);\n` +
    '  // Add more error handling logic here if needed\n' +
    '}"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: `📊 CHUNK SUMMARY: token=":', err);\n` +
    '  // Add more error handling logic here if needed\n' +
    '}", hasToken=true, tokenLength=61',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":":', err);\\n  // Add more error handling logic here if needed\\n}","completionText":"andleError = (err) => {\\n  console.error('An error occurred:', err);\\n  // Add more error handling logic here if needed\\n}","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":":', err);\\n  // Add more error handling logic here if needed\\n}","completionText":"andleError = (err) => {\\n  console.error('An error occurred:', err);\\n  // Add more error handling logic here if needed\\n}","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":":', err);\\n  // Add more error handling logic here if needed\\n}","completionText":"andleError = (err) => {\\n  console.error('An error occurred:', err);\\n  // Add more error handling logic here if needed\\n}","done":false,"sessionId":"ql2hkR1gA1haYBsuAAAE","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 159,\n' +
    '    "candidatesTokenCount": 34,\n' +
    '    "totalTokenCount": 193,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 159\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 34\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "IJO2aNTzCc2UhMIP7Myz4Q8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"andleError = (err) => {\\n  console.error('An error occurred:', err);\\n  // Add more error handling logic here if needed\\n}\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"andleError = (err) => {\\n  console.error('An error occurred:', err);\\n  // Add more error handling logic here if needed\\n}\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"andleError = (err) => {\\n  console.error('An error occurred:', err);\\n  // Add more error handling logic here if needed\\n}\\n","done":false,"sessionId":"ql2hkR1gA1haYBsuAAAE","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 120',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"andleError = (err) => {\\n  console.error('An error occurred:', err);\\n  // Add more error handling logic here if needed\\n}\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"andleError = (err) => {\\n  console.error('An error occurred:', err);\\n  // Add more error handling logic here if needed\\n}\\n","done":true,"sessionId":"ql2hkR1gA1haYBsuAAAE","tokenCount":5}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 120 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:00'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:06'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:06'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:06'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:06'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:06'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:06'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:12'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:12'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:12'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:12'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:12'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:12'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:23'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:23'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:23'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:23'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:23'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:48:23'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: 4OIBR8pR0gBVuAx7AAAB) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:17'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:17'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:17'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:17'
}
{
  message: '👥 Remaining users in project 68b6902393632ca58611dd55: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:17'
}
{
  message: '🗑️ Empty project room 68b6902393632ca58611dd55 cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:17'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:17'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:17'
}
{
  message: '🧹 Cleanup: Stopped container session for socket 4OIBR8pR0gBVuAx7AAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:17'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:18'
}
{
  message: 'GET /api/projects/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:19'
}
{
  message: 'GET /api/files/project/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:19'
}
{
  message: 'GET /api/projects/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:19'
}
{
  message: 'GET /api/files/project/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:19'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID gcyWEVmRVL3lIMFmAAAG from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:19'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket gcyWEVmRVL3lIMFmAAAG',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:19'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: gcyWEVmRVL3lIMFmAAAG)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:19'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:19'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:19'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:19',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:19'
}
{
  message: 'GET /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:19'
}
{
  service: 'collabcode-backend',
  projectId: '68b6902393632ca58611dd55',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 11:49:19'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:19'
}
{
  message: '🆕 New Project Room Created: project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:19'
}
{
  message: '👥 Project Room Status: 1 users in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:19'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:19'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:19'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:19'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:19'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket Wyx6txTCCvyRnW6oAAAH',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:20'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: Wyx6txTCCvyRnW6oAAAH)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:20'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 20,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 11:49:20'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:20'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:20'
}
{
  message: '📝 Enhanced prompt for completion (685 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:20'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:20'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:21'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "('"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 162,\n' +
    '    "totalTokenCount": 162,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 162\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "cZO2aJq9LZrnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:21'
}
{
  message: `✅ Token extracted via chunk.text(): "('"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:21'
}
{
  message: `📊 CHUNK SUMMARY: token="('", hasToken=true, tokenLength=2`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:21'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"('","completionText":"('","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:21'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"('","completionText":"('","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:21'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"('","completionText":"('","done":false,"sessionId":"Wyx6txTCCvyRnW6oAAAH","tokenCount":1}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:21'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "http');\\nconst port = process.env.PORT || 300"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 162,\n' +
    '    "totalTokenCount": 162,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 162\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "cZO2aJq9LZrnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:22'
}
{
  message: `✅ Token extracted via chunk.text(): "http');\n` +
    'const port = process.env.PORT || 300"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:22'
}
{
  message: `📊 CHUNK SUMMARY: token="http');\n` +
    'const port = process.env.PORT || 300", hasToken=true, tokenLength=44',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:22'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"http');\\nconst port = process.env.PORT || 300","completionText":"('http');\\nconst port = process.env.PORT || 300","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:22'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"http');\\nconst port = process.env.PORT || 300","completionText":"('http');\\nconst port = process.env.PORT || 300","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:22'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"http');\\nconst port = process.env.PORT || 300","completionText":"('http');\\nconst port = process.env.PORT || 300","done":false,"sessionId":"Wyx6txTCCvyRnW6oAAAH","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:22'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "0;\\nconst server = http.createServer((req, res) => {"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 162,\n' +
    '    "totalTokenCount": 162,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 162\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "cZO2aJq9LZrnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:22'
}
{
  message: '✅ Token extracted via chunk.text(): "0;\n' +
    'const server = http.createServer((req, res) => {"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:22'
}
{
  message: '📊 CHUNK SUMMARY: token="0;\n' +
    'const server = http.createServer((req, res) => {", hasToken=true, tokenLength=51',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:22'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"0;\\nconst server = http.createServer((req, res) => {","completionText":"('http');\\nconst port = process.env.PORT || 3000;\\nconst server = http.createServer((req, res) => {","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:22'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"0;\\nconst server = http.createServer((req, res) => {","completionText":"('http');\\nconst port = process.env.PORT || 3000;\\nconst server = http.createServer((req, res) => {","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:22'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"0;\\nconst server = http.createServer((req, res) => {","completionText":"('http');\\nconst port = process.env.PORT || 3000;\\nconst server = http.createServer((req, res) => {","done":false,"sessionId":"Wyx6txTCCvyRnW6oAAAH","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:22'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 161,\n' +
    '    "candidatesTokenCount": 34,\n' +
    '    "totalTokenCount": 195,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 161\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 34\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "cZO2aJq9LZrnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:22'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:22'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:22'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"('http');\\nconst port = process.env.PORT || 3000;\\nconst server = http.createServer((req, res) => {\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:22'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"('http');\\nconst port = process.env.PORT || 3000;\\nconst server = http.createServer((req, res) => {\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:22'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"('http');\\nconst port = process.env.PORT || 3000;\\nconst server = http.createServer((req, res) => {\\n","done":false,"sessionId":"Wyx6txTCCvyRnW6oAAAH","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:22'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 98',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:22'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"('http');\\nconst port = process.env.PORT || 3000;\\nconst server = http.createServer((req, res) => {\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:22'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"('http');\\nconst port = process.env.PORT || 3000;\\nconst server = http.createServer((req, res) => {\\n","done":true,"sessionId":"Wyx6txTCCvyRnW6oAAAH","tokenCount":5}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:22'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:22'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 98 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:22'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:22'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket 3M_ldYO_-1Xv1i0AAAAJ',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:25'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: 3M_ldYO_-1Xv1i0AAAAJ)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:25'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 20,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 11:49:25'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:25'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:25'
}
{
  message: '📝 Enhanced prompt for completion (685 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:25'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:25'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "('"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 162,\n' +
    '    "totalTokenCount": 162,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 162\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "dpO2aL2JC5eThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: `✅ Token extracted via chunk.text(): "('"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: `📊 CHUNK SUMMARY: token="('", hasToken=true, tokenLength=2`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"('","completionText":"('","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"('","completionText":"('","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"('","completionText":"('","done":false,"sessionId":"3M_ldYO_-1Xv1i0AAAAJ","tokenCount":1}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "http');\\nconst port = process.env.PORT || 300"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 162,\n' +
    '    "totalTokenCount": 162,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 162\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "dpO2aL2JC5eThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: `✅ Token extracted via chunk.text(): "http');\n` +
    'const port = process.env.PORT || 300"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: `📊 CHUNK SUMMARY: token="http');\n` +
    'const port = process.env.PORT || 300", hasToken=true, tokenLength=44',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"http');\\nconst port = process.env.PORT || 300","completionText":"('http');\\nconst port = process.env.PORT || 300","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"http');\\nconst port = process.env.PORT || 300","completionText":"('http');\\nconst port = process.env.PORT || 300","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"http');\\nconst port = process.env.PORT || 300","completionText":"('http');\\nconst port = process.env.PORT || 300","done":false,"sessionId":"3M_ldYO_-1Xv1i0AAAAJ","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "0;\\nconst server = http.createServer((req, res) => {"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 162,\n' +
    '    "totalTokenCount": 162,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 162\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "dpO2aL2JC5eThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: '✅ Token extracted via chunk.text(): "0;\n' +
    'const server = http.createServer((req, res) => {"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: '📊 CHUNK SUMMARY: token="0;\n' +
    'const server = http.createServer((req, res) => {", hasToken=true, tokenLength=51',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"0;\\nconst server = http.createServer((req, res) => {","completionText":"('http');\\nconst port = process.env.PORT || 3000;\\nconst server = http.createServer((req, res) => {","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"0;\\nconst server = http.createServer((req, res) => {","completionText":"('http');\\nconst port = process.env.PORT || 3000;\\nconst server = http.createServer((req, res) => {","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"0;\\nconst server = http.createServer((req, res) => {","completionText":"('http');\\nconst port = process.env.PORT || 3000;\\nconst server = http.createServer((req, res) => {","done":false,"sessionId":"3M_ldYO_-1Xv1i0AAAAJ","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 161,\n' +
    '    "candidatesTokenCount": 34,\n' +
    '    "totalTokenCount": 195,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 161\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 34\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "dpO2aL2JC5eThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"('http');\\nconst port = process.env.PORT || 3000;\\nconst server = http.createServer((req, res) => {\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"('http');\\nconst port = process.env.PORT || 3000;\\nconst server = http.createServer((req, res) => {\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"('http');\\nconst port = process.env.PORT || 3000;\\nconst server = http.createServer((req, res) => {\\n","done":false,"sessionId":"3M_ldYO_-1Xv1i0AAAAJ","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 98',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"('http');\\nconst port = process.env.PORT || 3000;\\nconst server = http.createServer((req, res) => {\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"('http');\\nconst port = process.env.PORT || 3000;\\nconst server = http.createServer((req, res) => {\\n","done":true,"sessionId":"3M_ldYO_-1Xv1i0AAAAJ","tokenCount":5}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 98 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:26'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket 515xurSTZfA-a9LPAAAL',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:30'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: 515xurSTZfA-a9LPAAAL)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:30'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 121,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 11:49:30'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:30'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:30'
}
{
  message: '📝 Enhanced prompt for completion (786 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:30'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:30'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "res"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 195,\n' +
    '    "totalTokenCount": 195,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 195\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "epO2aPnWMe6LqsMPhfO--Aw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: '✅ Token extracted via chunk.text(): "res"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: '📊 CHUNK SUMMARY: token="res", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"res","completionText":"res","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"res","completionText":"res","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"res","completionText":"res","done":false,"sessionId":"515xurSTZfA-a9LPAAAL","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".writeHead(200, { 'Content-Type': 'text/"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 195,\n' +
    '    "totalTokenCount": 195,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 195\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "epO2aPnWMe6LqsMPhfO--Aw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: `✅ Token extracted via chunk.text(): ".writeHead(200, { 'Content-Type': 'text/"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: `📊 CHUNK SUMMARY: token=".writeHead(200, { 'Content-Type': 'text/", hasToken=true, tokenLength=40`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".writeHead(200, { 'Content-Type': 'text/","completionText":"res.writeHead(200, { 'Content-Type': 'text/","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".writeHead(200, { 'Content-Type': 'text/","completionText":"res.writeHead(200, { 'Content-Type': 'text/","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".writeHead(200, { 'Content-Type': 'text/","completionText":"res.writeHead(200, { 'Content-Type': 'text/","done":false,"sessionId":"515xurSTZfA-a9LPAAAL","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "plain' });\\nres.end('Hello World\\\\n');\\n});\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 195,\n' +
    '    "totalTokenCount": 195,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 195\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "epO2aPnWMe6LqsMPhfO--Aw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: `✅ Token extracted via chunk.text(): "plain' });\n` +
    "res.end('Hello World\\n');\n" +
    '});\n' +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: `📊 CHUNK SUMMARY: token="plain' });\n` +
    "res.end('Hello World\\n');\n" +
    '});\n' +
    '", hasToken=true, tokenLength=41',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"plain' });\\nres.end('Hello World\\\\n');\\n});\\n","completionText":"res.writeHead(200, { 'Content-Type': 'text/plain' });\\nres.end('Hello World\\\\n');\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"plain' });\\nres.end('Hello World\\\\n');\\n});\\n","completionText":"res.writeHead(200, { 'Content-Type': 'text/plain' });\\nres.end('Hello World\\\\n');\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"plain' });\\nres.end('Hello World\\\\n');\\n});\\n","completionText":"res.writeHead(200, { 'Content-Type': 'text/plain' });\\nres.end('Hello World\\\\n');\\n});\\n","done":false,"sessionId":"515xurSTZfA-a9LPAAAL","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "server.listen(port, () => console.log(`Server running on port ${port}`));\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 194,\n' +
    '    "candidatesTokenCount": 54,\n' +
    '    "totalTokenCount": 248,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 194\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 54\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "epO2aPnWMe6LqsMPhfO--Aw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: '✅ Token extracted via chunk.text(): "server.listen(port, () => console.log(`Server running on port ${port}`));\n' +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: '📊 CHUNK SUMMARY: token="server.listen(port, () => console.log(`Server running on port ${port}`));\n' +
    '", hasToken=true, tokenLength=74',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"server.listen(port, () => console.log(`Server running on port ${port}`));\\n","completionText":"res.writeHead(200, { \'Content-Type\': \'text/plain\' });\\nres.end(\'Hello World\\\\n\');\\n});\\nserver.listen(port, () => console.log(`Server running on port ${port}`));\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"server.listen(port, () => console.log(`Server running on port ${port}`));\\n","completionText":"res.writeHead(200, { \'Content-Type\': \'text/plain\' });\\nres.end(\'Hello World\\\\n\');\\n});\\nserver.listen(port, () => console.log(`Server running on port ${port}`));\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"server.listen(port, () => console.log(`Server running on port ${port}`));\\n","completionText":"res.writeHead(200, { \'Content-Type\': \'text/plain\' });\\nres.end(\'Hello World\\\\n\');\\n});\\nserver.listen(port, () => console.log(`Server running on port ${port}`));\\n","done":false,"sessionId":"515xurSTZfA-a9LPAAAL","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 158',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"res.writeHead(200, { \'Content-Type\': \'text/plain\' });\\nres.end(\'Hello World\\\\n\');\\n});\\nserver.listen(port, () => console.log(`Server running on port ${port}`));\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"res.writeHead(200, { \'Content-Type\': \'text/plain\' });\\nres.end(\'Hello World\\\\n\');\\n});\\nserver.listen(port, () => console.log(`Server running on port ${port}`));\\n","done":true,"sessionId":"515xurSTZfA-a9LPAAAL","tokenCount":5}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 158 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:49:31'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:52'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:52'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:52'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:52'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:52'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:52'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket hgsOmx4-RQn776FRAAAN',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:55'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: hgsOmx4-RQn776FRAAAN)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:55'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 123,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 11:50:55'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:55'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:55'
}
{
  message: '📝 Enhanced prompt for completion (788 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:55'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:55'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "res"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 197,\n' +
    '    "totalTokenCount": 197,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 197\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "0ZO2aOyPAs6ShMIPz7-yuQ0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: '✅ Token extracted via chunk.text(): "res"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: '📊 CHUNK SUMMARY: token="res", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"res","completionText":"res","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"res","completionText":"res","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"res","completionText":"res","done":false,"sessionId":"hgsOmx4-RQn776FRAAAN","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".writeHead(200, { 'Content-Type': 'text/"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 197,\n' +
    '    "totalTokenCount": 197,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 197\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "0ZO2aOyPAs6ShMIPz7-yuQ0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: `✅ Token extracted via chunk.text(): ".writeHead(200, { 'Content-Type': 'text/"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: `📊 CHUNK SUMMARY: token=".writeHead(200, { 'Content-Type': 'text/", hasToken=true, tokenLength=40`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".writeHead(200, { 'Content-Type': 'text/","completionText":"res.writeHead(200, { 'Content-Type': 'text/","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".writeHead(200, { 'Content-Type': 'text/","completionText":"res.writeHead(200, { 'Content-Type': 'text/","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".writeHead(200, { 'Content-Type': 'text/","completionText":"res.writeHead(200, { 'Content-Type': 'text/","done":false,"sessionId":"hgsOmx4-RQn776FRAAAN","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "plain' });\\nres.end('Hello World\\\\n');\\n});\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 197,\n' +
    '    "totalTokenCount": 197,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 197\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "0ZO2aOyPAs6ShMIPz7-yuQ0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: `✅ Token extracted via chunk.text(): "plain' });\n` +
    "res.end('Hello World\\n');\n" +
    '});\n' +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: `📊 CHUNK SUMMARY: token="plain' });\n` +
    "res.end('Hello World\\n');\n" +
    '});\n' +
    '", hasToken=true, tokenLength=41',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"plain' });\\nres.end('Hello World\\\\n');\\n});\\n","completionText":"res.writeHead(200, { 'Content-Type': 'text/plain' });\\nres.end('Hello World\\\\n');\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"plain' });\\nres.end('Hello World\\\\n');\\n});\\n","completionText":"res.writeHead(200, { 'Content-Type': 'text/plain' });\\nres.end('Hello World\\\\n');\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"plain' });\\nres.end('Hello World\\\\n');\\n});\\n","completionText":"res.writeHead(200, { 'Content-Type': 'text/plain' });\\nres.end('Hello World\\\\n');\\n});\\n","done":false,"sessionId":"hgsOmx4-RQn776FRAAAN","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "server.listen(port, () => console.log(`Server running on port ${port}`));\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 196,\n' +
    '    "candidatesTokenCount": 54,\n' +
    '    "totalTokenCount": 250,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 196\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 54\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "0ZO2aOyPAs6ShMIPz7-yuQ0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: '✅ Token extracted via chunk.text(): "server.listen(port, () => console.log(`Server running on port ${port}`));\n' +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: '📊 CHUNK SUMMARY: token="server.listen(port, () => console.log(`Server running on port ${port}`));\n' +
    '", hasToken=true, tokenLength=74',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"server.listen(port, () => console.log(`Server running on port ${port}`));\\n","completionText":"res.writeHead(200, { \'Content-Type\': \'text/plain\' });\\nres.end(\'Hello World\\\\n\');\\n});\\nserver.listen(port, () => console.log(`Server running on port ${port}`));\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"server.listen(port, () => console.log(`Server running on port ${port}`));\\n","completionText":"res.writeHead(200, { \'Content-Type\': \'text/plain\' });\\nres.end(\'Hello World\\\\n\');\\n});\\nserver.listen(port, () => console.log(`Server running on port ${port}`));\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"server.listen(port, () => console.log(`Server running on port ${port}`));\\n","completionText":"res.writeHead(200, { \'Content-Type\': \'text/plain\' });\\nres.end(\'Hello World\\\\n\');\\n});\\nserver.listen(port, () => console.log(`Server running on port ${port}`));\\n","done":false,"sessionId":"hgsOmx4-RQn776FRAAAN","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 158',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"res.writeHead(200, { \'Content-Type\': \'text/plain\' });\\nres.end(\'Hello World\\\\n\');\\n});\\nserver.listen(port, () => console.log(`Server running on port ${port}`));\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"res.writeHead(200, { \'Content-Type\': \'text/plain\' });\\nres.end(\'Hello World\\\\n\');\\n});\\nserver.listen(port, () => console.log(`Server running on port ${port}`));\\n","done":true,"sessionId":"hgsOmx4-RQn776FRAAAN","tokenCount":5}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 158 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:50:57'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket HUNnJRJ3x-RvNNzaAAAP',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:08'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: HUNnJRJ3x-RvNNzaAAAP)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:08'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 285,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 11:51:08'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:08'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:08'
}
{
  message: '📝 Enhanced prompt for completion (950 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:08'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:08'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:09'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:09'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:09'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:09'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:09'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:09'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:09'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "server"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 251,\n' +
    '    "totalTokenCount": 251,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 251\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "3ZO2aJuHIZrnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:09'
}
{
  message: '✅ Token extracted via chunk.text(): "server"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:09'
}
{
  message: '📊 CHUNK SUMMARY: token="server", hasToken=true, tokenLength=6',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:09'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"server","completionText":"server","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:09'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"server","completionText":"server","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:09'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"server","completionText":"server","done":false,"sessionId":"HUNnJRJ3x-RvNNzaAAAP","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:09'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".on('error', err => {\\n  console.error('Server failed"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 251,\n' +
    '    "totalTokenCount": 251,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 251\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "3ZO2aJuHIZrnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:09'
}
{
  message: `✅ Token extracted via chunk.text(): ".on('error', err => {\n` +
    `  console.error('Server failed"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:09'
}
{
  message: `📊 CHUNK SUMMARY: token=".on('error', err => {\n` +
    `  console.error('Server failed", hasToken=true, tokenLength=52`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:09'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".on('error', err => {\\n  console.error('Server failed","completionText":"server.on('error', err => {\\n  console.error('Server failed","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:09'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".on('error', err => {\\n  console.error('Server failed","completionText":"server.on('error', err => {\\n  console.error('Server failed","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:09'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".on('error', err => {\\n  console.error('Server failed","completionText":"server.on('error', err => {\\n  console.error('Server failed","done":false,"sessionId":"HUNnJRJ3x-RvNNzaAAAP","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:09'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": " to start:', err);\\n});\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 250,\n' +
    '    "candidatesTokenCount": 25,\n' +
    '    "totalTokenCount": 275,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 250\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 25\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "3ZO2aJuHIZrnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:09'
}
{
  message: `✅ Token extracted via chunk.text(): " to start:', err);\n});\n"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:09'
}
{
  message: `📊 CHUNK SUMMARY: token=" to start:', err);\n` +
    '});\n' +
    '", hasToken=true, tokenLength=23',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:09'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":" to start:', err);\\n});\\n","completionText":"server.on('error', err => {\\n  console.error('Server failed to start:', err);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:09'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":" to start:', err);\\n});\\n","completionText":"server.on('error', err => {\\n  console.error('Server failed to start:', err);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:09'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":" to start:', err);\\n});\\n","completionText":"server.on('error', err => {\\n  console.error('Server failed to start:', err);\\n});\\n","done":false,"sessionId":"HUNnJRJ3x-RvNNzaAAAP","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:09'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 81',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:10'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"server.on('error', err => {\\n  console.error('Server failed to start:', err);\\n});\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:10'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"server.on('error', err => {\\n  console.error('Server failed to start:', err);\\n});\\n","done":true,"sessionId":"HUNnJRJ3x-RvNNzaAAAP","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:10'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:10'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 81 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:10'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:10'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:21'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:21'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:21'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:21'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:21'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:21'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket tSEKk-ettMgi3sPDAAAR',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:24'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: tSEKk-ettMgi3sPDAAAR)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:24'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 13,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 11:51:24'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:24'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:24'
}
{
  message: '📝 Enhanced prompt for completion (678 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:24'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:24'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:24'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "="\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 161,\n' +
    '    "totalTokenCount": 161,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 161\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "7JO2aManJPzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:24'
}
{
  message: '✅ Token extracted via chunk.text(): "="',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:24'
}
{
  message: '📊 CHUNK SUMMARY: token="=", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:24'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"=","completionText":"=","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:24'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"=","completionText":"=","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:24'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"=","completionText":"=","done":false,"sessionId":"tSEKk-ettMgi3sPDAAAR","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:24'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": " require('http');\\nconst port = 3000;\\nconst"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 161,\n' +
    '    "totalTokenCount": 161,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 161\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "7JO2aManJPzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:24'
}
{
  message: `✅ Token extracted via chunk.text(): " require('http');\n` +
    'const port = 3000;\n' +
    'const"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:24'
}
{
  message: `📊 CHUNK SUMMARY: token=" require('http');\n` +
    'const port = 3000;\n' +
    'const", hasToken=true, tokenLength=42',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:24'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":" require('http');\\nconst port = 3000;\\nconst","completionText":"= require('http');\\nconst port = 3000;\\nconst","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:24'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":" require('http');\\nconst port = 3000;\\nconst","completionText":"= require('http');\\nconst port = 3000;\\nconst","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:24'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":" require('http');\\nconst port = 3000;\\nconst","completionText":"= require('http');\\nconst port = 3000;\\nconst","done":false,"sessionId":"tSEKk-ettMgi3sPDAAAR","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:24'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " server = http.createServer((req, res) => {\\n  res."\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 161,\n' +
    '    "totalTokenCount": 161,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 161\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "7JO2aManJPzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:25'
}
{
  message: '✅ Token extracted via chunk.text(): " server = http.createServer((req, res) => {\n' +
    '  res."',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:25'
}
{
  message: '📊 CHUNK SUMMARY: token=" server = http.createServer((req, res) => {\n' +
    '  res.", hasToken=true, tokenLength=50',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:25'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":" server = http.createServer((req, res) => {\\n  res.","completionText":"= require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:25'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":" server = http.createServer((req, res) => {\\n  res.","completionText":"= require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:25'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":" server = http.createServer((req, res) => {\\n  res.","completionText":"= require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.","done":false,"sessionId":"tSEKk-ettMgi3sPDAAAR","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:25'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "end('Hello World!');\\n});\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 160,\n' +
    '    "candidatesTokenCount": 41,\n' +
    '    "totalTokenCount": 201,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 160\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 41\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "7JO2aManJPzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:25'
}
{
  message: `✅ Token extracted via chunk.text(): "end('Hello World!');\n});\n"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:25'
}
{
  message: `📊 CHUNK SUMMARY: token="end('Hello World!');\n` +
    '});\n' +
    '", hasToken=true, tokenLength=25',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:25'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"end('Hello World!');\\n});\\n","completionText":"= require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.end('Hello World!');\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:25'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"end('Hello World!');\\n});\\n","completionText":"= require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.end('Hello World!');\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:25'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"end('Hello World!');\\n});\\n","completionText":"= require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.end('Hello World!');\\n});\\n","done":false,"sessionId":"tSEKk-ettMgi3sPDAAAR","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:25'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 118',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:25'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"= require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.end('Hello World!');\\n});\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:25'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"= require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.end('Hello World!');\\n});\\n","done":true,"sessionId":"tSEKk-ettMgi3sPDAAAR","tokenCount":5}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:25'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:25'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 118 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:25'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:25'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket bEBgH8c84c1GGwj3AAAT',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: bEBgH8c84c1GGwj3AAAT)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 136,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '📝 Enhanced prompt for completion (801 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "server"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 203,\n' +
    '    "totalTokenCount": 203,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 203\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "7pO2aJaWDv2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '✅ Token extracted via chunk.text(): "server"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '📊 CHUNK SUMMARY: token="server", hasToken=true, tokenLength=6',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"server","completionText":"server","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"server","completionText":"server","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"server","completionText":"server","done":false,"sessionId":"bEBgH8c84c1GGwj3AAAT","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ".listen(port, () => {\\n  console.log(`Server running"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 203,\n' +
    '    "totalTokenCount": 203,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 203\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "7pO2aJaWDv2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '✅ Token extracted via chunk.text(): ".listen(port, () => {\n' +
    '  console.log(`Server running"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '📊 CHUNK SUMMARY: token=".listen(port, () => {\n' +
    '  console.log(`Server running", hasToken=true, tokenLength=51',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":".listen(port, () => {\\n  console.log(`Server running","completionText":"server.listen(port, () => {\\n  console.log(`Server running","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".listen(port, () => {\\n  console.log(`Server running","completionText":"server.listen(port, () => {\\n  console.log(`Server running","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".listen(port, () => {\\n  console.log(`Server running","completionText":"server.listen(port, () => {\\n  console.log(`Server running","done":false,"sessionId":"bEBgH8c84c1GGwj3AAAT","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " at http://localhost:${port}/`);\\n});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 202,\n' +
    '    "candidatesTokenCount": 28,\n' +
    '    "totalTokenCount": 230,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 202\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 28\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "7pO2aJaWDv2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '✅ Token extracted via chunk.text(): " at http://localhost:${port}/`);\n' +
    '});\n' +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '📊 CHUNK SUMMARY: token=" at http://localhost:${port}/`);\n' +
    '});\n' +
    '", hasToken=true, tokenLength=37',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" at http://localhost:${port}/`);\\n});\\n","completionText":"server.listen(port, () => {\\n  console.log(`Server running at http://localhost:${port}/`);\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" at http://localhost:${port}/`);\\n});\\n","completionText":"server.listen(port, () => {\\n  console.log(`Server running at http://localhost:${port}/`);\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" at http://localhost:${port}/`);\\n});\\n","completionText":"server.listen(port, () => {\\n  console.log(`Server running at http://localhost:${port}/`);\\n});\\n","done":false,"sessionId":"bEBgH8c84c1GGwj3AAAT","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 94',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"server.listen(port, () => {\\n  console.log(`Server running at http://localhost:${port}/`);\\n});\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"server.listen(port, () => {\\n  console.log(`Server running at http://localhost:${port}/`);\\n});\\n","done":true,"sessionId":"bEBgH8c84c1GGwj3AAAT","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 94 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:51:26'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:39'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:39'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:39'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:39'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:39'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:39'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket NXpTuUmUHZ9ekhHGAAAV',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:40'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: NXpTuUmUHZ9ekhHGAAAV)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:40'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 138,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 11:52:40'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:40'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:40'
}
{
  message: '📝 Enhanced prompt for completion (803 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:40'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:40'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:41'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "server"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 205,\n' +
    '    "totalTokenCount": 205,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 205\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "OZS2aPKrJO6LqsMPhfO--Aw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:41'
}
{
  message: '✅ Token extracted via chunk.text(): "server"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:41'
}
{
  message: '📊 CHUNK SUMMARY: token="server", hasToken=true, tokenLength=6',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:41'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"server","completionText":"server","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:41'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"server","completionText":"server","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:41'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"server","completionText":"server","done":false,"sessionId":"NXpTuUmUHZ9ekhHGAAAV","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:41'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ".listen(port, () => {\\n  console.log(`Server listening"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 205,\n' +
    '    "totalTokenCount": 205,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 205\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "OZS2aPKrJO6LqsMPhfO--Aw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:41'
}
{
  message: '✅ Token extracted via chunk.text(): ".listen(port, () => {\n' +
    '  console.log(`Server listening"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:41'
}
{
  message: '📊 CHUNK SUMMARY: token=".listen(port, () => {\n' +
    '  console.log(`Server listening", hasToken=true, tokenLength=53',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:41'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":".listen(port, () => {\\n  console.log(`Server listening","completionText":"server.listen(port, () => {\\n  console.log(`Server listening","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:41'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".listen(port, () => {\\n  console.log(`Server listening","completionText":"server.listen(port, () => {\\n  console.log(`Server listening","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:41'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".listen(port, () => {\\n  console.log(`Server listening","completionText":"server.listen(port, () => {\\n  console.log(`Server listening","done":false,"sessionId":"NXpTuUmUHZ9ekhHGAAAV","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:41'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " on port ${port}`);\\n});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 204,\n' +
    '    "candidatesTokenCount": 25,\n' +
    '    "totalTokenCount": 229,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 204\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 25\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "OZS2aPKrJO6LqsMPhfO--Aw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:42'
}
{
  message: '✅ Token extracted via chunk.text(): " on port ${port}`);\n});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:42'
}
{
  message: '📊 CHUNK SUMMARY: token=" on port ${port}`);\n' +
    '});\n' +
    '", hasToken=true, tokenLength=24',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:42'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" on port ${port}`);\\n});\\n","completionText":"server.listen(port, () => {\\n  console.log(`Server listening on port ${port}`);\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:42'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" on port ${port}`);\\n});\\n","completionText":"server.listen(port, () => {\\n  console.log(`Server listening on port ${port}`);\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:42'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" on port ${port}`);\\n});\\n","completionText":"server.listen(port, () => {\\n  console.log(`Server listening on port ${port}`);\\n});\\n","done":false,"sessionId":"NXpTuUmUHZ9ekhHGAAAV","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:42'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 83',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:42'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"server.listen(port, () => {\\n  console.log(`Server listening on port ${port}`);\\n});\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:42'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"server.listen(port, () => {\\n  console.log(`Server listening on port ${port}`);\\n});\\n","done":true,"sessionId":"NXpTuUmUHZ9ekhHGAAAV","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:42'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:42'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 83 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:42'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:42'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket UmwWqVgQ9Dx7c23lAAAX',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:42'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: UmwWqVgQ9Dx7c23lAAAX)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:42'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 224,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 11:52:42'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:42'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:42'
}
{
  message: '📝 Enhanced prompt for completion (889 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:42'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:42'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "process"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 231,\n' +
    '    "totalTokenCount": 231,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 231\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "OpS2aMPIOd6XhMIP38T7sA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: '✅ Token extracted via chunk.text(): "process"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: '📊 CHUNK SUMMARY: token="process", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"process","completionText":"process","done":false,"sessionId":"UmwWqVgQ9Dx7c23lAAAX","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".on('unhandledRejection', (err) => {\\n  console."\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 231,\n' +
    '    "totalTokenCount": 231,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 231\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "OpS2aMPIOd6XhMIP38T7sA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: `✅ Token extracted via chunk.text(): ".on('unhandledRejection', (err) => {\n` +
    '  console."',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: `📊 CHUNK SUMMARY: token=".on('unhandledRejection', (err) => {\n` +
    '  console.", hasToken=true, tokenLength=47',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".on('unhandledRejection', (err) => {\\n  console.","completionText":"process.on('unhandledRejection', (err) => {\\n  console.","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".on('unhandledRejection', (err) => {\\n  console.","completionText":"process.on('unhandledRejection', (err) => {\\n  console.","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".on('unhandledRejection', (err) => {\\n  console.","completionText":"process.on('unhandledRejection', (err) => {\\n  console.","done":false,"sessionId":"UmwWqVgQ9Dx7c23lAAAX","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "error(err);\\n  process.exit(1);\\n});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 230,\n' +
    '    "candidatesTokenCount": 32,\n' +
    '    "totalTokenCount": 262,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 230\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 32\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "OpS2aMPIOd6XhMIP38T7sA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: '✅ Token extracted via chunk.text(): "error(err);\n  process.exit(1);\n});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: '📊 CHUNK SUMMARY: token="error(err);\n' +
    '  process.exit(1);\n' +
    '});\n' +
    '", hasToken=true, tokenLength=35',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"error(err);\\n  process.exit(1);\\n});\\n","completionText":"process.on('unhandledRejection', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"error(err);\\n  process.exit(1);\\n});\\n","completionText":"process.on('unhandledRejection', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"error(err);\\n  process.exit(1);\\n});\\n","completionText":"process.on('unhandledRejection', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false,"sessionId":"UmwWqVgQ9Dx7c23lAAAX","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 89',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"process.on('unhandledRejection', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"process.on('unhandledRejection', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":true,"sessionId":"UmwWqVgQ9Dx7c23lAAAX","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 89 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:52:43'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:45'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:45'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:45'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:45'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:45'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:45'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket _vYNYqWIxGwCZrzMAAAZ',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:46'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: _vYNYqWIxGwCZrzMAAAZ)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:46'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 226,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 11:55:46'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:46'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:46'
}
{
  message: '📝 Enhanced prompt for completion (891 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:46'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:46'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:47'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "process"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 233,\n' +
    '    "totalTokenCount": 233,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 233\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "85S2aMfWC72XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:47'
}
{
  message: '✅ Token extracted via chunk.text(): "process"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:47'
}
{
  message: '📊 CHUNK SUMMARY: token="process", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:47'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:47'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:47'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"process","completionText":"process","done":false,"sessionId":"_vYNYqWIxGwCZrzMAAAZ","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:47'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:47'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:47'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".on('SIGINT', () => {\\n  server.close(() => {"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 233,\n' +
    '    "totalTokenCount": 233,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 233\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "85S2aMfWC72XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:47'
}
{
  message: `✅ Token extracted via chunk.text(): ".on('SIGINT', () => {\n` +
    '  server.close(() => {"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:47'
}
{
  message: `📊 CHUNK SUMMARY: token=".on('SIGINT', () => {\n` +
    '  server.close(() => {", hasToken=true, tokenLength=44',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:47'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".on('SIGINT', () => {\\n  server.close(() => {","completionText":"process.on('SIGINT', () => {\\n  server.close(() => {","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:47'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".on('SIGINT', () => {\\n  server.close(() => {","completionText":"process.on('SIGINT', () => {\\n  server.close(() => {","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:47'
}
{
  message: 'Completion cancelled for socket _vYNYqWIxGwCZrzMAAAZ',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:47'
}
{
  message: 'Completion finished for adnan99@gmail.com: 1 tokens, 7 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:47'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket 3teW-MrOna-Q5uvrAAAb',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:47'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: 3teW-MrOna-Q5uvrAAAb)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:47'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 233,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 11:55:47'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:47'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:47'
}
{
  message: '📝 Enhanced prompt for completion (898 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:47'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:47'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:48'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:48'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:48'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:48'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:48'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:48'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:48'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "."\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 234,\n' +
    '    "totalTokenCount": 234,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 234\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "9JS2aMu7JL3qqsMPtMbK0Q0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:48'
}
{
  message: '✅ Token extracted via chunk.text(): "."',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:48'
}
{
  message: '📊 CHUNK SUMMARY: token=".", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:48'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":".","completionText":".","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:48'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".","completionText":".","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:48'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".","completionText":".","done":false,"sessionId":"3teW-MrOna-Q5uvrAAAb","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:48'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "on('unhandledRejection', err => {\\n  console.error(err"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 234,\n' +
    '    "totalTokenCount": 234,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 234\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "9JS2aMu7JL3qqsMPtMbK0Q0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:48'
}
{
  message: `✅ Token extracted via chunk.text(): "on('unhandledRejection', err => {\n` +
    '  console.error(err"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:48'
}
{
  message: `📊 CHUNK SUMMARY: token="on('unhandledRejection', err => {\n` +
    '  console.error(err", hasToken=true, tokenLength=53',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:48'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"on('unhandledRejection', err => {\\n  console.error(err","completionText":".on('unhandledRejection', err => {\\n  console.error(err","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:48'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"on('unhandledRejection', err => {\\n  console.error(err","completionText":".on('unhandledRejection', err => {\\n  console.error(err","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:48'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"on('unhandledRejection', err => {\\n  console.error(err","completionText":".on('unhandledRejection', err => {\\n  console.error(err","done":false,"sessionId":"3teW-MrOna-Q5uvrAAAb","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:48'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ");\\n  process.exit(1);\\n});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 233,\n' +
    '    "candidatesTokenCount": 29,\n' +
    '    "totalTokenCount": 262,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 233\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 29\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "9JS2aMu7JL3qqsMPtMbK0Q0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:49'
}
{
  message: '✅ Token extracted via chunk.text(): ");\n  process.exit(1);\n});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:49'
}
{
  message: '📊 CHUNK SUMMARY: token=");\n' +
    '  process.exit(1);\n' +
    '});\n' +
    '", hasToken=true, tokenLength=26',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:49'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":");\\n  process.exit(1);\\n});\\n","completionText":".on('unhandledRejection', err => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:49'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":");\\n  process.exit(1);\\n});\\n","completionText":".on('unhandledRejection', err => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:49'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":");\\n  process.exit(1);\\n});\\n","completionText":".on('unhandledRejection', err => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false,"sessionId":"3teW-MrOna-Q5uvrAAAb","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:49'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 80',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:49'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":".on('unhandledRejection', err => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:49'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":".on('unhandledRejection', err => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":true,"sessionId":"3teW-MrOna-Q5uvrAAAb","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:49'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:49'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 80 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:49'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:49'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket Y9TydnddZhlNGo46AAAd',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:51'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: Y9TydnddZhlNGo46AAAd)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:51'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 317,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 11:55:51'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:51'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:51'
}
{
  message: '📝 Enhanced prompt for completion (982 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:51'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:51'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "process"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 263,\n' +
    '    "totalTokenCount": 263,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 263\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "95S2aOauMJrnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: '✅ Token extracted via chunk.text(): "process"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: '📊 CHUNK SUMMARY: token="process", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"process","completionText":"process","done":false,"sessionId":"Y9TydnddZhlNGo46AAAd","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".on('SIGINT', () => {\\n  console.log('Shutting"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 263,\n' +
    '    "totalTokenCount": 263,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 263\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "95S2aOauMJrnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: `✅ Token extracted via chunk.text(): ".on('SIGINT', () => {\n` +
    `  console.log('Shutting"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: `📊 CHUNK SUMMARY: token=".on('SIGINT', () => {\n` +
    `  console.log('Shutting", hasToken=true, tokenLength=45`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".on('SIGINT', () => {\\n  console.log('Shutting","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".on('SIGINT', () => {\\n  console.log('Shutting","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".on('SIGINT', () => {\\n  console.log('Shutting","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting","done":false,"sessionId":"Y9TydnddZhlNGo46AAAd","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": " down...');\\n  server.close(() => process.exit(0));\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 263,\n' +
    '    "totalTokenCount": 263,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 263\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "95S2aOauMJrnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: `✅ Token extracted via chunk.text(): " down...');\n` +
    '  server.close(() => process.exit(0));\n' +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: `📊 CHUNK SUMMARY: token=" down...');\n` +
    '  server.close(() => process.exit(0));\n' +
    '", hasToken=true, tokenLength=51',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":" down...');\\n  server.close(() => process.exit(0));\\n","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting down...');\\n  server.close(() => process.exit(0));\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":" down...');\\n  server.close(() => process.exit(0));\\n","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting down...');\\n  server.close(() => process.exit(0));\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":" down...');\\n  server.close(() => process.exit(0));\\n","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting down...');\\n  server.close(() => process.exit(0));\\n","done":false,"sessionId":"Y9TydnddZhlNGo46AAAd","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 262,\n' +
    '    "candidatesTokenCount": 35,\n' +
    '    "totalTokenCount": 297,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 262\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 35\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "95S2aOauMJrnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: '✅ Token extracted via chunk.text(): "});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: '📊 CHUNK SUMMARY: token="});\n", hasToken=true, tokenLength=4',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"});\\n","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting down...');\\n  server.close(() => process.exit(0));\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"});\\n","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting down...');\\n  server.close(() => process.exit(0));\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"});\\n","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting down...');\\n  server.close(() => process.exit(0));\\n});\\n","done":false,"sessionId":"Y9TydnddZhlNGo46AAAd","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 107',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting down...');\\n  server.close(() => process.exit(0));\\n});\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting down...');\\n  server.close(() => process.exit(0));\\n});\\n","done":true,"sessionId":"Y9TydnddZhlNGo46AAAd","tokenCount":5}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 107 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:52'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:56'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:56'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:56'
}
{
  message: '📝 Enhanced prompt for completion (891 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:56'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:56'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:57'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "process"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 233,\n' +
    '    "totalTokenCount": 233,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 233\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "_ZS2aJu4BN6XhMIP38T7sA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:57'
}
{
  message: '✅ Token extracted via chunk.text(): "process"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:57'
}
{
  message: '📊 CHUNK SUMMARY: token="process", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:57'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:57'
}
{
  message: 'Client disconnected during completion generation for user 6894f6135cbf1256c0f77008',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:57'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:55:57'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:05'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:05'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:05'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:05'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:05'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:05'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:38'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:38'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:38'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:38'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:38'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:38'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket HXOM7LLivX20Y0e9AAAf',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:39'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: HXOM7LLivX20Y0e9AAAf)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:39'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 17,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 11:56:39'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:39'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:39'
}
{
  message: '📝 Enhanced prompt for completion (682 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:39'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:39'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "require"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 164,\n' +
    '    "totalTokenCount": 164,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 164\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "KJW2aOilDPzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: '✅ Token extracted via chunk.text(): "require"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: '📊 CHUNK SUMMARY: token="require", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"require","completionText":"require","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"require","completionText":"require","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"require","completionText":"require","done":false,"sessionId":"HXOM7LLivX20Y0e9AAAf","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "('http');\\nconst port = 3000;\\nconst server"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 164,\n' +
    '    "totalTokenCount": 164,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 164\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "KJW2aOilDPzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: `✅ Token extracted via chunk.text(): "('http');\n` +
    'const port = 3000;\n' +
    'const server"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: `📊 CHUNK SUMMARY: token="('http');\n` +
    'const port = 3000;\n' +
    'const server", hasToken=true, tokenLength=41',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"('http');\\nconst port = 3000;\\nconst server","completionText":"require('http');\\nconst port = 3000;\\nconst server","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"('http');\\nconst port = 3000;\\nconst server","completionText":"require('http');\\nconst port = 3000;\\nconst server","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"('http');\\nconst port = 3000;\\nconst server","completionText":"require('http');\\nconst port = 3000;\\nconst server","done":false,"sessionId":"HXOM7LLivX20Y0e9AAAf","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " = http.createServer((req, res) => {\\n  res.end"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 164,\n' +
    '    "totalTokenCount": 164,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 164\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "KJW2aOilDPzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: '✅ Token extracted via chunk.text(): " = http.createServer((req, res) => {\n' +
    '  res.end"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: '📊 CHUNK SUMMARY: token=" = http.createServer((req, res) => {\n' +
    '  res.end", hasToken=true, tokenLength=46',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":" = http.createServer((req, res) => {\\n  res.end","completionText":"require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.end","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":" = http.createServer((req, res) => {\\n  res.end","completionText":"require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.end","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":" = http.createServer((req, res) => {\\n  res.end","completionText":"require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.end","done":false,"sessionId":"HXOM7LLivX20Y0e9AAAf","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "('Hello World!');\\n});\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 163,\n' +
    '    "candidatesTokenCount": 40,\n' +
    '    "totalTokenCount": 203,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 163\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 40\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "KJW2aOilDPzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: `✅ Token extracted via chunk.text(): "('Hello World!');\n});\n"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: `📊 CHUNK SUMMARY: token="('Hello World!');\n` +
    '});\n' +
    '", hasToken=true, tokenLength=22',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"('Hello World!');\\n});\\n","completionText":"require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.end('Hello World!');\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"('Hello World!');\\n});\\n","completionText":"require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.end('Hello World!');\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"('Hello World!');\\n});\\n","completionText":"require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.end('Hello World!');\\n});\\n","done":false,"sessionId":"HXOM7LLivX20Y0e9AAAf","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 116',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.end('Hello World!');\\n});\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.end('Hello World!');\\n});\\n","done":true,"sessionId":"HXOM7LLivX20Y0e9AAAf","tokenCount":5}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 116 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:40'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket H_9OCmdocf90FMi9AAAh',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: H_9OCmdocf90FMi9AAAh)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 138,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '📝 Enhanced prompt for completion (803 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "server"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 205,\n' +
    '    "totalTokenCount": 205,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 205\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "KpW2aKDjDf2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '✅ Token extracted via chunk.text(): "server"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '📊 CHUNK SUMMARY: token="server", hasToken=true, tokenLength=6',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"server","completionText":"server","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"server","completionText":"server","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"server","completionText":"server","done":false,"sessionId":"H_9OCmdocf90FMi9AAAh","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ".listen(port, () => {\\n  console.log(`Server running"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 205,\n' +
    '    "totalTokenCount": 205,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 205\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "KpW2aKDjDf2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '✅ Token extracted via chunk.text(): ".listen(port, () => {\n' +
    '  console.log(`Server running"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '📊 CHUNK SUMMARY: token=".listen(port, () => {\n' +
    '  console.log(`Server running", hasToken=true, tokenLength=51',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":".listen(port, () => {\\n  console.log(`Server running","completionText":"server.listen(port, () => {\\n  console.log(`Server running","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".listen(port, () => {\\n  console.log(`Server running","completionText":"server.listen(port, () => {\\n  console.log(`Server running","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".listen(port, () => {\\n  console.log(`Server running","completionText":"server.listen(port, () => {\\n  console.log(`Server running","done":false,"sessionId":"H_9OCmdocf90FMi9AAAh","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " at http://localhost:${port}/`);\\n});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 204,\n' +
    '    "candidatesTokenCount": 28,\n' +
    '    "totalTokenCount": 232,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 204\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 28\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "KpW2aKDjDf2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '✅ Token extracted via chunk.text(): " at http://localhost:${port}/`);\n' +
    '});\n' +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '📊 CHUNK SUMMARY: token=" at http://localhost:${port}/`);\n' +
    '});\n' +
    '", hasToken=true, tokenLength=37',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" at http://localhost:${port}/`);\\n});\\n","completionText":"server.listen(port, () => {\\n  console.log(`Server running at http://localhost:${port}/`);\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" at http://localhost:${port}/`);\\n});\\n","completionText":"server.listen(port, () => {\\n  console.log(`Server running at http://localhost:${port}/`);\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" at http://localhost:${port}/`);\\n});\\n","completionText":"server.listen(port, () => {\\n  console.log(`Server running at http://localhost:${port}/`);\\n});\\n","done":false,"sessionId":"H_9OCmdocf90FMi9AAAh","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 94',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"server.listen(port, () => {\\n  console.log(`Server running at http://localhost:${port}/`);\\n});\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"server.listen(port, () => {\\n  console.log(`Server running at http://localhost:${port}/`);\\n});\\n","done":true,"sessionId":"H_9OCmdocf90FMi9AAAh","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 94 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:42'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:48'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:48'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:48'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:48'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:48'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:48'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket G7SedxZTVOCVfS4XAAAj',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:56'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: G7SedxZTVOCVfS4XAAAj)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:56'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 140,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 11:56:56'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:56'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:56'
}
{
  message: '📝 Enhanced prompt for completion (805 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:56'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:56'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:57'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "server"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 207,\n' +
    '    "totalTokenCount": 207,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 207\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "OZW2aNymEL3qqsMPtMbK0Q0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:57'
}
{
  message: '✅ Token extracted via chunk.text(): "server"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:57'
}
{
  message: '📊 CHUNK SUMMARY: token="server", hasToken=true, tokenLength=6',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:57'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"server","completionText":"server","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:57'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"server","completionText":"server","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:57'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"server","completionText":"server","done":false,"sessionId":"G7SedxZTVOCVfS4XAAAj","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:57'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ".listen(port, () => {\\n  console.log(`Server running"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 207,\n' +
    '    "totalTokenCount": 207,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 207\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "OZW2aNymEL3qqsMPtMbK0Q0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:57'
}
{
  message: '✅ Token extracted via chunk.text(): ".listen(port, () => {\n' +
    '  console.log(`Server running"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:57'
}
{
  message: '📊 CHUNK SUMMARY: token=".listen(port, () => {\n' +
    '  console.log(`Server running", hasToken=true, tokenLength=51',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:57'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":".listen(port, () => {\\n  console.log(`Server running","completionText":"server.listen(port, () => {\\n  console.log(`Server running","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:57'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".listen(port, () => {\\n  console.log(`Server running","completionText":"server.listen(port, () => {\\n  console.log(`Server running","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:57'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".listen(port, () => {\\n  console.log(`Server running","completionText":"server.listen(port, () => {\\n  console.log(`Server running","done":false,"sessionId":"G7SedxZTVOCVfS4XAAAj","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:57'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " at http://localhost:${port}/`);\\n});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 206,\n' +
    '    "candidatesTokenCount": 28,\n' +
    '    "totalTokenCount": 234,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 206\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 28\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "OZW2aNymEL3qqsMPtMbK0Q0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:57'
}
{
  message: '✅ Token extracted via chunk.text(): " at http://localhost:${port}/`);\n' +
    '});\n' +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:57'
}
{
  message: '📊 CHUNK SUMMARY: token=" at http://localhost:${port}/`);\n' +
    '});\n' +
    '", hasToken=true, tokenLength=37',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:57'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" at http://localhost:${port}/`);\\n});\\n","completionText":"server.listen(port, () => {\\n  console.log(`Server running at http://localhost:${port}/`);\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:57'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" at http://localhost:${port}/`);\\n});\\n","completionText":"server.listen(port, () => {\\n  console.log(`Server running at http://localhost:${port}/`);\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:57'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" at http://localhost:${port}/`);\\n});\\n","completionText":"server.listen(port, () => {\\n  console.log(`Server running at http://localhost:${port}/`);\\n});\\n","done":false,"sessionId":"G7SedxZTVOCVfS4XAAAj","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:57'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 94',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:57'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"server.listen(port, () => {\\n  console.log(`Server running at http://localhost:${port}/`);\\n});\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:57'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"server.listen(port, () => {\\n  console.log(`Server running at http://localhost:${port}/`);\\n});\\n","done":true,"sessionId":"G7SedxZTVOCVfS4XAAAj","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:57'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:57'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 94 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:57'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:57'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket PzFCkAoF2MzNJTRAAAAl',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:58'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: PzFCkAoF2MzNJTRAAAAl)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:58'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 237,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 11:56:58'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:58'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:58'
}
{
  message: '📝 Enhanced prompt for completion (902 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:58'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:58'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "process"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 236,\n' +
    '    "totalTokenCount": 236,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 236\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "O5W2aJTtCs6ShMIPz7-yuQ0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: '✅ Token extracted via chunk.text(): "process"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: '📊 CHUNK SUMMARY: token="process", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"process","completionText":"process","done":false,"sessionId":"PzFCkAoF2MzNJTRAAAAl","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".on('unhandledRejection', (err) => {\\n  console."\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 236,\n' +
    '    "totalTokenCount": 236,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 236\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "O5W2aJTtCs6ShMIPz7-yuQ0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: `✅ Token extracted via chunk.text(): ".on('unhandledRejection', (err) => {\n` +
    '  console."',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: `📊 CHUNK SUMMARY: token=".on('unhandledRejection', (err) => {\n` +
    '  console.", hasToken=true, tokenLength=47',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".on('unhandledRejection', (err) => {\\n  console.","completionText":"process.on('unhandledRejection', (err) => {\\n  console.","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".on('unhandledRejection', (err) => {\\n  console.","completionText":"process.on('unhandledRejection', (err) => {\\n  console.","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".on('unhandledRejection', (err) => {\\n  console.","completionText":"process.on('unhandledRejection', (err) => {\\n  console.","done":false,"sessionId":"PzFCkAoF2MzNJTRAAAAl","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "error(err);\\n  process.exit(1);\\n});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 235,\n' +
    '    "candidatesTokenCount": 32,\n' +
    '    "totalTokenCount": 267,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 235\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 32\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "O5W2aJTtCs6ShMIPz7-yuQ0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: '✅ Token extracted via chunk.text(): "error(err);\n  process.exit(1);\n});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: '📊 CHUNK SUMMARY: token="error(err);\n' +
    '  process.exit(1);\n' +
    '});\n' +
    '", hasToken=true, tokenLength=35',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"error(err);\\n  process.exit(1);\\n});\\n","completionText":"process.on('unhandledRejection', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"error(err);\\n  process.exit(1);\\n});\\n","completionText":"process.on('unhandledRejection', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"error(err);\\n  process.exit(1);\\n});\\n","completionText":"process.on('unhandledRejection', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false,"sessionId":"PzFCkAoF2MzNJTRAAAAl","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 89',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"process.on('unhandledRejection', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"process.on('unhandledRejection', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":true,"sessionId":"PzFCkAoF2MzNJTRAAAAl","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 89 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:56:59'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:03'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:03'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:03'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:03'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:03'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:03'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket bfCZjw0zpZEAUNMsAAAn',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:04'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: bfCZjw0zpZEAUNMsAAAn)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:04'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 239,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 11:57:04'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:04'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:04'
}
{
  message: '📝 Enhanced prompt for completion (904 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:04'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:04'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:05'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "process"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 238,\n' +
    '    "totalTokenCount": 238,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 238\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "QZW2aKruGb3qqsMPtMbK0Q0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:05'
}
{
  message: '✅ Token extracted via chunk.text(): "process"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:05'
}
{
  message: '📊 CHUNK SUMMARY: token="process", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:05'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:05'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:05'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"process","completionText":"process","done":false,"sessionId":"bfCZjw0zpZEAUNMsAAAn","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:05'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".on('unhandledRejection', (err) => {\\n  console."\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 238,\n' +
    '    "totalTokenCount": 238,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 238\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "QZW2aKruGb3qqsMPtMbK0Q0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:05'
}
{
  message: `✅ Token extracted via chunk.text(): ".on('unhandledRejection', (err) => {\n` +
    '  console."',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:05'
}
{
  message: `📊 CHUNK SUMMARY: token=".on('unhandledRejection', (err) => {\n` +
    '  console.", hasToken=true, tokenLength=47',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:05'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".on('unhandledRejection', (err) => {\\n  console.","completionText":"process.on('unhandledRejection', (err) => {\\n  console.","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:05'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".on('unhandledRejection', (err) => {\\n  console.","completionText":"process.on('unhandledRejection', (err) => {\\n  console.","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:05'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".on('unhandledRejection', (err) => {\\n  console.","completionText":"process.on('unhandledRejection', (err) => {\\n  console.","done":false,"sessionId":"bfCZjw0zpZEAUNMsAAAn","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:05'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "error(err);\\n  process.exit(1);\\n});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 237,\n' +
    '    "candidatesTokenCount": 32,\n' +
    '    "totalTokenCount": 269,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 237\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 32\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "QZW2aKruGb3qqsMPtMbK0Q0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:05'
}
{
  message: '✅ Token extracted via chunk.text(): "error(err);\n  process.exit(1);\n});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:05'
}
{
  message: '📊 CHUNK SUMMARY: token="error(err);\n' +
    '  process.exit(1);\n' +
    '});\n' +
    '", hasToken=true, tokenLength=35',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:05'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"error(err);\\n  process.exit(1);\\n});\\n","completionText":"process.on('unhandledRejection', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:05'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"error(err);\\n  process.exit(1);\\n});\\n","completionText":"process.on('unhandledRejection', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:05'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"error(err);\\n  process.exit(1);\\n});\\n","completionText":"process.on('unhandledRejection', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false,"sessionId":"bfCZjw0zpZEAUNMsAAAn","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:05'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 89',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:05'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"process.on('unhandledRejection', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:05'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"process.on('unhandledRejection', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":true,"sessionId":"bfCZjw0zpZEAUNMsAAAn","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:05'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:05'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 89 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:05'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:05'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket Rt21F5HJpi7wKevdAAAp',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:08'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: Rt21F5HJpi7wKevdAAAp)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:08'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 332,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 11:57:08'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:08'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:08'
}
{
  message: '📝 Enhanced prompt for completion (997 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:08'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:08'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:08'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "process"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 270,\n' +
    '    "totalTokenCount": 270,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 270\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "RJW2aI6UIc2UhMIP7Myz4Q8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:08'
}
{
  message: '✅ Token extracted via chunk.text(): "process"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:08'
}
{
  message: '📊 CHUNK SUMMARY: token="process", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:08'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:08'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:08'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"process","completionText":"process","done":false,"sessionId":"Rt21F5HJpi7wKevdAAAp","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:08'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".on('uncaughtException', (err) => {\\n  console."\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 270,\n' +
    '    "totalTokenCount": 270,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 270\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "RJW2aI6UIc2UhMIP7Myz4Q8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:08'
}
{
  message: `✅ Token extracted via chunk.text(): ".on('uncaughtException', (err) => {\n` +
    '  console."',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:08'
}
{
  message: `📊 CHUNK SUMMARY: token=".on('uncaughtException', (err) => {\n` +
    '  console.", hasToken=true, tokenLength=46',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:08'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".on('uncaughtException', (err) => {\\n  console.","completionText":"process.on('uncaughtException', (err) => {\\n  console.","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:08'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".on('uncaughtException', (err) => {\\n  console.","completionText":"process.on('uncaughtException', (err) => {\\n  console.","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:08'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".on('uncaughtException', (err) => {\\n  console.","completionText":"process.on('uncaughtException', (err) => {\\n  console.","done":false,"sessionId":"Rt21F5HJpi7wKevdAAAp","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:08'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "error(err);\\n  process.exit(1);\\n});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 269,\n' +
    '    "candidatesTokenCount": 32,\n' +
    '    "totalTokenCount": 301,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 269\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 32\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "RJW2aI6UIc2UhMIP7Myz4Q8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:09'
}
{
  message: '✅ Token extracted via chunk.text(): "error(err);\n  process.exit(1);\n});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:09'
}
{
  message: '📊 CHUNK SUMMARY: token="error(err);\n' +
    '  process.exit(1);\n' +
    '});\n' +
    '", hasToken=true, tokenLength=35',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:09'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"error(err);\\n  process.exit(1);\\n});\\n","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:09'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"error(err);\\n  process.exit(1);\\n});\\n","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:09'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"error(err);\\n  process.exit(1);\\n});\\n","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false,"sessionId":"Rt21F5HJpi7wKevdAAAp","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:09'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 88',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:09'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:09'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":true,"sessionId":"Rt21F5HJpi7wKevdAAAp","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:09'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:09'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 88 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:09'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:09'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:09'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:09'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:09'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:09'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:09'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:09'
}
{
  message: 'POST /api/chatbot/session - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:13'
}
{
  message: 'POST /api/chatbot/session - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:13'
}
{
  message: '🖥️ Terminal Create: User adnan99@gmail.com creating session for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:45'
}
{
  message: '🐳 Creating container session for project 68b6902393632ca58611dd55, socket gcyWEVmRVL3lIMFmAAAG',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:45'
}
{
  message: '🖥️ Terminal Create: User adnan99@gmail.com creating session for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:45'
}
{
  message: '⚠️ Terminal creation already in progress for socket gcyWEVmRVL3lIMFmAAAG, ignoring duplicate request',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:45'
}
{
  message: '🐳 Docker version: Docker version 28.0.1, build 068a01e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:45'
}
{
  message: '🐳 Docker daemon not working: exit code 127',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:45'
}
{
  message: '🐳 Docker test error: docker: error during connect: Head "http://%2F%2F.%2Fpipe%2FdockerDesktopLinuxEngine/_ping": open //./pipe/dockerDesktopLinuxEngine: The system cannot find the file specified.\n' +
    '\n' +
    "Run 'docker run --help' for more information",
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:45'
}
{
  message: '🐳 Docker test output: ',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:45'
}
{
  message: '🐳 Docker not available, falling back to local terminal for project 68b6902393632ca58611dd55',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:45'
}
{
  message: '💻 Creating fallback terminal session for project 68b6902393632ca58611dd55, socket gcyWEVmRVL3lIMFmAAAG',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:45'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:45'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:45'
}
{
  message: '✅ Fallback terminal session created: fallback-68b6902393632ca58611dd55-1756796265773',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:45'
}
{
  message: '✅ Terminal session created for adnan99@gmail.com in project 68b6902393632ca58611dd55 (fallback)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:45'
}
{
  message: 'POST /api/chatbot/session - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:50'
}
{
  message: 'POST /api/chatbot/session - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:50'
}
{
  message: '🐳 Docker version check timed out',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:50'
}
{
  message: '🔍 Debug: Total active sessions: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:55'
}
{
  message: '🔍 Session: socketId=gcyWEVmRVL3lIMFmAAAG, containerId=fallback-68b6902393632ca58611dd55-1756796265773, isActive=true, processKilled=false, exitCode=null',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:57:55'
}
{
  message: '🐳 Docker test timed out - daemon may not be running',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 11:58:00'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:02'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID 6SNFb2aKV14fkQ4EAAAr from IP ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:02'
}
{
  message: '✅ WebSocket Auth Success: User ahsan@gmail.com (Ahsan Haroon) authenticated for socket 6SNFb2aKV14fkQ4EAAAr',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:02'
}
{
  message: '🔌 WebSocket Connection Established: ahsan@gmail.com (Socket ID: 6SNFb2aKV14fkQ4EAAAr)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:02'
}
{
  message: '📊 Total active connections: 2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:02'
}
{
  message: '👤 User Ahsan Haroon (ahsan@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:02'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:02',
  level: 'info',
  message: '🏓 Ping received from ahsan@gmail.com:'
}
{
  message: 'GET /api/projects/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:02'
}
{
  message: 'GET /api/files/project/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:02'
}
{
  message: 'GET /api/projects/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:02'
}
{
  message: 'GET /api/files/project/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:02'
}
{
  message: 'GET /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:02'
}
{
  service: 'collabcode-backend',
  projectId: '68b6902393632ca58611dd55',
  level: 'info',
  message: '🚪 Join Project Request: User ahsan@gmail.com attempting to join project',
  timestamp: '2025-09-02 12:06:02'
}
{
  message: '🏠 Room Joined: User ahsan@gmail.com joined room project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:02'
}
{
  message: '👥 Project Room Status: 2 users in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:02'
}
{
  message: '👥 Users in room: Adnan Fazil, Ahsan Haroon',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:02'
}
{
  message: '📢 Broadcasting user-joined event for ahsan@gmail.com to project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:02'
}
{
  message: '📤 Sent project-joined confirmation to ahsan@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:02'
}
{
  message: '✅ Join Project Success: User ahsan@gmail.com successfully joined project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:02'
}
{
  message: 'GET /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:02'
}
{
  message: 'Completion WebSocket: User ahsan@gmail.com authenticated for socket idXIU1bEAZMRVt43AAAs',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:03'
}
{
  message: '🤖 Completion WebSocket connected: ahsan@gmail.com (Socket ID: idXIU1bEAZMRVt43AAAs)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:03'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 332,
  filename: '',
  level: 'info',
  message: 'Completion request from ahsan@gmail.com:',
  timestamp: '2025-09-02 12:06:03'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:03'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:03'
}
{
  message: '📝 Enhanced prompt for completion (997 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:03'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:03'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "process"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 270,\n' +
    '    "totalTokenCount": 270,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 270\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "XJe2aKqjM82UhMIP7Myz4Q8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: '✅ Token extracted via chunk.text(): "process"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: '📊 CHUNK SUMMARY: token="process", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"process","completionText":"process","done":false,"sessionId":"idXIU1bEAZMRVt43AAAs","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".on('SIGINT', () => {\\n  console.log('Shutting"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 270,\n' +
    '    "totalTokenCount": 270,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 270\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "XJe2aKqjM82UhMIP7Myz4Q8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: `✅ Token extracted via chunk.text(): ".on('SIGINT', () => {\n` +
    `  console.log('Shutting"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: `📊 CHUNK SUMMARY: token=".on('SIGINT', () => {\n` +
    `  console.log('Shutting", hasToken=true, tokenLength=45`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".on('SIGINT', () => {\\n  console.log('Shutting","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".on('SIGINT', () => {\\n  console.log('Shutting","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".on('SIGINT', () => {\\n  console.log('Shutting","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting","done":false,"sessionId":"idXIU1bEAZMRVt43AAAs","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": " down...');\\n  server.close(() => process.exit(0));\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 270,\n' +
    '    "totalTokenCount": 270,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 270\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "XJe2aKqjM82UhMIP7Myz4Q8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: `✅ Token extracted via chunk.text(): " down...');\n` +
    '  server.close(() => process.exit(0));\n' +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: `📊 CHUNK SUMMARY: token=" down...');\n` +
    '  server.close(() => process.exit(0));\n' +
    '", hasToken=true, tokenLength=51',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":" down...');\\n  server.close(() => process.exit(0));\\n","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting down...');\\n  server.close(() => process.exit(0));\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":" down...');\\n  server.close(() => process.exit(0));\\n","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting down...');\\n  server.close(() => process.exit(0));\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":" down...');\\n  server.close(() => process.exit(0));\\n","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting down...');\\n  server.close(() => process.exit(0));\\n","done":false,"sessionId":"idXIU1bEAZMRVt43AAAs","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 269,\n' +
    '    "candidatesTokenCount": 35,\n' +
    '    "totalTokenCount": 304,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 269\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 35\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "XJe2aKqjM82UhMIP7Myz4Q8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: '✅ Token extracted via chunk.text(): "});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: '📊 CHUNK SUMMARY: token="});\n", hasToken=true, tokenLength=4',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"});\\n","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting down...');\\n  server.close(() => process.exit(0));\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"});\\n","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting down...');\\n  server.close(() => process.exit(0));\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"});\\n","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting down...');\\n  server.close(() => process.exit(0));\\n});\\n","done":false,"sessionId":"idXIU1bEAZMRVt43AAAs","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 107',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting down...');\\n  server.close(() => process.exit(0));\\n});\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting down...');\\n  server.close(() => process.exit(0));\\n});\\n","done":true,"sessionId":"idXIU1bEAZMRVt43AAAs","tokenCount":5}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: 'Completion finished for ahsan@gmail.com: 5 tokens, 107 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: '🤖 Completion WebSocket disconnected: ahsan@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:06:05'
}
{
  message: 'Completion WebSocket: User ahsan@gmail.com authenticated for socket PPCZdWNzWJ872gQ8AAAu',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:13'
}
{
  message: '🤖 Completion WebSocket connected: ahsan@gmail.com (Socket ID: PPCZdWNzWJ872gQ8AAAu)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:13'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 332,
  filename: '',
  level: 'info',
  message: 'Completion request from ahsan@gmail.com:',
  timestamp: '2025-09-02 12:07:13'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:13'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:13'
}
{
  message: '📝 Enhanced prompt for completion (997 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:13'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:13'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "process"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 270,\n' +
    '    "totalTokenCount": 270,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 270\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "ope2aLPYLvzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: '✅ Token extracted via chunk.text(): "process"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: '📊 CHUNK SUMMARY: token="process", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"process","completionText":"process","done":false,"sessionId":"PPCZdWNzWJ872gQ8AAAu","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".on('SIGINT', () => {\\n  console.log('Shutting"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 270,\n' +
    '    "totalTokenCount": 270,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 270\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "ope2aLPYLvzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: `✅ Token extracted via chunk.text(): ".on('SIGINT', () => {\n` +
    `  console.log('Shutting"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: `📊 CHUNK SUMMARY: token=".on('SIGINT', () => {\n` +
    `  console.log('Shutting", hasToken=true, tokenLength=45`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".on('SIGINT', () => {\\n  console.log('Shutting","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".on('SIGINT', () => {\\n  console.log('Shutting","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".on('SIGINT', () => {\\n  console.log('Shutting","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting","done":false,"sessionId":"PPCZdWNzWJ872gQ8AAAu","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": " down...');\\n  server.close(() => {\\n    process.exit("\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 270,\n' +
    '    "totalTokenCount": 270,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 270\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "ope2aLPYLvzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: `✅ Token extracted via chunk.text(): " down...');\n` +
    '  server.close(() => {\n' +
    '    process.exit("',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: `📊 CHUNK SUMMARY: token=" down...');\n` +
    '  server.close(() => {\n' +
    '    process.exit(", hasToken=true, tokenLength=52',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":" down...');\\n  server.close(() => {\\n    process.exit(","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting down...');\\n  server.close(() => {\\n    process.exit(","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":" down...');\\n  server.close(() => {\\n    process.exit(","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting down...');\\n  server.close(() => {\\n    process.exit(","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":" down...');\\n  server.close(() => {\\n    process.exit(","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting down...');\\n  server.close(() => {\\n    process.exit(","done":false,"sessionId":"PPCZdWNzWJ872gQ8AAAu","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "0);\\n  });\\n});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 269,\n' +
    '    "candidatesTokenCount": 41,\n' +
    '    "totalTokenCount": 310,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 269\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 41\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "ope2aLPYLvzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: '✅ Token extracted via chunk.text(): "0);\n  });\n});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: '📊 CHUNK SUMMARY: token="0);\n  });\n});\n", hasToken=true, tokenLength=14',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"0);\\n  });\\n});\\n","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting down...');\\n  server.close(() => {\\n    process.exit(0);\\n  });\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"0);\\n  });\\n});\\n","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting down...');\\n  server.close(() => {\\n    process.exit(0);\\n  });\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"0);\\n  });\\n});\\n","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting down...');\\n  server.close(() => {\\n    process.exit(0);\\n  });\\n});\\n","done":false,"sessionId":"PPCZdWNzWJ872gQ8AAAu","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 118',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting down...');\\n  server.close(() => {\\n    process.exit(0);\\n  });\\n});\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"process.on('SIGINT', () => {\\n  console.log('Shutting down...');\\n  server.close(() => {\\n    process.exit(0);\\n  });\\n});\\n","done":true,"sessionId":"PPCZdWNzWJ872gQ8AAAu","tokenCount":5}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: 'Completion finished for ahsan@gmail.com: 5 tokens, 118 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: '🤖 Completion WebSocket disconnected: ahsan@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:15'
}
{
  message: 'Completion WebSocket: User ahsan@gmail.com authenticated for socket GIFlirHG-nvmnARCAAAw',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:19'
}
{
  message: '🤖 Completion WebSocket connected: ahsan@gmail.com (Socket ID: GIFlirHG-nvmnARCAAAw)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:19'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 456,
  filename: '',
  level: 'info',
  message: 'Completion request from ahsan@gmail.com:',
  timestamp: '2025-09-02 12:07:19'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:19'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:19'
}
{
  message: '📝 Enhanced prompt for completion (1121 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:19'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:19'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:20'
}
{
  message: 'File updated: index.js by ahsan@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:20'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:20'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:20'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:20'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:20'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:21'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "process"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 312,\n' +
    '    "totalTokenCount": 312,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 312\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "qJe2aLj2LvzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:21'
}
{
  message: '✅ Token extracted via chunk.text(): "process"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:21'
}
{
  message: '📊 CHUNK SUMMARY: token="process", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:21'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:21'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:21'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"process","completionText":"process","done":false,"sessionId":"GIFlirHG-nvmnARCAAAw","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:21'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".on('uncaughtException', (err) => {\\n  console."\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 312,\n' +
    '    "totalTokenCount": 312,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 312\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "qJe2aLj2LvzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:21'
}
{
  message: `✅ Token extracted via chunk.text(): ".on('uncaughtException', (err) => {\n` +
    '  console."',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:21'
}
{
  message: `📊 CHUNK SUMMARY: token=".on('uncaughtException', (err) => {\n` +
    '  console.", hasToken=true, tokenLength=46',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:21'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".on('uncaughtException', (err) => {\\n  console.","completionText":"process.on('uncaughtException', (err) => {\\n  console.","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:21'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".on('uncaughtException', (err) => {\\n  console.","completionText":"process.on('uncaughtException', (err) => {\\n  console.","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:21'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".on('uncaughtException', (err) => {\\n  console.","completionText":"process.on('uncaughtException', (err) => {\\n  console.","done":false,"sessionId":"GIFlirHG-nvmnARCAAAw","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:21'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "error(err);\\n  process.exit(1);\\n});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 311,\n' +
    '    "candidatesTokenCount": 32,\n' +
    '    "totalTokenCount": 343,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 311\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 32\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "qJe2aLj2LvzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:21'
}
{
  message: '✅ Token extracted via chunk.text(): "error(err);\n  process.exit(1);\n});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:21'
}
{
  message: '📊 CHUNK SUMMARY: token="error(err);\n' +
    '  process.exit(1);\n' +
    '});\n' +
    '", hasToken=true, tokenLength=35',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:21'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"error(err);\\n  process.exit(1);\\n});\\n","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:21'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"error(err);\\n  process.exit(1);\\n});\\n","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:21'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"error(err);\\n  process.exit(1);\\n});\\n","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false,"sessionId":"GIFlirHG-nvmnARCAAAw","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:21'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 88',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:21'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:21'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":true,"sessionId":"GIFlirHG-nvmnARCAAAw","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:21'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:21'
}
{
  message: 'Completion finished for ahsan@gmail.com: 4 tokens, 88 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:21'
}
{
  message: '🤖 Completion WebSocket disconnected: ahsan@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:21'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:29'
}
{
  message: 'File updated: index.js by ahsan@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:29'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:29'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:29'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:30'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:30'
}
{
  message: 'Completion WebSocket: User ahsan@gmail.com authenticated for socket f-N9U6xKiSmQoCWEAAAy',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:32'
}
{
  message: '🤖 Completion WebSocket connected: ahsan@gmail.com (Socket ID: f-N9U6xKiSmQoCWEAAAy)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:32'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 334,
  filename: '',
  level: 'info',
  message: 'Completion request from ahsan@gmail.com:',
  timestamp: '2025-09-02 12:07:32'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:32'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:32'
}
{
  message: '📝 Enhanced prompt for completion (999 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:32'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:32'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket mh2XBDp2p8dmbyTmAAA0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:33'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: mh2XBDp2p8dmbyTmAAA0)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:33'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 332,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 12:07:33'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:33'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:33'
}
{
  message: '📝 Enhanced prompt for completion (997 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:33'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:33'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "process"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 272,\n' +
    '    "totalTokenCount": 272,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 272\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "tZe2aOmEPM2UhMIP7Myz4Q8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: '✅ Token extracted via chunk.text(): "process"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: '📊 CHUNK SUMMARY: token="process", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"process","completionText":"process","done":false,"sessionId":"f-N9U6xKiSmQoCWEAAAy","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "process"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 270,\n' +
    '    "totalTokenCount": 270,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 270\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "tpe2aLCxBZrnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: '✅ Token extracted via chunk.text(): "process"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: '📊 CHUNK SUMMARY: token="process", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"process","completionText":"process","done":false,"sessionId":"mh2XBDp2p8dmbyTmAAA0","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".on('uncaughtException', (err) => {\\n  console."\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 272,\n' +
    '    "totalTokenCount": 272,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 272\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "tZe2aOmEPM2UhMIP7Myz4Q8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: `✅ Token extracted via chunk.text(): ".on('uncaughtException', (err) => {\n` +
    '  console."',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: `📊 CHUNK SUMMARY: token=".on('uncaughtException', (err) => {\n` +
    '  console.", hasToken=true, tokenLength=46',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".on('uncaughtException', (err) => {\\n  console.","completionText":"process.on('uncaughtException', (err) => {\\n  console.","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".on('uncaughtException', (err) => {\\n  console.","completionText":"process.on('uncaughtException', (err) => {\\n  console.","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".on('uncaughtException', (err) => {\\n  console.","completionText":"process.on('uncaughtException', (err) => {\\n  console.","done":false,"sessionId":"f-N9U6xKiSmQoCWEAAAy","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".on('uncaughtException', (err) => {\\n  console."\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 270,\n' +
    '    "totalTokenCount": 270,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 270\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "tpe2aLCxBZrnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: `✅ Token extracted via chunk.text(): ".on('uncaughtException', (err) => {\n` +
    '  console."',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: `📊 CHUNK SUMMARY: token=".on('uncaughtException', (err) => {\n` +
    '  console.", hasToken=true, tokenLength=46',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".on('uncaughtException', (err) => {\\n  console.","completionText":"process.on('uncaughtException', (err) => {\\n  console.","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".on('uncaughtException', (err) => {\\n  console.","completionText":"process.on('uncaughtException', (err) => {\\n  console.","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".on('uncaughtException', (err) => {\\n  console.","completionText":"process.on('uncaughtException', (err) => {\\n  console.","done":false,"sessionId":"mh2XBDp2p8dmbyTmAAA0","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "error(err);\\n  process.exit(1);\\n});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 271,\n' +
    '    "candidatesTokenCount": 32,\n' +
    '    "totalTokenCount": 303,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 271\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 32\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "tZe2aOmEPM2UhMIP7Myz4Q8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: '✅ Token extracted via chunk.text(): "error(err);\n  process.exit(1);\n});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: '📊 CHUNK SUMMARY: token="error(err);\n' +
    '  process.exit(1);\n' +
    '});\n' +
    '", hasToken=true, tokenLength=35',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"error(err);\\n  process.exit(1);\\n});\\n","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"error(err);\\n  process.exit(1);\\n});\\n","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"error(err);\\n  process.exit(1);\\n});\\n","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false,"sessionId":"f-N9U6xKiSmQoCWEAAAy","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 88',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":true,"sessionId":"f-N9U6xKiSmQoCWEAAAy","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: 'Completion finished for ahsan@gmail.com: 4 tokens, 88 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: '🤖 Completion WebSocket disconnected: ahsan@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "error(err);\\n  process.exit(1);\\n});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 269,\n' +
    '    "candidatesTokenCount": 32,\n' +
    '    "totalTokenCount": 301,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 269\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 32\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "tpe2aLCxBZrnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: '✅ Token extracted via chunk.text(): "error(err);\n  process.exit(1);\n});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: '📊 CHUNK SUMMARY: token="error(err);\n' +
    '  process.exit(1);\n' +
    '});\n' +
    '", hasToken=true, tokenLength=35',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"error(err);\\n  process.exit(1);\\n});\\n","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"error(err);\\n  process.exit(1);\\n});\\n","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"error(err);\\n  process.exit(1);\\n});\\n","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false,"sessionId":"mh2XBDp2p8dmbyTmAAA0","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 88',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":true,"sessionId":"mh2XBDp2p8dmbyTmAAA0","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 88 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:34'
}
{
  message: 'Completion WebSocket: User ahsan@gmail.com authenticated for socket DjEPsNM9wB4X20sNAAA2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:36'
}
{
  message: '🤖 Completion WebSocket connected: ahsan@gmail.com (Socket ID: DjEPsNM9wB4X20sNAAA2)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:36'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 334,
  filename: '',
  level: 'info',
  message: 'Completion request from ahsan@gmail.com:',
  timestamp: '2025-09-02 12:07:36'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:36'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:36'
}
{
  message: '📝 Enhanced prompt for completion (999 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:36'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:36'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:37'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "process"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 272,\n' +
    '    "totalTokenCount": 272,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 272\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "uZe2aKqnC-6LqsMPhfO--Aw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:37'
}
{
  message: '✅ Token extracted via chunk.text(): "process"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:37'
}
{
  message: '📊 CHUNK SUMMARY: token="process", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:37'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:37'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:37'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"process","completionText":"process","done":false,"sessionId":"DjEPsNM9wB4X20sNAAA2","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:37'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".on('uncaughtException', (err) => {\\n  console."\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 272,\n' +
    '    "totalTokenCount": 272,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 272\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "uZe2aKqnC-6LqsMPhfO--Aw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:37'
}
{
  message: `✅ Token extracted via chunk.text(): ".on('uncaughtException', (err) => {\n` +
    '  console."',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:37'
}
{
  message: `📊 CHUNK SUMMARY: token=".on('uncaughtException', (err) => {\n` +
    '  console.", hasToken=true, tokenLength=46',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:37'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".on('uncaughtException', (err) => {\\n  console.","completionText":"process.on('uncaughtException', (err) => {\\n  console.","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:37'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".on('uncaughtException', (err) => {\\n  console.","completionText":"process.on('uncaughtException', (err) => {\\n  console.","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:37'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".on('uncaughtException', (err) => {\\n  console.","completionText":"process.on('uncaughtException', (err) => {\\n  console.","done":false,"sessionId":"DjEPsNM9wB4X20sNAAA2","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:37'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "error(err);\\n  process.exit(1);\\n});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 271,\n' +
    '    "candidatesTokenCount": 32,\n' +
    '    "totalTokenCount": 303,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 271\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 32\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "uZe2aKqnC-6LqsMPhfO--Aw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:37'
}
{
  message: '✅ Token extracted via chunk.text(): "error(err);\n  process.exit(1);\n});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:37'
}
{
  message: '📊 CHUNK SUMMARY: token="error(err);\n' +
    '  process.exit(1);\n' +
    '});\n' +
    '", hasToken=true, tokenLength=35',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:37'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"error(err);\\n  process.exit(1);\\n});\\n","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:37'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"error(err);\\n  process.exit(1);\\n});\\n","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:37'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"error(err);\\n  process.exit(1);\\n});\\n","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false,"sessionId":"DjEPsNM9wB4X20sNAAA2","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:37'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 88',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:37'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:37'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":true,"sessionId":"DjEPsNM9wB4X20sNAAA2","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:37'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:37'
}
{
  message: 'Completion finished for ahsan@gmail.com: 4 tokens, 88 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:37'
}
{
  message: '🤖 Completion WebSocket disconnected: ahsan@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:37'
}
{
  message: 'Completion WebSocket: User ahsan@gmail.com authenticated for socket bJ6fgvhYuYkhYHsJAAA4',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:39'
}
{
  message: '🤖 Completion WebSocket connected: ahsan@gmail.com (Socket ID: bJ6fgvhYuYkhYHsJAAA4)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:39'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 426,
  filename: '',
  level: 'info',
  message: 'Completion request from ahsan@gmail.com:',
  timestamp: '2025-09-02 12:07:39'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:39'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:39'
}
{
  message: '📝 Enhanced prompt for completion (1091 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:39'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:39'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:39'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 304,\n' +
    '    "totalTokenCount": 304,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 304\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "u5e2aNb-LN6XhMIP38T7sA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:39'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:39'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:39'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:39'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:39'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"\\n","done":false,"sessionId":"bJ6fgvhYuYkhYHsJAAA4","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:39'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 303,\n' +
    '    "candidatesTokenCount": 3,\n' +
    '    "totalTokenCount": 306,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 303\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 3\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "u5e2aNb-LN6XhMIP38T7sA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:40'
}
{
  message: '✅ Token extracted via chunk.text(): "});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:40'
}
{
  message: '📊 CHUNK SUMMARY: token="});\n", hasToken=true, tokenLength=4',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:40'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"});\\n","completionText":"\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:40'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"});\\n","completionText":"\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:40'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"});\\n","completionText":"\\n});\\n","done":false,"sessionId":"bJ6fgvhYuYkhYHsJAAA4","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:40'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:40'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"\\n});\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:40'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"\\n});\\n","done":true,"sessionId":"bJ6fgvhYuYkhYHsJAAA4","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:40'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:40'
}
{
  message: 'Completion finished for ahsan@gmail.com: 3 tokens, 5 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:40'
}
{
  message: '🤖 Completion WebSocket disconnected: ahsan@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:40'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:40'
}
{
  message: 'File updated: index.js by ahsan@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:40'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:40'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:40'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:40'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:07:40'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:55'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:55'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:55'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:55'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:55'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:55'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket NPx910pw3ZoJaeTyAAA6',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:56'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: NPx910pw3ZoJaeTyAAA6)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:56'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 336,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 12:09:56'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:56'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:56'
}
{
  message: '📝 Enhanced prompt for completion (1001 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:56'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:56'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:57'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "process"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 274,\n' +
    '    "totalTokenCount": 274,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 274\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "RZi2aNbOHr2XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:57'
}
{
  message: '✅ Token extracted via chunk.text(): "process"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:57'
}
{
  message: '📊 CHUNK SUMMARY: token="process", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:57'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:57'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:57'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"process","completionText":"process","done":false,"sessionId":"NPx910pw3ZoJaeTyAAA6","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:57'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".on('uncaughtException', (err) => {\\n  console."\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 274,\n' +
    '    "totalTokenCount": 274,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 274\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "RZi2aNbOHr2XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:57'
}
{
  message: `✅ Token extracted via chunk.text(): ".on('uncaughtException', (err) => {\n` +
    '  console."',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:57'
}
{
  message: `📊 CHUNK SUMMARY: token=".on('uncaughtException', (err) => {\n` +
    '  console.", hasToken=true, tokenLength=46',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:57'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".on('uncaughtException', (err) => {\\n  console.","completionText":"process.on('uncaughtException', (err) => {\\n  console.","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:57'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".on('uncaughtException', (err) => {\\n  console.","completionText":"process.on('uncaughtException', (err) => {\\n  console.","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:57'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".on('uncaughtException', (err) => {\\n  console.","completionText":"process.on('uncaughtException', (err) => {\\n  console.","done":false,"sessionId":"NPx910pw3ZoJaeTyAAA6","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:57'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "error(err);\\n  process.exit(1);\\n});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 273,\n' +
    '    "candidatesTokenCount": 32,\n' +
    '    "totalTokenCount": 305,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 273\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 32\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "RZi2aNbOHr2XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:57'
}
{
  message: '✅ Token extracted via chunk.text(): "error(err);\n  process.exit(1);\n});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:57'
}
{
  message: '📊 CHUNK SUMMARY: token="error(err);\n' +
    '  process.exit(1);\n' +
    '});\n' +
    '", hasToken=true, tokenLength=35',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:57'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"error(err);\\n  process.exit(1);\\n});\\n","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:57'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"error(err);\\n  process.exit(1);\\n});\\n","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:57'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"error(err);\\n  process.exit(1);\\n});\\n","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":false,"sessionId":"NPx910pw3ZoJaeTyAAA6","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:57'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 88',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"process.on('uncaughtException', (err) => {\\n  console.error(err);\\n  process.exit(1);\\n});\\n","done":true,"sessionId":"NPx910pw3ZoJaeTyAAA6","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 88 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket CUOiRw4x5CuejGBpAAA8',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: CUOiRw4x5CuejGBpAAA8)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 428,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: '📝 Enhanced prompt for completion (1093 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 306,\n' +
    '    "totalTokenCount": 306,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 306\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Rpi2aLiYHP2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"\\n","done":false,"sessionId":"CUOiRw4x5CuejGBpAAA8","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 305,\n' +
    '    "candidatesTokenCount": 3,\n' +
    '    "totalTokenCount": 308,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 305\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 3\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Rpi2aLiYHP2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: '✅ Token extracted via chunk.text(): "});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: '📊 CHUNK SUMMARY: token="});\n", hasToken=true, tokenLength=4',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"});\\n","completionText":"\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"});\\n","completionText":"\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"});\\n","completionText":"\\n});\\n","done":false,"sessionId":"CUOiRw4x5CuejGBpAAA8","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"\\n});\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"\\n});\\n","done":true,"sessionId":"CUOiRw4x5CuejGBpAAA8","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: 'Completion finished for adnan99@gmail.com: 3 tokens, 5 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:58'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:59'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:59'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:59'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:59'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:59'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:09:59'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket CXBEGnzZgyqFFjZLAAA-',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:10'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: CXBEGnzZgyqFFjZLAAA-)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:10'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 428,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 12:10:10'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:10'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:10'
}
{
  message: '📝 Enhanced prompt for completion (1093 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:10'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:10'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:11'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 306,\n' +
    '    "totalTokenCount": 306,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 306\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "U5i2aIMW7ouqww-F8774DA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:11'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:11'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:11'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:11'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:11'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"\\n","done":false,"sessionId":"CXBEGnzZgyqFFjZLAAA-","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:11'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 305,\n' +
    '    "candidatesTokenCount": 3,\n' +
    '    "totalTokenCount": 308,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 305\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 3\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "U5i2aIMW7ouqww-F8774DA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:11'
}
{
  message: '✅ Token extracted via chunk.text(): "});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:11'
}
{
  message: '📊 CHUNK SUMMARY: token="});\n", hasToken=true, tokenLength=4',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:11'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"});\\n","completionText":"\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:11'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"});\\n","completionText":"\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:11'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"});\\n","completionText":"\\n});\\n","done":false,"sessionId":"CXBEGnzZgyqFFjZLAAA-","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:11'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:11'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"\\n});\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:11'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"\\n});\\n","done":true,"sessionId":"CXBEGnzZgyqFFjZLAAA-","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:11'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:11'
}
{
  message: 'Completion finished for adnan99@gmail.com: 3 tokens, 5 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:11'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:11'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:13'
}
{
  message: 'File updated: index.js by ahsan@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:13'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:13'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:13'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:13'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:13'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:22'
}
{
  message: 'File updated: index.js by ahsan@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:22'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:22'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:22'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:22'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:22'
}
{
  message: 'Completion WebSocket: User ahsan@gmail.com authenticated for socket otB0iOkiydzFjO3cAABA',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:29'
}
{
  message: '🤖 Completion WebSocket connected: ahsan@gmail.com (Socket ID: otB0iOkiydzFjO3cAABA)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:29'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 17,
  filename: '',
  level: 'info',
  message: 'Completion request from ahsan@gmail.com:',
  timestamp: '2025-09-02 12:10:29'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:29'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:29'
}
{
  message: '📝 Enhanced prompt for completion (682 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:29'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:29'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "="\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 165,\n' +
    '    "totalTokenCount": 165,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 165\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "ZZi2aNanLZrnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: '✅ Token extracted via chunk.text(): "="',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: '📊 CHUNK SUMMARY: token="=", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"=","completionText":"=","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"=","completionText":"=","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"=","completionText":"=","done":false,"sessionId":"otB0iOkiydzFjO3cAABA","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": " require('http');\\nconst port = 3000;\\nconst"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 165,\n' +
    '    "totalTokenCount": 165,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 165\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "ZZi2aNanLZrnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: `✅ Token extracted via chunk.text(): " require('http');\n` +
    'const port = 3000;\n' +
    'const"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: `📊 CHUNK SUMMARY: token=" require('http');\n` +
    'const port = 3000;\n' +
    'const", hasToken=true, tokenLength=42',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":" require('http');\\nconst port = 3000;\\nconst","completionText":"= require('http');\\nconst port = 3000;\\nconst","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":" require('http');\\nconst port = 3000;\\nconst","completionText":"= require('http');\\nconst port = 3000;\\nconst","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":" require('http');\\nconst port = 3000;\\nconst","completionText":"= require('http');\\nconst port = 3000;\\nconst","done":false,"sessionId":"otB0iOkiydzFjO3cAABA","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " server = http.createServer((req, res) => {\\n  res."\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 165,\n' +
    '    "totalTokenCount": 165,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 165\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "ZZi2aNanLZrnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: '✅ Token extracted via chunk.text(): " server = http.createServer((req, res) => {\n' +
    '  res."',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: '📊 CHUNK SUMMARY: token=" server = http.createServer((req, res) => {\n' +
    '  res.", hasToken=true, tokenLength=50',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":" server = http.createServer((req, res) => {\\n  res.","completionText":"= require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":" server = http.createServer((req, res) => {\\n  res.","completionText":"= require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":" server = http.createServer((req, res) => {\\n  res.","completionText":"= require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.","done":false,"sessionId":"otB0iOkiydzFjO3cAABA","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "end('Hello World!');\\n});\\n\\nserver.listen(port);\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 164,\n' +
    '    "candidatesTokenCount": 48,\n' +
    '    "totalTokenCount": 212,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 164\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 48\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "ZZi2aNanLZrnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: `✅ Token extracted via chunk.text(): "end('Hello World!');\n` +
    '});\n' +
    '\n' +
    'server.listen(port);\n' +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: `📊 CHUNK SUMMARY: token="end('Hello World!');\n` +
    '});\n' +
    '\n' +
    'server.listen(port);\n' +
    '", hasToken=true, tokenLength=47',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"end('Hello World!');\\n});\\n\\nserver.listen(port);\\n","completionText":"= require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.end('Hello World!');\\n});\\n\\nserver.listen(port);\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"end('Hello World!');\\n});\\n\\nserver.listen(port);\\n","completionText":"= require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.end('Hello World!');\\n});\\n\\nserver.listen(port);\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"end('Hello World!');\\n});\\n\\nserver.listen(port);\\n","completionText":"= require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.end('Hello World!');\\n});\\n\\nserver.listen(port);\\n","done":false,"sessionId":"otB0iOkiydzFjO3cAABA","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 140',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"= require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.end('Hello World!');\\n});\\n\\nserver.listen(port);\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"= require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.end('Hello World!');\\n});\\n\\nserver.listen(port);\\n","done":true,"sessionId":"otB0iOkiydzFjO3cAABA","tokenCount":5}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: 'Completion finished for ahsan@gmail.com: 5 tokens, 140 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: '🤖 Completion WebSocket disconnected: ahsan@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:30'
}
{
  message: 'Completion WebSocket: User ahsan@gmail.com authenticated for socket WhO039HvBXTmu9_xAABC',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:32'
}
{
  message: '🤖 Completion WebSocket connected: ahsan@gmail.com (Socket ID: WhO039HvBXTmu9_xAABC)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:32'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 164,
  filename: '',
  level: 'info',
  message: 'Completion request from ahsan@gmail.com:',
  timestamp: '2025-09-02 12:10:32'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:32'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:32'
}
{
  message: '📝 Enhanced prompt for completion (829 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:32'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:32'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "server"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 216,\n' +
    '    "totalTokenCount": 216,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 216\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "aJi2aKiRLprnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: '✅ Token extracted via chunk.text(): "server"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: '📊 CHUNK SUMMARY: token="server", hasToken=true, tokenLength=6',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"server","completionText":"server","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"server","completionText":"server","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"server","completionText":"server","done":false,"sessionId":"WhO039HvBXTmu9_xAABC","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".on('error', err => {\\n  console.error('Server failed"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 216,\n' +
    '    "totalTokenCount": 216,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 216\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "aJi2aKiRLprnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: `✅ Token extracted via chunk.text(): ".on('error', err => {\n` +
    `  console.error('Server failed"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: `📊 CHUNK SUMMARY: token=".on('error', err => {\n` +
    `  console.error('Server failed", hasToken=true, tokenLength=52`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".on('error', err => {\\n  console.error('Server failed","completionText":"server.on('error', err => {\\n  console.error('Server failed","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".on('error', err => {\\n  console.error('Server failed","completionText":"server.on('error', err => {\\n  console.error('Server failed","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".on('error', err => {\\n  console.error('Server failed","completionText":"server.on('error', err => {\\n  console.error('Server failed","done":false,"sessionId":"WhO039HvBXTmu9_xAABC","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " to start:\', err);\\n});\\nconsole.log(`Server listening on port"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 216,\n' +
    '    "totalTokenCount": 216,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 216\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "aJi2aKiRLprnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: `✅ Token extracted via chunk.text(): " to start:', err);\n` +
    '});\n' +
    'console.log(`Server listening on port"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: `📊 CHUNK SUMMARY: token=" to start:', err);\n` +
    '});\n' +
    'console.log(`Server listening on port", hasToken=true, tokenLength=60',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" to start:\', err);\\n});\\nconsole.log(`Server listening on port","completionText":"server.on(\'error\', err => {\\n  console.error(\'Server failed to start:\', err);\\n});\\nconsole.log(`Server listening on port","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" to start:\', err);\\n});\\nconsole.log(`Server listening on port","completionText":"server.on(\'error\', err => {\\n  console.error(\'Server failed to start:\', err);\\n});\\nconsole.log(`Server listening on port","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" to start:\', err);\\n});\\nconsole.log(`Server listening on port","completionText":"server.on(\'error\', err => {\\n  console.error(\'Server failed to start:\', err);\\n});\\nconsole.log(`Server listening on port","done":false,"sessionId":"WhO039HvBXTmu9_xAABC","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " ${port}`);\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 215,\n' +
    '    "candidatesTokenCount": 37,\n' +
    '    "totalTokenCount": 252,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 215\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 37\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "aJi2aKiRLprnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: '✅ Token extracted via chunk.text(): " ${port}`);\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: '📊 CHUNK SUMMARY: token=" ${port}`);\n", hasToken=true, tokenLength=12',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" ${port}`);\\n","completionText":"server.on(\'error\', err => {\\n  console.error(\'Server failed to start:\', err);\\n});\\nconsole.log(`Server listening on port ${port}`);\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" ${port}`);\\n","completionText":"server.on(\'error\', err => {\\n  console.error(\'Server failed to start:\', err);\\n});\\nconsole.log(`Server listening on port ${port}`);\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" ${port}`);\\n","completionText":"server.on(\'error\', err => {\\n  console.error(\'Server failed to start:\', err);\\n});\\nconsole.log(`Server listening on port ${port}`);\\n","done":false,"sessionId":"WhO039HvBXTmu9_xAABC","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 130',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"server.on(\'error\', err => {\\n  console.error(\'Server failed to start:\', err);\\n});\\nconsole.log(`Server listening on port ${port}`);\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"server.on(\'error\', err => {\\n  console.error(\'Server failed to start:\', err);\\n});\\nconsole.log(`Server listening on port ${port}`);\\n","done":true,"sessionId":"WhO039HvBXTmu9_xAABC","tokenCount":5}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: 'Completion finished for ahsan@gmail.com: 5 tokens, 130 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: '🤖 Completion WebSocket disconnected: ahsan@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: 'File updated: index.js by ahsan@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:33'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:39'
}
{
  message: 'File updated: index.js by ahsan@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:39'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:39'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:39'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:39'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:39'
}
{
  message: 'Completion WebSocket: User ahsan@gmail.com authenticated for socket WoMycxPX_RVEskHVAABE',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:50'
}
{
  message: '🤖 Completion WebSocket connected: ahsan@gmail.com (Socket ID: WoMycxPX_RVEskHVAABE)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:50'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 166,
  filename: '',
  level: 'info',
  message: 'Completion request from ahsan@gmail.com:',
  timestamp: '2025-09-02 12:10:50'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:50'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:50'
}
{
  message: '📝 Enhanced prompt for completion (831 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:50'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:50'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "server"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 218,\n' +
    '    "totalTokenCount": 218,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 218\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "epi2aPD5O96XhMIP38T7sA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: '✅ Token extracted via chunk.text(): "server"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: '📊 CHUNK SUMMARY: token="server", hasToken=true, tokenLength=6',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"server","completionText":"server","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"server","completionText":"server","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"server","completionText":"server","done":false,"sessionId":"WoMycxPX_RVEskHVAABE","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".on('error', err => {\\n  console.error('Server failed"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 218,\n' +
    '    "totalTokenCount": 218,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 218\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "epi2aPD5O96XhMIP38T7sA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: `✅ Token extracted via chunk.text(): ".on('error', err => {\n` +
    `  console.error('Server failed"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: `📊 CHUNK SUMMARY: token=".on('error', err => {\n` +
    `  console.error('Server failed", hasToken=true, tokenLength=52`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".on('error', err => {\\n  console.error('Server failed","completionText":"server.on('error', err => {\\n  console.error('Server failed","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".on('error', err => {\\n  console.error('Server failed","completionText":"server.on('error', err => {\\n  console.error('Server failed","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".on('error', err => {\\n  console.error('Server failed","completionText":"server.on('error', err => {\\n  console.error('Server failed","done":false,"sessionId":"WoMycxPX_RVEskHVAABE","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " to start:\', err);\\n});\\nconsole.log(`Server listening on port"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 218,\n' +
    '    "totalTokenCount": 218,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 218\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "epi2aPD5O96XhMIP38T7sA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: `✅ Token extracted via chunk.text(): " to start:', err);\n` +
    '});\n' +
    'console.log(`Server listening on port"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: `📊 CHUNK SUMMARY: token=" to start:', err);\n` +
    '});\n' +
    'console.log(`Server listening on port", hasToken=true, tokenLength=60',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" to start:\', err);\\n});\\nconsole.log(`Server listening on port","completionText":"server.on(\'error\', err => {\\n  console.error(\'Server failed to start:\', err);\\n});\\nconsole.log(`Server listening on port","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" to start:\', err);\\n});\\nconsole.log(`Server listening on port","completionText":"server.on(\'error\', err => {\\n  console.error(\'Server failed to start:\', err);\\n});\\nconsole.log(`Server listening on port","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" to start:\', err);\\n});\\nconsole.log(`Server listening on port","completionText":"server.on(\'error\', err => {\\n  console.error(\'Server failed to start:\', err);\\n});\\nconsole.log(`Server listening on port","done":false,"sessionId":"WoMycxPX_RVEskHVAABE","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " ${port}`);\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 217,\n' +
    '    "candidatesTokenCount": 37,\n' +
    '    "totalTokenCount": 254,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 217\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 37\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "epi2aPD5O96XhMIP38T7sA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: '✅ Token extracted via chunk.text(): " ${port}`);\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: '📊 CHUNK SUMMARY: token=" ${port}`);\n", hasToken=true, tokenLength=12',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" ${port}`);\\n","completionText":"server.on(\'error\', err => {\\n  console.error(\'Server failed to start:\', err);\\n});\\nconsole.log(`Server listening on port ${port}`);\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" ${port}`);\\n","completionText":"server.on(\'error\', err => {\\n  console.error(\'Server failed to start:\', err);\\n});\\nconsole.log(`Server listening on port ${port}`);\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" ${port}`);\\n","completionText":"server.on(\'error\', err => {\\n  console.error(\'Server failed to start:\', err);\\n});\\nconsole.log(`Server listening on port ${port}`);\\n","done":false,"sessionId":"WoMycxPX_RVEskHVAABE","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 130',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"server.on(\'error\', err => {\\n  console.error(\'Server failed to start:\', err);\\n});\\nconsole.log(`Server listening on port ${port}`);\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"server.on(\'error\', err => {\\n  console.error(\'Server failed to start:\', err);\\n});\\nconsole.log(`Server listening on port ${port}`);\\n","done":true,"sessionId":"WoMycxPX_RVEskHVAABE","tokenCount":5}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: 'Completion finished for ahsan@gmail.com: 5 tokens, 130 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: '🤖 Completion WebSocket disconnected: ahsan@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:51'
}
{
  message: 'Completion WebSocket: User ahsan@gmail.com authenticated for socket buZbKyD3S92F8reSAABG',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: '🤖 Completion WebSocket connected: ahsan@gmail.com (Socket ID: buZbKyD3S92F8reSAABG)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 300,
  filename: '',
  level: 'info',
  message: 'Completion request from ahsan@gmail.com:',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: '📝 Enhanced prompt for completion (965 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "process"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 256,\n' +
    '    "totalTokenCount": 256,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 256\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "fpi2aKTIDprnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: '✅ Token extracted via chunk.text(): "process"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: '📊 CHUNK SUMMARY: token="process", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"process","completionText":"process","done":false,"sessionId":"buZbKyD3S92F8reSAABG","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".on('unhandledRejection', err => {\\n  console.error('"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 256,\n' +
    '    "totalTokenCount": 256,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 256\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "fpi2aKTIDprnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: `✅ Token extracted via chunk.text(): ".on('unhandledRejection', err => {\n` +
    `  console.error('"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: `📊 CHUNK SUMMARY: token=".on('unhandledRejection', err => {\n` +
    `  console.error('", hasToken=true, tokenLength=52`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".on('unhandledRejection', err => {\\n  console.error('","completionText":"process.on('unhandledRejection', err => {\\n  console.error('","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".on('unhandledRejection', err => {\\n  console.error('","completionText":"process.on('unhandledRejection', err => {\\n  console.error('","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".on('unhandledRejection', err => {\\n  console.error('","completionText":"process.on('unhandledRejection', err => {\\n  console.error('","done":false,"sessionId":"buZbKyD3S92F8reSAABG","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "Unhandled promise rejection:', err);\\n  process.exit(1);\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 256,\n' +
    '    "totalTokenCount": 256,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 256\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "fpi2aKTIDprnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: `✅ Token extracted via chunk.text(): "Unhandled promise rejection:', err);\n` +
    '  process.exit(1);\n' +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: `📊 CHUNK SUMMARY: token="Unhandled promise rejection:', err);\n` +
    '  process.exit(1);\n' +
    '", hasToken=true, tokenLength=56',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"Unhandled promise rejection:', err);\\n  process.exit(1);\\n","completionText":"process.on('unhandledRejection', err => {\\n  console.error('Unhandled promise rejection:', err);\\n  process.exit(1);\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"Unhandled promise rejection:', err);\\n  process.exit(1);\\n","completionText":"process.on('unhandledRejection', err => {\\n  console.error('Unhandled promise rejection:', err);\\n  process.exit(1);\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"Unhandled promise rejection:', err);\\n  process.exit(1);\\n","completionText":"process.on('unhandledRejection', err => {\\n  console.error('Unhandled promise rejection:', err);\\n  process.exit(1);\\n","done":false,"sessionId":"buZbKyD3S92F8reSAABG","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 255,\n' +
    '    "candidatesTokenCount": 35,\n' +
    '    "totalTokenCount": 290,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 255\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 35\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "fpi2aKTIDprnqsMPtI3diQ4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: '✅ Token extracted via chunk.text(): "});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: '📊 CHUNK SUMMARY: token="});\n", hasToken=true, tokenLength=4',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"});\\n","completionText":"process.on('unhandledRejection', err => {\\n  console.error('Unhandled promise rejection:', err);\\n  process.exit(1);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"});\\n","completionText":"process.on('unhandledRejection', err => {\\n  console.error('Unhandled promise rejection:', err);\\n  process.exit(1);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"});\\n","completionText":"process.on('unhandledRejection', err => {\\n  console.error('Unhandled promise rejection:', err);\\n  process.exit(1);\\n});\\n","done":false,"sessionId":"buZbKyD3S92F8reSAABG","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 119',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"process.on('unhandledRejection', err => {\\n  console.error('Unhandled promise rejection:', err);\\n  process.exit(1);\\n});\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"process.on('unhandledRejection', err => {\\n  console.error('Unhandled promise rejection:', err);\\n  process.exit(1);\\n});\\n","done":true,"sessionId":"buZbKyD3S92F8reSAABG","tokenCount":5}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: 'Completion finished for ahsan@gmail.com: 5 tokens, 119 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: '🤖 Completion WebSocket disconnected: ahsan@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: 'File updated: index.js by ahsan@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:10:54'
}
{
  message: '🔌 WebSocket Disconnection: User ahsan@gmail.com (Socket ID: 6SNFb2aKV14fkQ4EAAAr) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:11:25'
}
{
  message: '👤 User ahsan@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:11:25'
}
{
  message: '📊 Remaining active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:11:25'
}
{
  message: '🚪 User ahsan@gmail.com left project room 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:11:25'
}
{
  message: '👥 Remaining users in project 68b6902393632ca58611dd55: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:11:25'
}
{
  message: '✅ Disconnect Cleanup Complete: User ahsan@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:11:25'
}
{
  message: '📊 Total active project rooms: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:11:25'
}
{
  message: '🧹 Cleanup: Stopped container session for socket 6SNFb2aKV14fkQ4EAAAr',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:11:25'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: gcyWEVmRVL3lIMFmAAAG) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:52'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:52'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:52'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:52'
}
{
  message: '👥 Remaining users in project 68b6902393632ca58611dd55: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:52'
}
{
  message: '🗑️ Empty project room 68b6902393632ca58611dd55 cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:52'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:52'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:52'
}
{
  message: '🛑 Stopping fallback session fallback-68b6902393632ca58611dd55-1756796265773',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:52'
}
{
  message: '💻 Terminal fallback-68b6902393632ca58611dd55-1756796265773 exited with code 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:52'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:52'
}
{
  message: '🧹 Cleanup: Stopped container session for socket gcyWEVmRVL3lIMFmAAAG',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:53'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID KCSIcHgwj3Tddj2_AABI from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:53'
}
{
  message: 'GET /api/projects/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:53'
}
{
  message: 'GET /api/files/project/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:53'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket KCSIcHgwj3Tddj2_AABI',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:53'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: KCSIcHgwj3Tddj2_AABI)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:53'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:53'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:53'
}
{
  message: 'GET /api/projects/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:53'
}
{
  message: 'GET /api/files/project/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:53'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:53',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:53'
}
{
  message: 'GET /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:53'
}
{
  service: 'collabcode-backend',
  projectId: '68b6902393632ca58611dd55',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 12:13:53'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:53'
}
{
  message: '🆕 New Project Room Created: project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:53'
}
{
  message: '👥 Project Room Status: 1 users in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:53'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:53'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:53'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:53'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:53'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket IfIi0R9tYFSG497OAABJ',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:54'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: IfIi0R9tYFSG497OAABJ)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:54'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 300,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 12:13:54'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:54'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:54'
}
{
  message: '📝 Enhanced prompt for completion (965 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:54'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:54'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "process"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 256,\n' +
    '    "totalTokenCount": 256,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 256\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "M5m2aKHIO_zwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: '✅ Token extracted via chunk.text(): "process"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: '📊 CHUNK SUMMARY: token="process", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"process","completionText":"process","done":false,"sessionId":"IfIi0R9tYFSG497OAABJ","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".on('unhandledRejection', err => {\\n  console.error('"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 256,\n' +
    '    "totalTokenCount": 256,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 256\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "M5m2aKHIO_zwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: `✅ Token extracted via chunk.text(): ".on('unhandledRejection', err => {\n` +
    `  console.error('"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: `📊 CHUNK SUMMARY: token=".on('unhandledRejection', err => {\n` +
    `  console.error('", hasToken=true, tokenLength=52`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".on('unhandledRejection', err => {\\n  console.error('","completionText":"process.on('unhandledRejection', err => {\\n  console.error('","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".on('unhandledRejection', err => {\\n  console.error('","completionText":"process.on('unhandledRejection', err => {\\n  console.error('","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".on('unhandledRejection', err => {\\n  console.error('","completionText":"process.on('unhandledRejection', err => {\\n  console.error('","done":false,"sessionId":"IfIi0R9tYFSG497OAABJ","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "Unhandled promise rejection:', err);\\n  process.exit(1);\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 256,\n' +
    '    "totalTokenCount": 256,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 256\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "M5m2aKHIO_zwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: `✅ Token extracted via chunk.text(): "Unhandled promise rejection:', err);\n` +
    '  process.exit(1);\n' +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: `📊 CHUNK SUMMARY: token="Unhandled promise rejection:', err);\n` +
    '  process.exit(1);\n' +
    '", hasToken=true, tokenLength=56',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"Unhandled promise rejection:', err);\\n  process.exit(1);\\n","completionText":"process.on('unhandledRejection', err => {\\n  console.error('Unhandled promise rejection:', err);\\n  process.exit(1);\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"Unhandled promise rejection:', err);\\n  process.exit(1);\\n","completionText":"process.on('unhandledRejection', err => {\\n  console.error('Unhandled promise rejection:', err);\\n  process.exit(1);\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"Unhandled promise rejection:', err);\\n  process.exit(1);\\n","completionText":"process.on('unhandledRejection', err => {\\n  console.error('Unhandled promise rejection:', err);\\n  process.exit(1);\\n","done":false,"sessionId":"IfIi0R9tYFSG497OAABJ","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 255,\n' +
    '    "candidatesTokenCount": 35,\n' +
    '    "totalTokenCount": 290,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 255\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 35\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "M5m2aKHIO_zwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: '✅ Token extracted via chunk.text(): "});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: '📊 CHUNK SUMMARY: token="});\n", hasToken=true, tokenLength=4',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"});\\n","completionText":"process.on('unhandledRejection', err => {\\n  console.error('Unhandled promise rejection:', err);\\n  process.exit(1);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"});\\n","completionText":"process.on('unhandledRejection', err => {\\n  console.error('Unhandled promise rejection:', err);\\n  process.exit(1);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"});\\n","completionText":"process.on('unhandledRejection', err => {\\n  console.error('Unhandled promise rejection:', err);\\n  process.exit(1);\\n});\\n","done":false,"sessionId":"IfIi0R9tYFSG497OAABJ","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 119',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"process.on('unhandledRejection', err => {\\n  console.error('Unhandled promise rejection:', err);\\n  process.exit(1);\\n});\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"process.on('unhandledRejection', err => {\\n  console.error('Unhandled promise rejection:', err);\\n  process.exit(1);\\n});\\n","done":true,"sessionId":"IfIi0R9tYFSG497OAABJ","tokenCount":5}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 119 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:56'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket QLfDuLHpEJAk6Q-HAABL',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:57'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: QLfDuLHpEJAk6Q-HAABL)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:57'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 300,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 12:13:57'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:57'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:57'
}
{
  message: '📝 Enhanced prompt for completion (965 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:57'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:57'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:57'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "process"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 256,\n' +
    '    "totalTokenCount": 256,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 256\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "NZm2aLufJJeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:57'
}
{
  message: '✅ Token extracted via chunk.text(): "process"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:57'
}
{
  message: '📊 CHUNK SUMMARY: token="process", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:57'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:57'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:57'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"process","completionText":"process","done":false,"sessionId":"QLfDuLHpEJAk6Q-HAABL","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:57'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".on('unhandledRejection', err => {\\n  console.error('"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 256,\n' +
    '    "totalTokenCount": 256,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 256\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "NZm2aLufJJeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:57'
}
{
  message: `✅ Token extracted via chunk.text(): ".on('unhandledRejection', err => {\n` +
    `  console.error('"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:57'
}
{
  message: `📊 CHUNK SUMMARY: token=".on('unhandledRejection', err => {\n` +
    `  console.error('", hasToken=true, tokenLength=52`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:57'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".on('unhandledRejection', err => {\\n  console.error('","completionText":"process.on('unhandledRejection', err => {\\n  console.error('","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:57'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".on('unhandledRejection', err => {\\n  console.error('","completionText":"process.on('unhandledRejection', err => {\\n  console.error('","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:57'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".on('unhandledRejection', err => {\\n  console.error('","completionText":"process.on('unhandledRejection', err => {\\n  console.error('","done":false,"sessionId":"QLfDuLHpEJAk6Q-HAABL","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:57'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "Unhandled promise rejection:', err);\\n  process.exit(1);\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 256,\n' +
    '    "totalTokenCount": 256,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 256\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "NZm2aLufJJeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:58'
}
{
  message: `✅ Token extracted via chunk.text(): "Unhandled promise rejection:', err);\n` +
    '  process.exit(1);\n' +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:58'
}
{
  message: `📊 CHUNK SUMMARY: token="Unhandled promise rejection:', err);\n` +
    '  process.exit(1);\n' +
    '", hasToken=true, tokenLength=56',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:58'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"Unhandled promise rejection:', err);\\n  process.exit(1);\\n","completionText":"process.on('unhandledRejection', err => {\\n  console.error('Unhandled promise rejection:', err);\\n  process.exit(1);\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:58'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"Unhandled promise rejection:', err);\\n  process.exit(1);\\n","completionText":"process.on('unhandledRejection', err => {\\n  console.error('Unhandled promise rejection:', err);\\n  process.exit(1);\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:58'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"Unhandled promise rejection:', err);\\n  process.exit(1);\\n","completionText":"process.on('unhandledRejection', err => {\\n  console.error('Unhandled promise rejection:', err);\\n  process.exit(1);\\n","done":false,"sessionId":"QLfDuLHpEJAk6Q-HAABL","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:58'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 255,\n' +
    '    "candidatesTokenCount": 35,\n' +
    '    "totalTokenCount": 290,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 255\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 35\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "NZm2aLufJJeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:58'
}
{
  message: '✅ Token extracted via chunk.text(): "});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:58'
}
{
  message: '📊 CHUNK SUMMARY: token="});\n", hasToken=true, tokenLength=4',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:58'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"});\\n","completionText":"process.on('unhandledRejection', err => {\\n  console.error('Unhandled promise rejection:', err);\\n  process.exit(1);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:58'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"});\\n","completionText":"process.on('unhandledRejection', err => {\\n  console.error('Unhandled promise rejection:', err);\\n  process.exit(1);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:58'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"});\\n","completionText":"process.on('unhandledRejection', err => {\\n  console.error('Unhandled promise rejection:', err);\\n  process.exit(1);\\n});\\n","done":false,"sessionId":"QLfDuLHpEJAk6Q-HAABL","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:58'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 119',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:58'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"process.on('unhandledRejection', err => {\\n  console.error('Unhandled promise rejection:', err);\\n  process.exit(1);\\n});\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:58'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"process.on('unhandledRejection', err => {\\n  console.error('Unhandled promise rejection:', err);\\n  process.exit(1);\\n});\\n","done":true,"sessionId":"QLfDuLHpEJAk6Q-HAABL","tokenCount":5}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:58'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:58'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 119 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:58'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:13:58'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket 8XTS9ICbh4nDYezyAABN',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:04'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: 8XTS9ICbh4nDYezyAABN)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:04'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 423,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 12:14:04'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:04'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:04'
}
{
  message: '📝 Enhanced prompt for completion (1088 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:04'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:04'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:04'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:04'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:04'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:04'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:04'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:04'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 292,\n' +
    '    "totalTokenCount": 292,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 292\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "PZm2aOXdApeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"\\n","done":false,"sessionId":"8XTS9ICbh4nDYezyAABN","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "process.on('SIGINT', () => {\\n  server.close(() =>"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 292,\n' +
    '    "totalTokenCount": 292,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 292\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "PZm2aOXdApeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: `✅ Token extracted via chunk.text(): "process.on('SIGINT', () => {\n` +
    '  server.close(() =>"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: `📊 CHUNK SUMMARY: token="process.on('SIGINT', () => {\n` +
    '  server.close(() =>", hasToken=true, tokenLength=49',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"process.on('SIGINT', () => {\\n  server.close(() =>","completionText":"\\nprocess.on('SIGINT', () => {\\n  server.close(() =>","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"process.on('SIGINT', () => {\\n  server.close(() =>","completionText":"\\nprocess.on('SIGINT', () => {\\n  server.close(() =>","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"process.on('SIGINT', () => {\\n  server.close(() =>","completionText":"\\nprocess.on('SIGINT', () => {\\n  server.close(() =>","done":false,"sessionId":"8XTS9ICbh4nDYezyAABN","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": " {\\n    console.log('Server closed gracefully');\\n    process.exit"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 292,\n' +
    '    "totalTokenCount": 292,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 292\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "PZm2aOXdApeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: '✅ Token extracted via chunk.text(): " {\n' +
    "    console.log('Server closed gracefully');\n" +
    '    process.exit"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: '📊 CHUNK SUMMARY: token=" {\n' +
    "    console.log('Server closed gracefully');\n" +
    '    process.exit", hasToken=true, tokenLength=64',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":" {\\n    console.log('Server closed gracefully');\\n    process.exit","completionText":"\\nprocess.on('SIGINT', () => {\\n  server.close(() => {\\n    console.log('Server closed gracefully');\\n    process.exit","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":" {\\n    console.log('Server closed gracefully');\\n    process.exit","completionText":"\\nprocess.on('SIGINT', () => {\\n  server.close(() => {\\n    console.log('Server closed gracefully');\\n    process.exit","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":" {\\n    console.log('Server closed gracefully');\\n    process.exit","completionText":"\\nprocess.on('SIGINT', () => {\\n  server.close(() => {\\n    console.log('Server closed gracefully');\\n    process.exit","done":false,"sessionId":"8XTS9ICbh4nDYezyAABN","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "(0);\\n  });\\n});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 291,\n' +
    '    "candidatesTokenCount": 42,\n' +
    '    "totalTokenCount": 333,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 291\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 42\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "PZm2aOXdApeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: '✅ Token extracted via chunk.text(): "(0);\n  });\n});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: '📊 CHUNK SUMMARY: token="(0);\n  });\n});\n", hasToken=true, tokenLength=15',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"(0);\\n  });\\n});\\n","completionText":"\\nprocess.on('SIGINT', () => {\\n  server.close(() => {\\n    console.log('Server closed gracefully');\\n    process.exit(0);\\n  });\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"(0);\\n  });\\n});\\n","completionText":"\\nprocess.on('SIGINT', () => {\\n  server.close(() => {\\n    console.log('Server closed gracefully');\\n    process.exit(0);\\n  });\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"(0);\\n  });\\n});\\n","completionText":"\\nprocess.on('SIGINT', () => {\\n  server.close(() => {\\n    console.log('Server closed gracefully');\\n    process.exit(0);\\n  });\\n});\\n","done":false,"sessionId":"8XTS9ICbh4nDYezyAABN","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 129',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"\\nprocess.on('SIGINT', () => {\\n  server.close(() => {\\n    console.log('Server closed gracefully');\\n    process.exit(0);\\n  });\\n});\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"\\nprocess.on('SIGINT', () => {\\n  server.close(() => {\\n    console.log('Server closed gracefully');\\n    process.exit(0);\\n  });\\n});\\n","done":true,"sessionId":"8XTS9ICbh4nDYezyAABN","tokenCount":5}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 129 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:05'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket H-06J0pGMlrqY4JEAABP',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:10'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: H-06J0pGMlrqY4JEAABP)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:10'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 423,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 12:14:10'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:10'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:10'
}
{
  message: '📝 Enhanced prompt for completion (1088 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:10'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:10'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:10'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:10'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:12'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:12'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:12'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:12'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:12'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:12'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:12'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "process"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 292,\n' +
    '    "totalTokenCount": 292,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 292\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Q5m2aPOXMpeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:12'
}
{
  message: '✅ Token extracted via chunk.text(): "process"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:12'
}
{
  message: '📊 CHUNK SUMMARY: token="process", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:12'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:12'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:12'
}
{
  message: 'Completion cancelled for socket H-06J0pGMlrqY4JEAABP',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:12'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:12'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket WpJeZtctgEJtYubGAABR',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:16'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: WpJeZtctgEJtYubGAABR)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:16'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 425,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 12:14:16'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:16'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:16'
}
{
  message: '📝 Enhanced prompt for completion (1090 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:16'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:16'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:16'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:16'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:16'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 293,\n' +
    '    "totalTokenCount": 293,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 293\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "SJm2aJ6ZHu6LqsMPhfO--Aw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:16'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:16'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:16'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:16'
}
{
  message: 'Completion cancelled for socket WpJeZtctgEJtYubGAABR',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:16'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:16'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:17'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:17'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:17'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:17'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:17'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:17'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket 0Nbe47NI9F9GSdFbAABT',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:19'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: 0Nbe47NI9F9GSdFbAABT)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:19'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 427,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 12:14:19'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:19'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:19'
}
{
  message: '📝 Enhanced prompt for completion (1092 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:19'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:19'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:19'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "process"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 295,\n' +
    '    "totalTokenCount": 295,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 295\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "S5m2aJHrGM2UhMIP7Myz4Q8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:19'
}
{
  message: '✅ Token extracted via chunk.text(): "process"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:19'
}
{
  message: '📊 CHUNK SUMMARY: token="process", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:19'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:19'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:19'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"process","completionText":"process","done":false,"sessionId":"0Nbe47NI9F9GSdFbAABT","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:19'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ".exit(1);\\n});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 294,\n' +
    '    "candidatesTokenCount": 9,\n' +
    '    "totalTokenCount": 303,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 294\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 9\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "S5m2aJHrGM2UhMIP7Myz4Q8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:19'
}
{
  message: '✅ Token extracted via chunk.text(): ".exit(1);\n});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:19'
}
{
  message: '📊 CHUNK SUMMARY: token=".exit(1);\n});\n", hasToken=true, tokenLength=14',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:19'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":".exit(1);\\n});\\n","completionText":"process.exit(1);\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:19'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".exit(1);\\n});\\n","completionText":"process.exit(1);\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:19'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".exit(1);\\n});\\n","completionText":"process.exit(1);\\n});\\n","done":false,"sessionId":"0Nbe47NI9F9GSdFbAABT","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:19'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 21',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:19'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"process.exit(1);\\n});\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:19'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"process.exit(1);\\n});\\n","done":true,"sessionId":"0Nbe47NI9F9GSdFbAABT","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:19'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:19'
}
{
  message: 'Completion finished for adnan99@gmail.com: 3 tokens, 21 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:19'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:19'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:20'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:20'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:20'
}
{
  message: '📝 Enhanced prompt for completion (1088 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:20'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:20'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:21'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "process"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 292,\n' +
    '    "totalTokenCount": 292,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 292\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "TZm2aNDwA82UhMIP7Myz4Q8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:21'
}
{
  message: '✅ Token extracted via chunk.text(): "process"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:21'
}
{
  message: '📊 CHUNK SUMMARY: token="process", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:21'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:21'
}
{
  message: 'Client disconnected during completion generation for user 6894f6135cbf1256c0f77008',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:21'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:21'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket GfyqVc-hkgFoTmFgAABV',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: GfyqVc-hkgFoTmFgAABV)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 450,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: '📝 Enhanced prompt for completion (1115 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 304,\n' +
    '    "totalTokenCount": 304,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 304\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "T5m2aMbYD-6LqsMPhfO--Aw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"\\n","done":false,"sessionId":"GfyqVc-hkgFoTmFgAABV","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ""\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 303,\n' +
    '    "candidatesTokenCount": 1,\n' +
    '    "totalTokenCount": 304,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 303\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 1\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "T5m2aMbYD-6LqsMPhfO--Aw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: '✅ Token extracted via chunk.text(): ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: '✅ Token extracted via candidates: ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: '📊 CHUNK SUMMARY: token="", hasToken=false, tokenLength=0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: '⚠️ EMPTY TOKEN - chunk keys: candidates, usageMetadata, modelVersion, responseId, text, functionCall, functionCalls',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"\\n","done":true,"sessionId":"GfyqVc-hkgFoTmFgAABV","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: 'Completion finished for adnan99@gmail.com: 2 tokens, 1 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:23'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:26'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:26'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:26'
}
{
  message: '📝 Enhanced prompt for completion (1090 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:26'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:26'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:26'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 293,\n' +
    '    "totalTokenCount": 293,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 293\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Upm2aMTnHvzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:26'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:26'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:26'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:26'
}
{
  message: 'Client disconnected during completion generation for user 6894f6135cbf1256c0f77008',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:26'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:26'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:29'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:29'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:29'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:29'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:29'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:14:29'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: KCSIcHgwj3Tddj2_AABI) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:18:48'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:18:48'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:18:48'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:18:48'
}
{
  message: '👥 Remaining users in project 68b6902393632ca58611dd55: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:18:48'
}
{
  message: '🗑️ Empty project room 68b6902393632ca58611dd55 cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:18:48'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:18:48'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:18:48'
}
{
  message: '🧹 Cleanup: Stopped container session for socket KCSIcHgwj3Tddj2_AABI',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:18:48'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID gkh6383YADmLK9WcAABX from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:18:50'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket gkh6383YADmLK9WcAABX',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:18:50'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: gkh6383YADmLK9WcAABX)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:18:50'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:18:50'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:18:50'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:18:50',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:18:50'
}
{
  service: 'collabcode-backend',
  projectId: '68b6902393632ca58611dd55',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 12:18:50'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:18:50'
}
{
  message: '🆕 New Project Room Created: project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:18:50'
}
{
  message: '👥 Project Room Status: 1 users in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:18:50'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:18:50'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:18:50'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:18:50'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:18:50'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket UhzBpVY_Ezcq1aNYAABZ',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:30:33'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: UhzBpVY_Ezcq1aNYAABZ)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:30:33'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 429,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 12:30:33'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:30:33'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:30:33'
}
{
  message: '📝 Enhanced prompt for completion (1094 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:30:33'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:30:33'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:30:35'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "process"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 297,\n' +
    '    "totalTokenCount": 297,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 297\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Gp22aJ_YMfzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:30:35'
}
{
  message: '✅ Token extracted via chunk.text(): "process"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:30:35'
}
{
  message: '📊 CHUNK SUMMARY: token="process", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:30:35'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:30:35'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:30:35'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"process","completionText":"process","done":false,"sessionId":"UhzBpVY_Ezcq1aNYAABZ","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:30:35'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ".exit(1);\\n});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 296,\n' +
    '    "candidatesTokenCount": 9,\n' +
    '    "totalTokenCount": 305,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 296\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 9\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Gp22aJ_YMfzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:30:35'
}
{
  message: '✅ Token extracted via chunk.text(): ".exit(1);\n});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:30:35'
}
{
  message: '📊 CHUNK SUMMARY: token=".exit(1);\n});\n", hasToken=true, tokenLength=14',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:30:35'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":".exit(1);\\n});\\n","completionText":"process.exit(1);\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:30:35'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".exit(1);\\n});\\n","completionText":"process.exit(1);\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:30:35'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".exit(1);\\n});\\n","completionText":"process.exit(1);\\n});\\n","done":false,"sessionId":"UhzBpVY_Ezcq1aNYAABZ","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:30:35'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 21',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:30:35'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"process.exit(1);\\n});\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:30:35'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"process.exit(1);\\n});\\n","done":true,"sessionId":"UhzBpVY_Ezcq1aNYAABZ","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:30:35'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:30:35'
}
{
  message: 'Completion finished for adnan99@gmail.com: 3 tokens, 21 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:30:35'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:30:35'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket AiePMGU5tBfMHbUqAABb',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:43:23'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: AiePMGU5tBfMHbUqAABb)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:43:23'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 429,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 12:43:23'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:43:23'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:43:23'
}
{
  message: '📝 Enhanced prompt for completion (1094 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:43:23'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:43:23'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:43:25'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "process"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 297,\n' +
    '    "totalTokenCount": 297,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 297\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "HaC2aNiBAs6ShMIPz7-yuQ0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:43:25'
}
{
  message: '✅ Token extracted via chunk.text(): "process"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:43:25'
}
{
  message: '📊 CHUNK SUMMARY: token="process", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:43:25'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:43:25'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:43:25'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"process","completionText":"process","done":false,"sessionId":"AiePMGU5tBfMHbUqAABb","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:43:25'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ".exit(1);\\n});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 296,\n' +
    '    "candidatesTokenCount": 9,\n' +
    '    "totalTokenCount": 305,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 296\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 9\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "HaC2aNiBAs6ShMIPz7-yuQ0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:43:25'
}
{
  message: '✅ Token extracted via chunk.text(): ".exit(1);\n});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:43:25'
}
{
  message: '📊 CHUNK SUMMARY: token=".exit(1);\n});\n", hasToken=true, tokenLength=14',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:43:25'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":".exit(1);\\n});\\n","completionText":"process.exit(1);\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:43:25'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".exit(1);\\n});\\n","completionText":"process.exit(1);\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:43:25'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".exit(1);\\n});\\n","completionText":"process.exit(1);\\n});\\n","done":false,"sessionId":"AiePMGU5tBfMHbUqAABb","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:43:25'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 21',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:43:25'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"process.exit(1);\\n});\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:43:25'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"process.exit(1);\\n});\\n","done":true,"sessionId":"AiePMGU5tBfMHbUqAABb","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:43:25'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:43:25'
}
{
  message: 'Completion finished for adnan99@gmail.com: 3 tokens, 21 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:43:25'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 12:43:25'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: gkh6383YADmLK9WcAABX) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 14:46:35'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 14:46:35'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 14:46:35'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 14:46:35'
}
{
  message: '👥 Remaining users in project 68b6902393632ca58611dd55: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 14:46:35'
}
{
  message: '🗑️ Empty project room 68b6902393632ca58611dd55 cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 14:46:35'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 14:46:35'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 14:46:35'
}
{
  message: '🧹 Cleanup: Stopped container session for socket gkh6383YADmLK9WcAABX',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 14:46:35'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID M3yWMeHQw8uv2w2dAABd from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 14:46:42'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket M3yWMeHQw8uv2w2dAABd',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 14:46:42'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: M3yWMeHQw8uv2w2dAABd)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 14:46:42'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 14:46:42'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 14:46:42'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 14:46:42',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 14:46:42'
}
{
  service: 'collabcode-backend',
  projectId: '68b6902393632ca58611dd55',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 14:46:42'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 14:46:42'
}
{
  message: '🆕 New Project Room Created: project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 14:46:42'
}
{
  message: '👥 Project Room Status: 1 users in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 14:46:42'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 14:46:42'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 14:46:42'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 14:46:42'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 14:46:42'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: M3yWMeHQw8uv2w2dAABd) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:18:41'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:18:41'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:18:41'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:18:41'
}
{
  message: '👥 Remaining users in project 68b6902393632ca58611dd55: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:18:41'
}
{
  message: '🗑️ Empty project room 68b6902393632ca58611dd55 cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:18:41'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:18:41'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:18:41'
}
{
  message: '🧹 Cleanup: Stopped container session for socket M3yWMeHQw8uv2w2dAABd',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:18:41'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID u-1ybwOU0J6zXHc9AABf from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:18:43'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket u-1ybwOU0J6zXHc9AABf',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:18:43'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: u-1ybwOU0J6zXHc9AABf)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:18:43'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:18:43'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:18:43'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:18:43',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:18:43'
}
{
  service: 'collabcode-backend',
  projectId: '68b6902393632ca58611dd55',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 16:18:43'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:18:43'
}
{
  message: '🆕 New Project Room Created: project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:18:43'
}
{
  message: '👥 Project Room Status: 1 users in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:18:43'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:18:43'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:18:43'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:18:43'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:18:43'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:42'
}
{
  message: 'GET /api/projects/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:42'
}
{
  message: 'GET /api/files/project/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:42'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID txSvtcKOr1fkDmfNAABh from IP ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:42'
}
{
  message: '✅ WebSocket Auth Success: User ahsan@gmail.com (Ahsan Haroon) authenticated for socket txSvtcKOr1fkDmfNAABh',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:42'
}
{
  message: '🔌 WebSocket Connection Established: ahsan@gmail.com (Socket ID: txSvtcKOr1fkDmfNAABh)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:42'
}
{
  message: '📊 Total active connections: 2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:42'
}
{
  message: '👤 User Ahsan Haroon (ahsan@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:42'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:42',
  level: 'info',
  message: '🏓 Ping received from ahsan@gmail.com:'
}
{
  message: 'GET /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:42'
}
{
  service: 'collabcode-backend',
  projectId: '68b6902393632ca58611dd55',
  level: 'info',
  message: '🚪 Join Project Request: User ahsan@gmail.com attempting to join project',
  timestamp: '2025-09-02 16:38:42'
}
{
  message: '🏠 Room Joined: User ahsan@gmail.com joined room project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:42'
}
{
  message: '👥 Project Room Status: 2 users in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:42'
}
{
  message: '👥 Users in room: Adnan Fazil, Ahsan Haroon',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:42'
}
{
  message: '📢 Broadcasting user-joined event for ahsan@gmail.com to project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:42'
}
{
  message: '📤 Sent project-joined confirmation to ahsan@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:42'
}
{
  message: '✅ Join Project Success: User ahsan@gmail.com successfully joined project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:42'
}
{
  message: 'User ahsan@gmail.com left project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:43'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:43'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:43'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:43'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:43'
}
{
  message: 'GET /api/projects/6898625d46a1a2b771ff60f0 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:45'
}
{
  message: 'GET /api/files/project/6898625d46a1a2b771ff60f0 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:45'
}
{
  message: 'GET /api/projects/6898625d46a1a2b771ff60f0 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:45'
}
{
  message: 'GET /api/files/project/6898625d46a1a2b771ff60f0 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:45'
}
{
  message: 'GET /api/files/6898627c46a1a2b771ff6130 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:45'
}
{
  service: 'collabcode-backend',
  projectId: '6898625d46a1a2b771ff60f0',
  level: 'info',
  message: '🚪 Join Project Request: User ahsan@gmail.com attempting to join project',
  timestamp: '2025-09-02 16:38:45'
}
{
  message: '🏠 Room Joined: User ahsan@gmail.com joined room project:6898625d46a1a2b771ff60f0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:45'
}
{
  message: '🆕 New Project Room Created: project:6898625d46a1a2b771ff60f0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:45'
}
{
  message: '👥 Project Room Status: 1 users in project 6898625d46a1a2b771ff60f0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:45'
}
{
  message: '👥 Users in room: Ahsan Haroon',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:45'
}
{
  message: '📢 Broadcasting user-joined event for ahsan@gmail.com to project 6898625d46a1a2b771ff60f0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:45'
}
{
  message: '📤 Sent project-joined confirmation to ahsan@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:45'
}
{
  message: '✅ Join Project Success: User ahsan@gmail.com successfully joined project 6898625d46a1a2b771ff60f0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:45'
}
{
  message: 'GET /api/files/6898627c46a1a2b771ff6130 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:45'
}
{
  message: 'Completion WebSocket: User ahsan@gmail.com authenticated for socket 0wBmJ0LPTCd-bYswAABi',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:46'
}
{
  message: '🤖 Completion WebSocket connected: ahsan@gmail.com (Socket ID: 0wBmJ0LPTCd-bYswAABi)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:46'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 484,
  filename: '',
  level: 'info',
  message: 'Completion request from ahsan@gmail.com:',
  timestamp: '2025-09-02 16:38:46'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:46'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:46'
}
{
  message: '📝 Enhanced prompt for completion (1149 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:46'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:46'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:48'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "  "\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 327,\n' +
    '    "totalTokenCount": 327,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 327\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "R9e2aNuBLZeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:48'
}
{
  message: '✅ Token extracted via chunk.text(): "  "',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:48'
}
{
  message: '📊 CHUNK SUMMARY: token="  ", hasToken=true, tokenLength=2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:48'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"  ","completionText":"  ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:48'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"  ","completionText":"  ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:48'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"  ","completionText":"  ","done":false,"sessionId":"0wBmJ0LPTCd-bYswAABi","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:48'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 326,\n' +
    '    "candidatesTokenCount": 4,\n' +
    '    "totalTokenCount": 330,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 326\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 4\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "R9e2aNuBLZeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:48'
}
{
  message: '✅ Token extracted via chunk.text(): "\n});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:48'
}
{
  message: '📊 CHUNK SUMMARY: token="\n});\n", hasToken=true, tokenLength=5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:48'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n});\\n","completionText":"  \\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:48'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n});\\n","completionText":"  \\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:48'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n});\\n","completionText":"  \\n});\\n","done":false,"sessionId":"0wBmJ0LPTCd-bYswAABi","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:48'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:48'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"  \\n});\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:48'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"  \\n});\\n","done":true,"sessionId":"0wBmJ0LPTCd-bYswAABi","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:48'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:48'
}
{
  message: 'Completion finished for ahsan@gmail.com: 3 tokens, 7 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:48'
}
{
  message: '🤖 Completion WebSocket disconnected: ahsan@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:38:48'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket TlXglR2enDv8OiWdAABk',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:01'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: TlXglR2enDv8OiWdAABk)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:01'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 429,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 16:39:01'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:01'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:01'
}
{
  message: '📝 Enhanced prompt for completion (1094 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:01'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:01'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:02'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "process"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 297,\n' +
    '    "totalTokenCount": 297,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 297\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Vde2aJ2QOs2UhMIP7Myz4Q8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:02'
}
{
  message: '✅ Token extracted via chunk.text(): "process"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:02'
}
{
  message: '📊 CHUNK SUMMARY: token="process", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:02'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:02'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:02'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"process","completionText":"process","done":false,"sessionId":"TlXglR2enDv8OiWdAABk","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:02'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ".exit(1);\\n});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 296,\n' +
    '    "candidatesTokenCount": 9,\n' +
    '    "totalTokenCount": 305,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 296\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 9\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Vde2aJ2QOs2UhMIP7Myz4Q8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:02'
}
{
  message: '✅ Token extracted via chunk.text(): ".exit(1);\n});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:02'
}
{
  message: '📊 CHUNK SUMMARY: token=".exit(1);\n});\n", hasToken=true, tokenLength=14',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:02'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":".exit(1);\\n});\\n","completionText":"process.exit(1);\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:02'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".exit(1);\\n});\\n","completionText":"process.exit(1);\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:02'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".exit(1);\\n});\\n","completionText":"process.exit(1);\\n});\\n","done":false,"sessionId":"TlXglR2enDv8OiWdAABk","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:02'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 21',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:02'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"process.exit(1);\\n});\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:02'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"process.exit(1);\\n});\\n","done":true,"sessionId":"TlXglR2enDv8OiWdAABk","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:02'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:02'
}
{
  message: 'Completion finished for adnan99@gmail.com: 3 tokens, 21 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:02'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:02'
}
{
  message: '🖥️ Terminal Create: User adnan99@gmail.com creating session for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:07'
}
{
  message: '🐳 Creating container session for project 68b6902393632ca58611dd55, socket u-1ybwOU0J6zXHc9AABf',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:07'
}
{
  message: '🖥️ Terminal Create: User adnan99@gmail.com creating session for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:07'
}
{
  message: '⚠️ Terminal creation already in progress for socket u-1ybwOU0J6zXHc9AABf, ignoring duplicate request',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:07'
}
{
  message: '🐳 Docker version: Docker version 28.0.1, build 068a01e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:07'
}
{
  message: '🐳 Docker daemon not working: exit code 127',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:07'
}
{
  message: '🐳 Docker test error: docker: error during connect: Head "http://%2F%2F.%2Fpipe%2FdockerDesktopLinuxEngine/_ping": open //./pipe/dockerDesktopLinuxEngine: The system cannot find the file specified.\n' +
    '\n' +
    "Run 'docker run --help' for more information",
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:07'
}
{
  message: '🐳 Docker test output: ',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:07'
}
{
  message: '🐳 Docker not available, falling back to local terminal for project 68b6902393632ca58611dd55',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:07'
}
{
  message: '💻 Creating fallback terminal session for project 68b6902393632ca58611dd55, socket u-1ybwOU0J6zXHc9AABf',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:07'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:07'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:07'
}
{
  message: '✅ Fallback terminal session created: fallback-68b6902393632ca58611dd55-1756813147588',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:07'
}
{
  message: '✅ Terminal session created for adnan99@gmail.com in project 68b6902393632ca58611dd55 (fallback)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:07'
}
{
  message: 'POST /api/chatbot/session - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:11'
}
{
  message: 'POST /api/chatbot/session - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:11'
}
{
  message: '🐳 Docker version check timed out',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:12'
}
{
  message: '🐳 Docker test timed out - daemon may not be running',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:22'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:34'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:34'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:34'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:34'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:34'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:34'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: u-1ybwOU0J6zXHc9AABf) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:35'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:35'
}
{
  message: '📊 Remaining active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:35'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:35'
}
{
  message: '👥 Remaining users in project 68b6902393632ca58611dd55: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:35'
}
{
  message: '🗑️ Empty project room 68b6902393632ca58611dd55 cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:35'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:35'
}
{
  message: '📊 Total active project rooms: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:35'
}
{
  message: '🛑 Stopping fallback session fallback-68b6902393632ca58611dd55-1756813147588',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:35'
}
{
  message: '💻 Terminal fallback-68b6902393632ca58611dd55-1756813147588 exited with code 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:35'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID spBnlGm2tGytqQorAABm from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:36'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket spBnlGm2tGytqQorAABm',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:36'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: spBnlGm2tGytqQorAABm)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:36'
}
{
  message: '📊 Total active connections: 2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:36'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:36'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:36',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:36'
}
{
  service: 'collabcode-backend',
  projectId: '68b6902393632ca58611dd55',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 16:39:36'
}
{
  message: '🧹 Cleanup: Stopped container session for socket u-1ybwOU0J6zXHc9AABf',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:36'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:36'
}
{
  message: '🆕 New Project Room Created: project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:36'
}
{
  message: '👥 Project Room Status: 1 users in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:36'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:36'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:36'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:36'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:36'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: spBnlGm2tGytqQorAABm) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:36'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:36'
}
{
  message: '📊 Remaining active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:36'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:36'
}
{
  message: '👥 Remaining users in project 68b6902393632ca58611dd55: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:36'
}
{
  message: '🗑️ Empty project room 68b6902393632ca58611dd55 cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:36'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:37'
}
{
  message: '📊 Total active project rooms: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:37'
}
{
  message: '🧹 Cleanup: Stopped container session for socket spBnlGm2tGytqQorAABm',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:37'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:37'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID zBlrHl-IXTcN4g-ZAABo from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:37'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket zBlrHl-IXTcN4g-ZAABo',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:37'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: zBlrHl-IXTcN4g-ZAABo)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:37'
}
{
  message: '📊 Total active connections: 2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:37'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:37'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:37',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/projects/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:37'
}
{
  message: 'GET /api/files/project/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:37'
}
{
  message: 'GET /api/projects/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:37'
}
{
  message: 'GET /api/files/project/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:37'
}
{
  message: 'GET /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:37'
}
{
  message: 'GET /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:37'
}
{
  service: 'collabcode-backend',
  projectId: '68b6902393632ca58611dd55',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 16:39:38'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:38'
}
{
  message: '🆕 New Project Room Created: project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:38'
}
{
  message: '👥 Project Room Status: 1 users in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:38'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:38'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:38'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:38'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:38'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:47'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:47'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:47'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:47'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:47'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:47'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket XDX-zAF0fGsZFN79AABp',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:51'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: XDX-zAF0fGsZFN79AABp)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:51'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 11,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 16:39:51'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:51'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:51'
}
{
  message: '📝 Enhanced prompt for completion (676 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:51'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:51'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "="\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 161,\n' +
    '    "totalTokenCount": 161,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 161\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "iNe2aMuhFe6LqsMPhfO--Aw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: '✅ Token extracted via chunk.text(): "="',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: '📊 CHUNK SUMMARY: token="=", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"=","completionText":"=","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"=","completionText":"=","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"=","completionText":"=","done":false,"sessionId":"XDX-zAF0fGsZFN79AABp","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": " require('http');\\nconst port = 3000;\\nconst"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 161,\n' +
    '    "totalTokenCount": 161,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 161\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "iNe2aMuhFe6LqsMPhfO--Aw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: `✅ Token extracted via chunk.text(): " require('http');\n` +
    'const port = 3000;\n' +
    'const"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: `📊 CHUNK SUMMARY: token=" require('http');\n` +
    'const port = 3000;\n' +
    'const", hasToken=true, tokenLength=42',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":" require('http');\\nconst port = 3000;\\nconst","completionText":"= require('http');\\nconst port = 3000;\\nconst","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":" require('http');\\nconst port = 3000;\\nconst","completionText":"= require('http');\\nconst port = 3000;\\nconst","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":" require('http');\\nconst port = 3000;\\nconst","completionText":"= require('http');\\nconst port = 3000;\\nconst","done":false,"sessionId":"XDX-zAF0fGsZFN79AABp","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " server = http.createServer((req, res) => {\\n  res."\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 161,\n' +
    '    "totalTokenCount": 161,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 161\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "iNe2aMuhFe6LqsMPhfO--Aw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: '✅ Token extracted via chunk.text(): " server = http.createServer((req, res) => {\n' +
    '  res."',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: '📊 CHUNK SUMMARY: token=" server = http.createServer((req, res) => {\n' +
    '  res.", hasToken=true, tokenLength=50',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":" server = http.createServer((req, res) => {\\n  res.","completionText":"= require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":" server = http.createServer((req, res) => {\\n  res.","completionText":"= require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":" server = http.createServer((req, res) => {\\n  res.","completionText":"= require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.","done":false,"sessionId":"XDX-zAF0fGsZFN79AABp","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "end('Hello World!');\\n});\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 160,\n' +
    '    "candidatesTokenCount": 41,\n' +
    '    "totalTokenCount": 201,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 160\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 41\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "iNe2aMuhFe6LqsMPhfO--Aw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: `✅ Token extracted via chunk.text(): "end('Hello World!');\n});\n"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: `📊 CHUNK SUMMARY: token="end('Hello World!');\n` +
    '});\n' +
    '", hasToken=true, tokenLength=25',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"end('Hello World!');\\n});\\n","completionText":"= require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.end('Hello World!');\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"end('Hello World!');\\n});\\n","completionText":"= require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.end('Hello World!');\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"end('Hello World!');\\n});\\n","completionText":"= require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.end('Hello World!');\\n});\\n","done":false,"sessionId":"XDX-zAF0fGsZFN79AABp","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 118',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"= require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.end('Hello World!');\\n});\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"= require('http');\\nconst port = 3000;\\nconst server = http.createServer((req, res) => {\\n  res.end('Hello World!');\\n});\\n","done":true,"sessionId":"XDX-zAF0fGsZFN79AABp","tokenCount":5}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 118 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:52'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket yakfiLiNRJMSFS1bAABr',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:53'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: yakfiLiNRJMSFS1bAABr)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:53'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 134,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 16:39:53'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:53'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:53'
}
{
  message: '📝 Enhanced prompt for completion (799 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:53'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:53'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:53'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "server"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 201,\n' +
    '    "totalTokenCount": 201,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 201\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "ide2aJ_-GZeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:53'
}
{
  message: '✅ Token extracted via chunk.text(): "server"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:53'
}
{
  message: '📊 CHUNK SUMMARY: token="server", hasToken=true, tokenLength=6',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:53'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"server","completionText":"server","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:53'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"server","completionText":"server","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:53'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"server","completionText":"server","done":false,"sessionId":"yakfiLiNRJMSFS1bAABr","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:53'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ".listen(port, () => {\\n  console.log(`Server running"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 201,\n' +
    '    "totalTokenCount": 201,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 201\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "ide2aJ_-GZeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:53'
}
{
  message: '✅ Token extracted via chunk.text(): ".listen(port, () => {\n' +
    '  console.log(`Server running"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:53'
}
{
  message: '📊 CHUNK SUMMARY: token=".listen(port, () => {\n' +
    '  console.log(`Server running", hasToken=true, tokenLength=51',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:53'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":".listen(port, () => {\\n  console.log(`Server running","completionText":"server.listen(port, () => {\\n  console.log(`Server running","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:53'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".listen(port, () => {\\n  console.log(`Server running","completionText":"server.listen(port, () => {\\n  console.log(`Server running","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:53'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".listen(port, () => {\\n  console.log(`Server running","completionText":"server.listen(port, () => {\\n  console.log(`Server running","done":false,"sessionId":"yakfiLiNRJMSFS1bAABr","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:53'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " at http://localhost:${port}/`);\\n});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 200,\n' +
    '    "candidatesTokenCount": 28,\n' +
    '    "totalTokenCount": 228,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 200\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 28\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "ide2aJ_-GZeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:53'
}
{
  message: '✅ Token extracted via chunk.text(): " at http://localhost:${port}/`);\n' +
    '});\n' +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:54'
}
{
  message: '📊 CHUNK SUMMARY: token=" at http://localhost:${port}/`);\n' +
    '});\n' +
    '", hasToken=true, tokenLength=37',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:54'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" at http://localhost:${port}/`);\\n});\\n","completionText":"server.listen(port, () => {\\n  console.log(`Server running at http://localhost:${port}/`);\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:54'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" at http://localhost:${port}/`);\\n});\\n","completionText":"server.listen(port, () => {\\n  console.log(`Server running at http://localhost:${port}/`);\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:54'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" at http://localhost:${port}/`);\\n});\\n","completionText":"server.listen(port, () => {\\n  console.log(`Server running at http://localhost:${port}/`);\\n});\\n","done":false,"sessionId":"yakfiLiNRJMSFS1bAABr","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:54'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 94',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:54'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"server.listen(port, () => {\\n  console.log(`Server running at http://localhost:${port}/`);\\n});\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:54'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"server.listen(port, () => {\\n  console.log(`Server running at http://localhost:${port}/`);\\n});\\n","done":true,"sessionId":"yakfiLiNRJMSFS1bAABr","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:54'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:54'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 94 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:54'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:54'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:54'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:54'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:54'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:54'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:54'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:54'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:58'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:58'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:58'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:58'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:58'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:39:58'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket FStoXVcSFsPiveHKAABt',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:01'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: FStoXVcSFsPiveHKAABt)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:01'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 136,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 16:40:01'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:01'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:01'
}
{
  message: '📝 Enhanced prompt for completion (801 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:01'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:01'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:02'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "server"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 203,\n' +
    '    "totalTokenCount": 203,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 203\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "kte2aPvQA_2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:02'
}
{
  message: '✅ Token extracted via chunk.text(): "server"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:02'
}
{
  message: '📊 CHUNK SUMMARY: token="server", hasToken=true, tokenLength=6',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:02'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"server","completionText":"server","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:02'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"server","completionText":"server","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:02'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"server","completionText":"server","done":false,"sessionId":"FStoXVcSFsPiveHKAABt","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:02'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ".listen(port, () => {\\n  console.log(`Server running"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 203,\n' +
    '    "totalTokenCount": 203,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 203\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "kte2aPvQA_2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:02'
}
{
  message: '✅ Token extracted via chunk.text(): ".listen(port, () => {\n' +
    '  console.log(`Server running"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:02'
}
{
  message: '📊 CHUNK SUMMARY: token=".listen(port, () => {\n' +
    '  console.log(`Server running", hasToken=true, tokenLength=51',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:02'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":".listen(port, () => {\\n  console.log(`Server running","completionText":"server.listen(port, () => {\\n  console.log(`Server running","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:02'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".listen(port, () => {\\n  console.log(`Server running","completionText":"server.listen(port, () => {\\n  console.log(`Server running","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:02'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".listen(port, () => {\\n  console.log(`Server running","completionText":"server.listen(port, () => {\\n  console.log(`Server running","done":false,"sessionId":"FStoXVcSFsPiveHKAABt","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:02'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " at http://localhost:${port}/`);\\n});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 202,\n' +
    '    "candidatesTokenCount": 28,\n' +
    '    "totalTokenCount": 230,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 202\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 28\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "kte2aPvQA_2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:02'
}
{
  message: '✅ Token extracted via chunk.text(): " at http://localhost:${port}/`);\n' +
    '});\n' +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:02'
}
{
  message: '📊 CHUNK SUMMARY: token=" at http://localhost:${port}/`);\n' +
    '});\n' +
    '", hasToken=true, tokenLength=37',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:02'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" at http://localhost:${port}/`);\\n});\\n","completionText":"server.listen(port, () => {\\n  console.log(`Server running at http://localhost:${port}/`);\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:02'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" at http://localhost:${port}/`);\\n});\\n","completionText":"server.listen(port, () => {\\n  console.log(`Server running at http://localhost:${port}/`);\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:02'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" at http://localhost:${port}/`);\\n});\\n","completionText":"server.listen(port, () => {\\n  console.log(`Server running at http://localhost:${port}/`);\\n});\\n","done":false,"sessionId":"FStoXVcSFsPiveHKAABt","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:02'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 94',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:02'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"server.listen(port, () => {\\n  console.log(`Server running at http://localhost:${port}/`);\\n});\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:02'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"server.listen(port, () => {\\n  console.log(`Server running at http://localhost:${port}/`);\\n});\\n","done":true,"sessionId":"FStoXVcSFsPiveHKAABt","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:02'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:02'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 94 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:02'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:02'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket 9AqP911HYDBuI4_eAABv',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: 9AqP911HYDBuI4_eAABv)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 233,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: '📝 Enhanced prompt for completion (898 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "});"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 232,\n' +
    '    "totalTokenCount": 232,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 232\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "k9e2aNqOCu6LqsMPhfO--Aw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: '✅ Token extracted via chunk.text(): "});"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: '📊 CHUNK SUMMARY: token="});", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"});","completionText":"});","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"});","completionText":"});","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"});","completionText":"});","done":false,"sessionId":"9AqP911HYDBuI4_eAABv","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 231,\n' +
    '    "candidatesTokenCount": 2,\n' +
    '    "totalTokenCount": 233,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 231\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 2\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "k9e2aNqOCu6LqsMPhfO--Aw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"});\\n","done":false,"sessionId":"9AqP911HYDBuI4_eAABv","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 4',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"});\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"});\\n","done":true,"sessionId":"9AqP911HYDBuI4_eAABv","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: 'Completion finished for adnan99@gmail.com: 3 tokens, 4 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:03'
}
{
  message: 'POST /api/chatbot/session - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:31'
}
{
  message: 'POST /api/chatbot/session - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:31'
}
{
  message: 'POST /api/chatbot/query - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:34'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket Oe1qCBCrLXelFSzkAABx',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:57'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: Oe1qCBCrLXelFSzkAABx)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:57'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 233,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 16:40:57'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:57'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:57'
}
{
  message: '📝 Enhanced prompt for completion (898 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:57'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:57'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:57'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:57'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:58'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "});"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 232,\n' +
    '    "totalTokenCount": 232,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 232\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "yde2aOu8Nt6XhMIP38T7sA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:58'
}
{
  message: '✅ Token extracted via chunk.text(): "});"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:58'
}
{
  message: '📊 CHUNK SUMMARY: token="});", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:58'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"});","completionText":"});","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:58'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"});","completionText":"});","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:58'
}
{
  message: 'Completion cancelled for socket Oe1qCBCrLXelFSzkAABx',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:58'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:58'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:58'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:58'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:58'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:58'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:58'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:58'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket srlGpV4OBRvuhqe9AABz',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:59'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: srlGpV4OBRvuhqe9AABz)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:59'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 235,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 16:40:59'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:59'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:59'
}
{
  message: '📝 Enhanced prompt for completion (900 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:59'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:40:59'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:00'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 234,\n' +
    '    "totalTokenCount": 234,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 234\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "y9e2aNLKHZeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:00'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:00'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:00'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:00'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:00'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"\\n","done":false,"sessionId":"srlGpV4OBRvuhqe9AABz","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:00'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 233,\n' +
    '    "candidatesTokenCount": 3,\n' +
    '    "totalTokenCount": 236,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 233\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 3\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "y9e2aNLKHZeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:00'
}
{
  message: '✅ Token extracted via chunk.text(): "});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:00'
}
{
  message: '📊 CHUNK SUMMARY: token="});\n", hasToken=true, tokenLength=4',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:00'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"});\\n","completionText":"\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:00'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"});\\n","completionText":"\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:00'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"});\\n","completionText":"\\n});\\n","done":false,"sessionId":"srlGpV4OBRvuhqe9AABz","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:00'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:00'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"\\n});\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:00'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"\\n});\\n","done":true,"sessionId":"srlGpV4OBRvuhqe9AABz","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:00'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:00'
}
{
  message: 'Completion finished for adnan99@gmail.com: 3 tokens, 5 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:00'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:00'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket CrXjE5Y0JNyz-nEAAAB1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:03'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: CrXjE5Y0JNyz-nEAAAB1)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:03'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 242,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 16:41:03'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:03'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:03'
}
{
  message: '📝 Enhanced prompt for completion (907 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:03'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:03'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:03'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 238,\n' +
    '    "totalTokenCount": 238,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 238\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "z9e2aPT5I_zwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:03'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:03'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:03'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:03'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:03'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"\\n","done":false,"sessionId":"CrXjE5Y0JNyz-nEAAAB1","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:03'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ""\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 237,\n' +
    '    "candidatesTokenCount": 1,\n' +
    '    "totalTokenCount": 238,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 237\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 1\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "z9e2aPT5I_zwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:03'
}
{
  message: '✅ Token extracted via chunk.text(): ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:03'
}
{
  message: '✅ Token extracted via candidates: ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:03'
}
{
  message: '📊 CHUNK SUMMARY: token="", hasToken=false, tokenLength=0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:03'
}
{
  message: '⚠️ EMPTY TOKEN - chunk keys: candidates, usageMetadata, modelVersion, responseId, text, functionCall, functionCalls',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:03'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:03'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:03'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"\\n","done":true,"sessionId":"CrXjE5Y0JNyz-nEAAAB1","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:03'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:03'
}
{
  message: 'Completion finished for adnan99@gmail.com: 2 tokens, 1 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:03'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:03'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:04'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:04'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:04'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:04'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:04'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:04'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:07'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:07'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:07'
}
{
  message: '📝 Enhanced prompt for completion (898 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:07'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:07'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:07'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "});"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 232,\n' +
    '    "totalTokenCount": 232,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 232\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "09e2aL6DIc6ShMIPz7-yuQ0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:07'
}
{
  message: '✅ Token extracted via chunk.text(): "});"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:07'
}
{
  message: '📊 CHUNK SUMMARY: token="});", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:07'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"});","completionText":"});","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:07'
}
{
  message: 'Client disconnected during completion generation for user 6894f6135cbf1256c0f77008',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:07'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:07'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:08'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:08'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:08'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:08'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:08'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:08'
}
{
  message: 'User ahsan@gmail.com left project 6898625d46a1a2b771ff60f0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:40'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:40'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:40'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:40'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:40'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: zBlrHl-IXTcN4g-ZAABo) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:44'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:44'
}
{
  message: '📊 Remaining active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:44'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:44'
}
{
  message: '👥 Remaining users in project 68b6902393632ca58611dd55: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:44'
}
{
  message: '🗑️ Empty project room 68b6902393632ca58611dd55 cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:44'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:44'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:44'
}
{
  message: '🧹 Cleanup: Stopped container session for socket zBlrHl-IXTcN4g-ZAABo',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:44'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:44'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:45'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:45'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID m7jbEzTSFiierTd4AAB3 from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:45'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket m7jbEzTSFiierTd4AAB3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:45'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: m7jbEzTSFiierTd4AAB3)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:45'
}
{
  message: '📊 Total active connections: 2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:45'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:45'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:45',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:46'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:46'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:46'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:46'
}
{
  message: 'GET /api/projects/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:49'
}
{
  message: 'GET /api/files/project/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:49'
}
{
  message: 'GET /api/projects/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:49'
}
{
  message: 'GET /api/files/project/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:49'
}
{
  message: 'GET /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:49'
}
{
  service: 'collabcode-backend',
  projectId: '68b6902393632ca58611dd55',
  level: 'info',
  message: '🚪 Join Project Request: User ahsan@gmail.com attempting to join project',
  timestamp: '2025-09-02 16:41:49'
}
{
  message: '🏠 Room Joined: User ahsan@gmail.com joined room project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:49'
}
{
  message: '🆕 New Project Room Created: project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:49'
}
{
  message: '👥 Project Room Status: 1 users in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:49'
}
{
  message: '👥 Users in room: Ahsan Haroon',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:49'
}
{
  message: '📢 Broadcasting user-joined event for ahsan@gmail.com to project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:49'
}
{
  message: '📤 Sent project-joined confirmation to ahsan@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:49'
}
{
  message: '✅ Join Project Success: User ahsan@gmail.com successfully joined project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:49'
}
{
  message: 'GET /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:49'
}
{
  message: 'Completion WebSocket: User ahsan@gmail.com authenticated for socket Ypj5hHD4PG7ir8jLAAB5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:49'
}
{
  message: '🤖 Completion WebSocket connected: ahsan@gmail.com (Socket ID: Ypj5hHD4PG7ir8jLAAB5)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:49'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 239,
  filename: '',
  level: 'info',
  message: 'Completion request from ahsan@gmail.com:',
  timestamp: '2025-09-02 16:41:49'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:49'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:49'
}
{
  message: '📝 Enhanced prompt for completion (904 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:49'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:49'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:50'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "  "\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 238,\n' +
    '    "totalTokenCount": 238,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 238\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "_te2aPnHJ72XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:50'
}
{
  message: '✅ Token extracted via chunk.text(): "  "',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:50'
}
{
  message: '📊 CHUNK SUMMARY: token="  ", hasToken=true, tokenLength=2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:50'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"  ","completionText":"  ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:50'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"  ","completionText":"  ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:50'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"  ","completionText":"  ","done":false,"sessionId":"Ypj5hHD4PG7ir8jLAAB5","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:50'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 237,\n' +
    '    "candidatesTokenCount": 2,\n' +
    '    "totalTokenCount": 239,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 237\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 2\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "_te2aPnHJ72XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:51'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:51'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:51'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"  \\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:51'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"  \\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:51'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"  \\n","done":false,"sessionId":"Ypj5hHD4PG7ir8jLAAB5","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:51'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:51'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"  \\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:51'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"  \\n","done":true,"sessionId":"Ypj5hHD4PG7ir8jLAAB5","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:51'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:51'
}
{
  message: 'Completion finished for ahsan@gmail.com: 3 tokens, 3 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:51'
}
{
  message: '🤖 Completion WebSocket disconnected: ahsan@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:51'
}
{
  message: 'GET /api/projects/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:51'
}
{
  message: 'GET /api/files/project/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:51'
}
{
  message: 'GET /api/projects/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:51'
}
{
  message: 'GET /api/files/project/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:51'
}
{
  message: 'GET /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:51'
}
{
  service: 'collabcode-backend',
  projectId: '68b6902393632ca58611dd55',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 16:41:51'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:51'
}
{
  message: '👥 Project Room Status: 2 users in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:51'
}
{
  message: '👥 Users in room: Ahsan Haroon, Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:51'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:51'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:51'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:51'
}
{
  message: 'GET /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:52'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket Ge56MmTy0EyEZnp5AAB6',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:53'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: Ge56MmTy0EyEZnp5AAB6)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:53'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 239,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 16:41:53'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:53'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:53'
}
{
  message: '📝 Enhanced prompt for completion (904 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:53'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:53'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:53'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "});"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 238,\n' +
    '    "totalTokenCount": 238,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 238\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Adi2aNPXD82UhMIP7Myz4Q8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:53'
}
{
  message: '✅ Token extracted via chunk.text(): "});"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:53'
}
{
  message: '📊 CHUNK SUMMARY: token="});", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:53'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"});","completionText":"});","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:53'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"});","completionText":"});","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:53'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"});","completionText":"});","done":false,"sessionId":"Ge56MmTy0EyEZnp5AAB6","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:53'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 237,\n' +
    '    "candidatesTokenCount": 2,\n' +
    '    "totalTokenCount": 239,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 237\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 2\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Adi2aNPXD82UhMIP7Myz4Q8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:53'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:53'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:53'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:53'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:53'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"});\\n","done":false,"sessionId":"Ge56MmTy0EyEZnp5AAB6","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:53'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 4',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:53'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"});\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:53'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"});\\n","done":true,"sessionId":"Ge56MmTy0EyEZnp5AAB6","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:53'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:53'
}
{
  message: 'Completion finished for adnan99@gmail.com: 3 tokens, 4 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:53'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:53'
}
{
  message: 'Completion WebSocket: User ahsan@gmail.com authenticated for socket 5lQGP9mpR_DGQW2kAAB8',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:55'
}
{
  message: '🤖 Completion WebSocket connected: ahsan@gmail.com (Socket ID: 5lQGP9mpR_DGQW2kAAB8)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:55'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 239,
  filename: '',
  level: 'info',
  message: 'Completion request from ahsan@gmail.com:',
  timestamp: '2025-09-02 16:41:55'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:55'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:55'
}
{
  message: '📝 Enhanced prompt for completion (904 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:55'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:55'
}
{
  message: 'Completion cancellation requested by ahsan@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:55'
}
{
  message: '🤖 Completion WebSocket disconnected: ahsan@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:55'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:55'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "process"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 238,\n' +
    '    "totalTokenCount": 238,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 238\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "A9i2aOCoEM6ShMIPz7-yuQ0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:55'
}
{
  message: '✅ Token extracted via chunk.text(): "process"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:55'
}
{
  message: '📊 CHUNK SUMMARY: token="process", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:55'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:55'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:55'
}
{
  message: 'Completion cancelled for socket 5lQGP9mpR_DGQW2kAAB8',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:55'
}
{
  message: 'Completion finished for ahsan@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:55'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:56'
}
{
  message: 'File updated: index.js by ahsan@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:56'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:56'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:56'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:56'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:56'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:58'
}
{
  message: 'File updated: index.js by ahsan@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:58'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:58'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:58'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:58'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:41:58'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket Xh9oTy0DpTKIK9n-AAB-',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:03'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: Xh9oTy0DpTKIK9n-AAB-)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:03'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 248,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 16:42:03'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:03'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:03'
}
{
  message: '📝 Enhanced prompt for completion (913 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:03'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:03'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:03'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:03'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:04'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "console"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 243,\n' +
    '    "totalTokenCount": 243,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 243\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "DNi2aIvMCP2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:04'
}
{
  message: '✅ Token extracted via chunk.text(): "console"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:04'
}
{
  message: '📊 CHUNK SUMMARY: token="console", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:04'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"console","completionText":"console","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:04'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"console","completionText":"console","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:04'
}
{
  message: 'Completion cancelled for socket Xh9oTy0DpTKIK9n-AAB-',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:04'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:04'
}
{
  message: 'POST /api/completions/generate - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:05'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:05'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:05'
}
{
  message: '📝 Enhanced prompt for completion (904 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:05'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:05'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:05'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:05'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "  "\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 238,\n' +
    '    "totalTokenCount": 238,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 238\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Ddi2aJ-bEf2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:05'
}
{
  message: '✅ Token extracted via chunk.text(): "  "',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:05'
}
{
  message: '📊 CHUNK SUMMARY: token="  ", hasToken=true, tokenLength=2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:05'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"  ","completionText":"  ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:05'
}
{
  message: 'Client disconnected during completion generation for user 6895a77330ace6744067654e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:05'
}
{
  message: 'Completion generated successfully for user 6895a77330ace6744067654e, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:05'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:05'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:05'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:05'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:05'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:05'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:13'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:13'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:13'
}
{
  message: '📝 Enhanced prompt for completion (913 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:13'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:13'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:15'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "console"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 243,\n' +
    '    "totalTokenCount": 243,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 243\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Fti2aNLVKc2UhMIP7Myz4Q8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:15'
}
{
  message: '✅ Token extracted via chunk.text(): "console"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:15'
}
{
  message: '📊 CHUNK SUMMARY: token="console", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:15'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"console","completionText":"console","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:15'
}
{
  message: 'Client disconnected during completion generation for user 6894f6135cbf1256c0f77008',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:15'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:15'
}
{
  message: 'POST /api/chatbot/session - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:36'
}
{
  message: 'POST /api/chatbot/session - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:36'
}
{
  message: 'POST /api/chatbot/session - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:43'
}
{
  message: 'POST /api/chatbot/session - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:42:43'
}
{
  message: '🖥️ Terminal Create: User adnan99@gmail.com creating session for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:43:22'
}
{
  message: '🐳 Creating container session for project 68b6902393632ca58611dd55, socket m7jbEzTSFiierTd4AAB3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:43:22'
}
{
  message: '🖥️ Terminal Create: User adnan99@gmail.com creating session for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:43:22'
}
{
  message: '⚠️ Terminal creation already in progress for socket m7jbEzTSFiierTd4AAB3, ignoring duplicate request',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:43:22'
}
{
  message: '🐳 Docker version: Docker version 28.0.1, build 068a01e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:43:22'
}
{
  message: '🐳 Docker daemon not working: exit code 127',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:43:22'
}
{
  message: '🐳 Docker test error: docker: error during connect: Head "http://%2F%2F.%2Fpipe%2FdockerDesktopLinuxEngine/_ping": open //./pipe/dockerDesktopLinuxEngine: The system cannot find the file specified.\n' +
    '\n' +
    "Run 'docker run --help' for more information",
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:43:22'
}
{
  message: '🐳 Docker test output: ',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:43:22'
}
{
  message: '🐳 Docker not available, falling back to local terminal for project 68b6902393632ca58611dd55',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:43:22'
}
{
  message: '💻 Creating fallback terminal session for project 68b6902393632ca58611dd55, socket m7jbEzTSFiierTd4AAB3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:43:22'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:43:22'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:43:22'
}
{
  message: '✅ Fallback terminal session created: fallback-68b6902393632ca58611dd55-1756813402667',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:43:22'
}
{
  message: '✅ Terminal session created for adnan99@gmail.com in project 68b6902393632ca58611dd55 (fallback)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:43:22'
}
{
  message: '🐳 Docker version check timed out',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:43:27'
}
{
  message: 'POST /api/chatbot/session - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:43:30'
}
{
  message: 'POST /api/chatbot/session - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:43:30'
}
{
  message: '🐳 Docker test timed out - daemon may not be running',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:43:37'
}
{
  message: '🔍 Debug: Total active sessions: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:43:38'
}
{
  message: '🔍 Session: socketId=m7jbEzTSFiierTd4AAB3, containerId=fallback-68b6902393632ca58611dd55-1756813402667, isActive=true, processKilled=false, exitCode=null',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:43:38'
}
{
  message: '🛑 Terminal Stop: User adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:46:04'
}
{
  message: '🛑 Stopping fallback session fallback-68b6902393632ca58611dd55-1756813402667',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:46:04'
}
{
  message: '💻 Terminal fallback-68b6902393632ca58611dd55-1756813402667 exited with code 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 16:46:04'
}
{
  message: 'SIGINT received. Shutting down gracefully...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:40'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:45'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:45'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:45'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:45'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:45'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:45'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:45'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:45'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:45'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID v52t4bmSsRpO2IkfAAAB from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:46'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket v52t4bmSsRpO2IkfAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:46'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: v52t4bmSsRpO2IkfAAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:46'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:46'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:46'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:46',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:46'
}
{
  service: 'collabcode-backend',
  projectId: '68b6902393632ca58611dd55',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 17:04:46'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:46'
}
{
  message: '🆕 New Project Room Created: project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:46'
}
{
  message: '👥 Project Room Status: 1 users in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:46'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:46'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:46'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:46'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:46'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID 5hzx29PVE_zc4TpLAAAD from IP ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:47'
}
{
  message: '✅ WebSocket Auth Success: User ahsan@gmail.com (Ahsan Haroon) authenticated for socket 5hzx29PVE_zc4TpLAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:47'
}
{
  message: '🔌 WebSocket Connection Established: ahsan@gmail.com (Socket ID: 5hzx29PVE_zc4TpLAAAD)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:47'
}
{
  message: '📊 Total active connections: 2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:47'
}
{
  message: '👤 User Ahsan Haroon (ahsan@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:47'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:47',
  level: 'info',
  message: '🏓 Ping received from ahsan@gmail.com:'
}
{
  message: 'User ahsan@gmail.com left project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:47'
}
{
  service: 'collabcode-backend',
  projectId: '68b6902393632ca58611dd55',
  level: 'info',
  message: '🚪 Join Project Request: User ahsan@gmail.com attempting to join project',
  timestamp: '2025-09-02 17:04:47'
}
{
  message: '🏠 Room Joined: User ahsan@gmail.com joined room project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:47'
}
{
  message: '👥 Project Room Status: 2 users in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:47'
}
{
  message: '👥 Users in room: Adnan Fazil, Ahsan Haroon',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:47'
}
{
  message: '📢 Broadcasting user-joined event for ahsan@gmail.com to project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:47'
}
{
  message: '📤 Sent project-joined confirmation to ahsan@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:47'
}
{
  message: '✅ Join Project Success: User ahsan@gmail.com successfully joined project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:47'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: v52t4bmSsRpO2IkfAAAB) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:52'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:52'
}
{
  message: '📊 Remaining active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:52'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:52'
}
{
  message: '👥 Remaining users in project 68b6902393632ca58611dd55: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:52'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:52'
}
{
  message: '📊 Total active project rooms: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:52'
}
{
  message: '🧹 Cleanup: Stopped container session for socket v52t4bmSsRpO2IkfAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:52'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:53'
}
{
  message: 'GET /api/projects/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:53'
}
{
  message: 'GET /api/files/project/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:53'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID Q55YLMw5VeoShFUQAAAF from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:53'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket Q55YLMw5VeoShFUQAAAF',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:53'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: Q55YLMw5VeoShFUQAAAF)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:53'
}
{
  message: '📊 Total active connections: 2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:53'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:53'
}
{
  message: 'GET /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:53'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:53',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:53'
}
{
  service: 'collabcode-backend',
  projectId: '68b6902393632ca58611dd55',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 17:04:53'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:53'
}
{
  message: '👥 Project Room Status: 2 users in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:53'
}
{
  message: '👥 Users in room: Ahsan Haroon, Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:53'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:53'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:54'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:54'
}
{
  message: 'User adnan99@gmail.com left project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:54'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:54'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:54'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:54'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:54'
}
{
  message: 'GET /api/projects/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:55'
}
{
  message: 'GET /api/files/project/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:55'
}
{
  message: 'GET /api/projects/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:55'
}
{
  message: 'GET /api/files/project/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:55'
}
{
  message: 'GET /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:55'
}
{
  service: 'collabcode-backend',
  projectId: '68b6902393632ca58611dd55',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 17:04:56'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:56'
}
{
  message: '👥 Project Room Status: 2 users in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:56'
}
{
  message: '👥 Users in room: Ahsan Haroon, Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:56'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:56'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:56'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:56'
}
{
  message: 'GET /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:56'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket 44ym2jKUcqpmiUNoAAAG',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:57'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: 44ym2jKUcqpmiUNoAAAG)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:57'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 243,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 17:04:57'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:57'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:57'
}
{
  message: '📝 Enhanced prompt for completion (908 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:57'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:57'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:58'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 242,\n' +
    '    "totalTokenCount": 242,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 242\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "at22aPNyzZSEwg_szLPhDw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:58'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:58'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:58'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:58'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:58'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"\\n","done":false,"sessionId":"44ym2jKUcqpmiUNoAAAG","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:58'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 241,\n' +
    '    "candidatesTokenCount": 3,\n' +
    '    "totalTokenCount": 244,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 241\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 3\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "at22aPNyzZSEwg_szLPhDw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:58'
}
{
  message: '✅ Token extracted via chunk.text(): "});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:58'
}
{
  message: '📊 CHUNK SUMMARY: token="});\n", hasToken=true, tokenLength=4',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:58'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"});\\n","completionText":"\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:58'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"});\\n","completionText":"\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:58'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"});\\n","completionText":"\\n});\\n","done":false,"sessionId":"44ym2jKUcqpmiUNoAAAG","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:58'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:58'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"\\n});\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:58'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"\\n});\\n","done":true,"sessionId":"44ym2jKUcqpmiUNoAAAG","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:58'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:58'
}
{
  message: 'Completion finished for adnan99@gmail.com: 3 tokens, 5 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:58'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:58'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket 9DnGZl_-cj2aWdFuAAAI',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:58'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: 9DnGZl_-cj2aWdFuAAAI)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:58'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 243,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 17:04:58'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:58'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:58'
}
{
  message: '📝 Enhanced prompt for completion (908 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:58'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:58'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:59'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:59'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:59'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "  "\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 242,\n' +
    '    "totalTokenCount": 242,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 242\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "a922aP7TAr2XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:59'
}
{
  message: '✅ Token extracted via chunk.text(): "  "',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:59'
}
{
  message: '📊 CHUNK SUMMARY: token="  ", hasToken=true, tokenLength=2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:59'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"  ","completionText":"  ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:59'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"  ","completionText":"  ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:59'
}
{
  message: 'Completion cancelled for socket 9DnGZl_-cj2aWdFuAAAI',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:59'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:04:59'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:00'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:00'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:00'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:00'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:00'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:00'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:01'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:01'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:01'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:01'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:01'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:01'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket VdtQIWrXFJsxgEGVAAAK',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:02'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: VdtQIWrXFJsxgEGVAAAK)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:02'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 247,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 17:05:02'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:02'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:02'
}
{
  message: '📝 Enhanced prompt for completion (912 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:02'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:02'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:02'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "});"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 246,\n' +
    '    "totalTokenCount": 246,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 246\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "bt22aL7WJ-rxgLUPzLW7mAo"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:02'
}
{
  message: '✅ Token extracted via chunk.text(): "});"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:02'
}
{
  message: '📊 CHUNK SUMMARY: token="});", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:02'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"});","completionText":"});","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:02'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"});","completionText":"});","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:02'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"});","completionText":"});","done":false,"sessionId":"VdtQIWrXFJsxgEGVAAAK","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:02'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 245,\n' +
    '    "candidatesTokenCount": 2,\n' +
    '    "totalTokenCount": 247,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 245\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 2\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "bt22aL7WJ-rxgLUPzLW7mAo"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:02'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:02'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:02'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:02'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:02'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"});\\n","done":false,"sessionId":"VdtQIWrXFJsxgEGVAAAK","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:02'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 4',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:03'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"});\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:03'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"});\\n","done":true,"sessionId":"VdtQIWrXFJsxgEGVAAAK","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:03'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:03'
}
{
  message: 'Completion finished for adnan99@gmail.com: 3 tokens, 4 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:03'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:03'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket 9EZ7Xw-6BwX3wdbYAAAM',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:05'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: 9EZ7Xw-6BwX3wdbYAAAM)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:05'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 252,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 17:05:05'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:05'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:05'
}
{
  message: '📝 Enhanced prompt for completion (917 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:05'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:05'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 248,\n' +
    '    "totalTokenCount": 248,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 248\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "cd22aMzlLe-xgLUP04GY-QU"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"\\n","done":false,"sessionId":"9EZ7Xw-6BwX3wdbYAAAM","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ""\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 247,\n' +
    '    "candidatesTokenCount": 1,\n' +
    '    "totalTokenCount": 248,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 247\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 1\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "cd22aMzlLe-xgLUP04GY-QU"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: '✅ Token extracted via chunk.text(): ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: '✅ Token extracted via candidates: ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: '📊 CHUNK SUMMARY: token="", hasToken=false, tokenLength=0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: '⚠️ EMPTY TOKEN - chunk keys: candidates, usageMetadata, modelVersion, responseId, text, functionCall, functionCalls',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"\\n","done":true,"sessionId":"9EZ7Xw-6BwX3wdbYAAAM","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: 'Completion finished for adnan99@gmail.com: 2 tokens, 1 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket WsszOh5BC_P6daZNAAAO',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: WsszOh5BC_P6daZNAAAO)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 254,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: '📝 Enhanced prompt for completion (919 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:06'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:07'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 250,\n' +
    '    "totalTokenCount": 250,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 250\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "ct22aL3uMojLgLUPwpOY0Ac"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:07'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:07'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:07'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:07'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:07'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"\\n","done":false,"sessionId":"WsszOh5BC_P6daZNAAAO","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:07'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ""\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 249,\n' +
    '    "candidatesTokenCount": 1,\n' +
    '    "totalTokenCount": 250,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 249\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 1\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "ct22aL3uMojLgLUPwpOY0Ac"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:07'
}
{
  message: '✅ Token extracted via chunk.text(): ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:07'
}
{
  message: '✅ Token extracted via candidates: ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:07'
}
{
  message: '📊 CHUNK SUMMARY: token="", hasToken=false, tokenLength=0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:07'
}
{
  message: '⚠️ EMPTY TOKEN - chunk keys: candidates, usageMetadata, modelVersion, responseId, text, functionCall, functionCalls',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:07'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:07'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:07'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"\\n","done":true,"sessionId":"WsszOh5BC_P6daZNAAAO","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:07'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:07'
}
{
  message: 'Completion finished for adnan99@gmail.com: 2 tokens, 1 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:07'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:07'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:07'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:07'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:07'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:07'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:07'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:07'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket -my66VkqFQe9JLdeAAAQ',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:08'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: -my66VkqFQe9JLdeAAAQ)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:08'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 256,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 17:05:08'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:08'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:08'
}
{
  message: '📝 Enhanced prompt for completion (921 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:08'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:08'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:08'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:08'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:08'
}
{
  message: '📝 Enhanced prompt for completion (908 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:08'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:08'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 252,\n' +
    '    "totalTokenCount": 252,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 252\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "dN22aJrdLOCYgLUP_rCz6QI"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"\\n","done":false,"sessionId":"-my66VkqFQe9JLdeAAAQ","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ""\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 251,\n' +
    '    "candidatesTokenCount": 1,\n' +
    '    "totalTokenCount": 252,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 251\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 1\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "dN22aJrdLOCYgLUP_rCz6QI"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: '✅ Token extracted via chunk.text(): ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: '✅ Token extracted via candidates: ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: '📊 CHUNK SUMMARY: token="", hasToken=false, tokenLength=0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: '⚠️ EMPTY TOKEN - chunk keys: candidates, usageMetadata, modelVersion, responseId, text, functionCall, functionCalls',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"\\n","done":true,"sessionId":"-my66VkqFQe9JLdeAAAQ","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: 'Completion finished for adnan99@gmail.com: 2 tokens, 1 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "process"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 242,\n' +
    '    "totalTokenCount": 242,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 242\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "dd22aOHDD-rxgLUPzLW7mAo"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: '✅ Token extracted via chunk.text(): "process"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: '📊 CHUNK SUMMARY: token="process", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"process","completionText":"process","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: 'Client disconnected during completion generation for user 6894f6135cbf1256c0f77008',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:09'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket 9ednCg1AgvL8EJzLAAAS',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:10'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: 9ednCg1AgvL8EJzLAAAS)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:10'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 258,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 17:05:10'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:10'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:10'
}
{
  message: '📝 Enhanced prompt for completion (923 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:10'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:10'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:10'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 254,\n' +
    '    "totalTokenCount": 254,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 254\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "dt22aLGOJZeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:10'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:10'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:10'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:10'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:10'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"\\n","done":false,"sessionId":"9ednCg1AgvL8EJzLAAAS","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:10'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ""\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 253,\n' +
    '    "candidatesTokenCount": 1,\n' +
    '    "totalTokenCount": 254,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 253\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 1\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "dt22aLGOJZeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:10'
}
{
  message: '✅ Token extracted via chunk.text(): ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:10'
}
{
  message: '✅ Token extracted via candidates: ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:10'
}
{
  message: '📊 CHUNK SUMMARY: token="", hasToken=false, tokenLength=0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:10'
}
{
  message: '⚠️ EMPTY TOKEN - chunk keys: candidates, usageMetadata, modelVersion, responseId, text, functionCall, functionCalls',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:10'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:10'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:10'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"\\n","done":true,"sessionId":"9ednCg1AgvL8EJzLAAAS","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:10'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:10'
}
{
  message: 'Completion finished for adnan99@gmail.com: 2 tokens, 1 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:10'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:10'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:11'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:11'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:11'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:11'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:11'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:11'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket 1GKpeVbwFfeP1didAAAU',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: 1GKpeVbwFfeP1didAAAU)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 260,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '📝 Enhanced prompt for completion (925 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ""\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 255,\n' +
    '    "totalTokenCount": 255,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 255\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "et22aPz8DOrxgLUPzLW7mAo"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '✅ Token extracted via chunk.text(): ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '✅ Token extracted via candidates: ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '📊 CHUNK SUMMARY: token="", hasToken=false, tokenLength=0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '⚠️ EMPTY TOKEN - chunk keys: candidates, usageMetadata, modelVersion, responseId, text, functionCall, functionCalls',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '🏁 Stream completed. Total chunks: 1, Final completion length: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '⚠️ Gemini returned no content. Falling back to mock completion',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"c","completionText":"c","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"c","completionText":"c","done":false,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"co","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"co","done":false,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"n","completionText":"con","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"n","completionText":"con","done":false,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"s","completionText":"cons","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"s","completionText":"cons","done":false,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"conso","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"conso","done":false,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":5}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"consol","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"consol","done":false,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":6}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"e","completionText":"console","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"e","completionText":"console","done":false,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":7}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".","completionText":"console.","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".","completionText":"console.","done":false,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":8}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.l","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.l","done":false,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":9}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:14'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.lo","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.lo","done":false,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":10}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"g","completionText":"console.log","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"g","completionText":"console.log","done":false,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":11}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"(","completionText":"console.log(","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"(","completionText":"console.log(","done":false,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":12}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\"","completionText":"console.log(\\"","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\"","completionText":"console.log(\\"","done":false,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":13}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"H","completionText":"console.log(\\"H","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"H","completionText":"console.log(\\"H","done":false,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":14}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"e","completionText":"console.log(\\"He","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"e","completionText":"console.log(\\"He","done":false,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":15}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hel","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hel","done":false,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":16}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hell","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hell","done":false,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":17}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.log(\\"Hello","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.log(\\"Hello","done":false,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":18}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":",","completionText":"console.log(\\"Hello,","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":",","completionText":"console.log(\\"Hello,","done":false,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":19}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" ","completionText":"console.log(\\"Hello, ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" ","completionText":"console.log(\\"Hello, ","done":false,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":20}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"W","completionText":"console.log(\\"Hello, W","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"W","completionText":"console.log(\\"Hello, W","done":false,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":21}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.log(\\"Hello, Wo","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.log(\\"Hello, Wo","done":false,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":22}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"r","completionText":"console.log(\\"Hello, Wor","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"r","completionText":"console.log(\\"Hello, Wor","done":false,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":23}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hello, Worl","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hello, Worl","done":false,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":24}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"d","completionText":"console.log(\\"Hello, World","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"d","completionText":"console.log(\\"Hello, World","done":false,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":25}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:15'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"!","completionText":"console.log(\\"Hello, World!","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"!","completionText":"console.log(\\"Hello, World!","done":false,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":26}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\"","completionText":"console.log(\\"Hello, World!\\"","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\"","completionText":"console.log(\\"Hello, World!\\"","done":false,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":27}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":")","completionText":"console.log(\\"Hello, World!\\")","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":")","completionText":"console.log(\\"Hello, World!\\")","done":false,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":28}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":";","completionText":"console.log(\\"Hello, World!\\");","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":";","completionText":"console.log(\\"Hello, World!\\");","done":false,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":29}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"console.log(\\"Hello, World!\\");","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"console.log(\\"Hello, World!\\");","done":true,"sessionId":"1GKpeVbwFfeP1didAAAU","tokenCount":30}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:16'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:16'
}
{
  message: 'Completion finished for adnan99@gmail.com: 30 tokens, 29 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:16'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:16'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket 5UPJ70fkSeIMNwppAAAW',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:18'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: 5UPJ70fkSeIMNwppAAAW)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:18'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 289,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 17:05:18'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:18'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:18'
}
{
  message: '📝 Enhanced prompt for completion (954 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:18'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:18'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:19'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 263,\n' +
    '    "totalTokenCount": 263,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 263\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "f922aLi1Bq2m1dkP6puC6Q8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:19'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:19'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:19'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:19'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:19'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"\\n","done":false,"sessionId":"5UPJ70fkSeIMNwppAAAW","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:19'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ""\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 262,\n' +
    '    "candidatesTokenCount": 1,\n' +
    '    "totalTokenCount": 263,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 262\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 1\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "f922aLi1Bq2m1dkP6puC6Q8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:19'
}
{
  message: '✅ Token extracted via chunk.text(): ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:19'
}
{
  message: '✅ Token extracted via candidates: ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:19'
}
{
  message: '📊 CHUNK SUMMARY: token="", hasToken=false, tokenLength=0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:19'
}
{
  message: '⚠️ EMPTY TOKEN - chunk keys: candidates, usageMetadata, modelVersion, responseId, text, functionCall, functionCalls',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:19'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:19'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:19'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"\\n","done":true,"sessionId":"5UPJ70fkSeIMNwppAAAW","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:19'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:19'
}
{
  message: 'Completion finished for adnan99@gmail.com: 2 tokens, 1 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:19'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:19'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:19'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:19'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:19'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:19'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:19'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:19'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:24'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:24'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:24'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:24'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:24'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:24'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket De81V_JWdbu5Jh0iAAAY',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:25'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: De81V_JWdbu5Jh0iAAAY)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:25'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 293,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 17:05:25'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:25'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:25'
}
{
  message: '📝 Enhanced prompt for completion (958 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:25'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:25'
}
{
  service: 'collabcode-backend',
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [
        {
          quotaMetric: 'generativelanguage.googleapis.com/generate_content_free_tier_requests',
          quotaId: 'GenerateRequestsPerDayPerProjectPerModel-FreeTier',
          quotaDimensions: { location: 'global', model: 'gemini-1.5-flash' },
          quotaValue: '50'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.Help',
      links: [
        {
          description: 'Learn more about Gemini API quotas',
          url: 'https://ai.google.dev/gemini-api/docs/rate-limits'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '34s'
    }
  ],
  level: 'error',
  message: 'Error generating streaming completion: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"34s"}]',
  stack: 'Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"34s"}]\n' +
    '    at handleResponseNotOk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async makeRequest (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n' +
    '    at async generateContentStream (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:862:22)\n' +
    '    at async StreamingCompletionService.generateCompletion (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\streamingCompletionService.js:48:22)\n' +
    '    at async Socket.<anonymous> (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\socket\\completionSocketHandler.js:100:26)',
  timestamp: '2025-09-02 17:05:25'
}
{
  message: '🔁 Falling back to mock completion due to error',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:25'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"c","completionText":"c","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:25'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"c","completionText":"c","done":false,"sessionId":"De81V_JWdbu5Jh0iAAAY","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:25'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"co","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:25'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"co","done":false,"sessionId":"De81V_JWdbu5Jh0iAAAY","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:25'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"n","completionText":"con","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:25'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"n","completionText":"con","done":false,"sessionId":"De81V_JWdbu5Jh0iAAAY","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:25'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"s","completionText":"cons","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:25'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"s","completionText":"cons","done":false,"sessionId":"De81V_JWdbu5Jh0iAAAY","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:25'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"conso","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:25'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"conso","done":false,"sessionId":"De81V_JWdbu5Jh0iAAAY","tokenCount":5}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:25'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"consol","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"consol","done":false,"sessionId":"De81V_JWdbu5Jh0iAAAY","tokenCount":6}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"e","completionText":"console","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"e","completionText":"console","done":false,"sessionId":"De81V_JWdbu5Jh0iAAAY","tokenCount":7}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".","completionText":"console.","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".","completionText":"console.","done":false,"sessionId":"De81V_JWdbu5Jh0iAAAY","tokenCount":8}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.l","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.l","done":false,"sessionId":"De81V_JWdbu5Jh0iAAAY","tokenCount":9}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.lo","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.lo","done":false,"sessionId":"De81V_JWdbu5Jh0iAAAY","tokenCount":10}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"g","completionText":"console.log","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"g","completionText":"console.log","done":false,"sessionId":"De81V_JWdbu5Jh0iAAAY","tokenCount":11}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"(","completionText":"console.log(","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"(","completionText":"console.log(","done":false,"sessionId":"De81V_JWdbu5Jh0iAAAY","tokenCount":12}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\"","completionText":"console.log(\\"","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\"","completionText":"console.log(\\"","done":false,"sessionId":"De81V_JWdbu5Jh0iAAAY","tokenCount":13}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"H","completionText":"console.log(\\"H","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"H","completionText":"console.log(\\"H","done":false,"sessionId":"De81V_JWdbu5Jh0iAAAY","tokenCount":14}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"e","completionText":"console.log(\\"He","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"e","completionText":"console.log(\\"He","done":false,"sessionId":"De81V_JWdbu5Jh0iAAAY","tokenCount":15}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hel","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hel","done":false,"sessionId":"De81V_JWdbu5Jh0iAAAY","tokenCount":16}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hell","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hell","done":false,"sessionId":"De81V_JWdbu5Jh0iAAAY","tokenCount":17}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.log(\\"Hello","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.log(\\"Hello","done":false,"sessionId":"De81V_JWdbu5Jh0iAAAY","tokenCount":18}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":",","completionText":"console.log(\\"Hello,","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":",","completionText":"console.log(\\"Hello,","done":false,"sessionId":"De81V_JWdbu5Jh0iAAAY","tokenCount":19}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" ","completionText":"console.log(\\"Hello, ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" ","completionText":"console.log(\\"Hello, ","done":false,"sessionId":"De81V_JWdbu5Jh0iAAAY","tokenCount":20}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"W","completionText":"console.log(\\"Hello, W","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"W","completionText":"console.log(\\"Hello, W","done":false,"sessionId":"De81V_JWdbu5Jh0iAAAY","tokenCount":21}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.log(\\"Hello, Wo","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.log(\\"Hello, Wo","done":false,"sessionId":"De81V_JWdbu5Jh0iAAAY","tokenCount":22}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"r","completionText":"console.log(\\"Hello, Wor","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"r","completionText":"console.log(\\"Hello, Wor","done":false,"sessionId":"De81V_JWdbu5Jh0iAAAY","tokenCount":23}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hello, Worl","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hello, Worl","done":false,"sessionId":"De81V_JWdbu5Jh0iAAAY","tokenCount":24}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"d","completionText":"console.log(\\"Hello, World","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"d","completionText":"console.log(\\"Hello, World","done":false,"sessionId":"De81V_JWdbu5Jh0iAAAY","tokenCount":25}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"!","completionText":"console.log(\\"Hello, World!","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"!","completionText":"console.log(\\"Hello, World!","done":false,"sessionId":"De81V_JWdbu5Jh0iAAAY","tokenCount":26}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\"","completionText":"console.log(\\"Hello, World!\\"","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\"","completionText":"console.log(\\"Hello, World!\\"","done":false,"sessionId":"De81V_JWdbu5Jh0iAAAY","tokenCount":27}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":")","completionText":"console.log(\\"Hello, World!\\")","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: 'Completion cancelled for socket De81V_JWdbu5Jh0iAAAY',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: 'Completion finished for adnan99@gmail.com: 27 tokens, 27 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket IdNJ7Zw_mEQPkqGjAAAa',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: IdNJ7Zw_mEQPkqGjAAAa)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 319,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: '📝 Enhanced prompt for completion (984 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  service: 'collabcode-backend',
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [
        {
          quotaMetric: 'generativelanguage.googleapis.com/generate_content_free_tier_requests',
          quotaId: 'GenerateRequestsPerDayPerProjectPerModel-FreeTier',
          quotaDimensions: { model: 'gemini-1.5-flash', location: 'global' },
          quotaValue: '50'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.Help',
      links: [
        {
          description: 'Learn more about Gemini API quotas',
          url: 'https://ai.google.dev/gemini-api/docs/rate-limits'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '32s'
    }
  ],
  level: 'error',
  message: 'Error generating streaming completion: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"model":"gemini-1.5-flash","location":"global"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"32s"}]',
  stack: 'Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"model":"gemini-1.5-flash","location":"global"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"32s"}]\n' +
    '    at handleResponseNotOk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async makeRequest (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n' +
    '    at async generateContentStream (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:862:22)\n' +
    '    at async StreamingCompletionService.generateCompletion (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\streamingCompletionService.js:48:22)\n' +
    '    at async Socket.<anonymous> (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\socket\\completionSocketHandler.js:100:26)',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: '🔁 Falling back to mock completion due to error',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"c","completionText":"c","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"c","completionText":"c","done":false,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"co","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"co","done":false,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"n","completionText":"con","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"n","completionText":"con","done":false,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"s","completionText":"cons","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"s","completionText":"cons","done":false,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"conso","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"conso","done":false,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":5}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"consol","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"consol","done":false,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":6}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"e","completionText":"console","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"e","completionText":"console","done":false,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":7}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".","completionText":"console.","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".","completionText":"console.","done":false,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":8}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.l","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.l","done":false,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":9}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.lo","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.lo","done":false,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":10}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"g","completionText":"console.log","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"g","completionText":"console.log","done":false,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":11}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"(","completionText":"console.log(","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"(","completionText":"console.log(","done":false,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":12}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\"","completionText":"console.log(\\"","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\"","completionText":"console.log(\\"","done":false,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":13}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"H","completionText":"console.log(\\"H","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"H","completionText":"console.log(\\"H","done":false,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":14}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"e","completionText":"console.log(\\"He","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"e","completionText":"console.log(\\"He","done":false,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":15}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hel","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hel","done":false,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":16}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hell","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hell","done":false,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":17}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.log(\\"Hello","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.log(\\"Hello","done":false,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":18}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":",","completionText":"console.log(\\"Hello,","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":",","completionText":"console.log(\\"Hello,","done":false,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":19}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" ","completionText":"console.log(\\"Hello, ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" ","completionText":"console.log(\\"Hello, ","done":false,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":20}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"W","completionText":"console.log(\\"Hello, W","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"W","completionText":"console.log(\\"Hello, W","done":false,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":21}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:28'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.log(\\"Hello, Wo","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:29'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.log(\\"Hello, Wo","done":false,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":22}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:29'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"r","completionText":"console.log(\\"Hello, Wor","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:29'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"r","completionText":"console.log(\\"Hello, Wor","done":false,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":23}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:29'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hello, Worl","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:29'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hello, Worl","done":false,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":24}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:29'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"d","completionText":"console.log(\\"Hello, World","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:29'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"d","completionText":"console.log(\\"Hello, World","done":false,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":25}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:29'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"!","completionText":"console.log(\\"Hello, World!","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:29'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"!","completionText":"console.log(\\"Hello, World!","done":false,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":26}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:29'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\"","completionText":"console.log(\\"Hello, World!\\"","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:29'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\"","completionText":"console.log(\\"Hello, World!\\"","done":false,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":27}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:29'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":")","completionText":"console.log(\\"Hello, World!\\")","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:29'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":")","completionText":"console.log(\\"Hello, World!\\")","done":false,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":28}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:29'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":";","completionText":"console.log(\\"Hello, World!\\");","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:29'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":";","completionText":"console.log(\\"Hello, World!\\");","done":false,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":29}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:29'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"console.log(\\"Hello, World!\\");","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:29'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"console.log(\\"Hello, World!\\");","done":true,"sessionId":"IdNJ7Zw_mEQPkqGjAAAa","tokenCount":30}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:29'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:29'
}
{
  message: 'Completion finished for adnan99@gmail.com: 30 tokens, 29 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:29'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:29'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:33'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:33'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:33'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:33'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:33'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:33'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket vRcmmg6uoITCUChHAAAc',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:34'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: vRcmmg6uoITCUChHAAAc)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:34'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 245,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 17:05:34'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:34'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:34'
}
{
  message: '📝 Enhanced prompt for completion (910 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:34'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:34'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:34'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:34'
}
{
  service: 'collabcode-backend',
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [
        {
          quotaMetric: 'generativelanguage.googleapis.com/generate_content_free_tier_requests',
          quotaId: 'GenerateRequestsPerDayPerProjectPerModel-FreeTier',
          quotaDimensions: { location: 'global', model: 'gemini-1.5-flash' },
          quotaValue: '50'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.Help',
      links: [
        {
          description: 'Learn more about Gemini API quotas',
          url: 'https://ai.google.dev/gemini-api/docs/rate-limits'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '25s'
    }
  ],
  level: 'error',
  message: 'Error generating streaming completion: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"25s"}]',
  stack: 'Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"25s"}]\n' +
    '    at handleResponseNotOk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async makeRequest (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n' +
    '    at async generateContentStream (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:862:22)\n' +
    '    at async StreamingCompletionService.generateCompletion (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\streamingCompletionService.js:48:22)\n' +
    '    at async Socket.<anonymous> (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\socket\\completionSocketHandler.js:100:26)',
  timestamp: '2025-09-02 17:05:34'
}
{
  message: '🔁 Falling back to mock completion due to error',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:34'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"c","completionText":"c","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:34'
}
{
  message: 'Completion cancelled for socket vRcmmg6uoITCUChHAAAc',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:34'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:34'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:35'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:35'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:35'
}
{
  message: '📝 Enhanced prompt for completion (958 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:35'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:35'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:35'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:35'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:35'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:35'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:35'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:35'
}
{
  service: 'collabcode-backend',
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [
        {
          quotaMetric: 'generativelanguage.googleapis.com/generate_content_free_tier_requests',
          quotaId: 'GenerateRequestsPerDayPerProjectPerModel-FreeTier',
          quotaDimensions: { location: 'global', model: 'gemini-1.5-flash' },
          quotaValue: '50'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.Help',
      links: [
        {
          description: 'Learn more about Gemini API quotas',
          url: 'https://ai.google.dev/gemini-api/docs/rate-limits'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '24s'
    }
  ],
  level: 'error',
  message: 'Error generating streaming completion: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"24s"}]',
  stack: 'Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"24s"}]\n' +
    '    at handleResponseNotOk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async makeRequest (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n' +
    '    at async generateContentStream (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:862:22)\n' +
    '    at async StreamingCompletionService.generateCompletion (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\streamingCompletionService.js:48:22)\n' +
    '    at async C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\routes\\completions.js:106:26',
  timestamp: '2025-09-02 17:05:35'
}
{
  message: '🔁 Falling back to mock completion due to error',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:35'
}
{
  message: 'Client disconnected during completion generation for user 6894f6135cbf1256c0f77008',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:35'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:35'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket bZpZE0Aw4MO5z8YAAAAe',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:37'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: bZpZE0Aw4MO5z8YAAAAe)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:37'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 249,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 17:05:37'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:37'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:37'
}
{
  message: '📝 Enhanced prompt for completion (914 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:37'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:37'
}
{
  service: 'collabcode-backend',
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [
        {
          quotaMetric: 'generativelanguage.googleapis.com/generate_content_free_tier_requests',
          quotaId: 'GenerateRequestsPerDayPerProjectPerModel-FreeTier',
          quotaDimensions: { location: 'global', model: 'gemini-1.5-flash' },
          quotaValue: '50'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.Help',
      links: [
        {
          description: 'Learn more about Gemini API quotas',
          url: 'https://ai.google.dev/gemini-api/docs/rate-limits'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '22s'
    }
  ],
  level: 'error',
  message: 'Error generating streaming completion: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"22s"}]',
  stack: 'Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"22s"}]\n' +
    '    at handleResponseNotOk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async makeRequest (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n' +
    '    at async generateContentStream (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:862:22)\n' +
    '    at async StreamingCompletionService.generateCompletion (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\streamingCompletionService.js:48:22)\n' +
    '    at async Socket.<anonymous> (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\socket\\completionSocketHandler.js:100:26)',
  timestamp: '2025-09-02 17:05:37'
}
{
  message: '🔁 Falling back to mock completion due to error',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:37'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"c","completionText":"c","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:37'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"c","completionText":"c","done":false,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:37'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"co","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:37'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"co","done":false,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:37'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"n","completionText":"con","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"n","completionText":"con","done":false,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"s","completionText":"cons","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"s","completionText":"cons","done":false,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"conso","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"conso","done":false,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":5}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"consol","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"consol","done":false,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":6}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"e","completionText":"console","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"e","completionText":"console","done":false,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":7}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".","completionText":"console.","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".","completionText":"console.","done":false,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":8}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.l","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.l","done":false,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":9}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.lo","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.lo","done":false,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":10}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"g","completionText":"console.log","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"g","completionText":"console.log","done":false,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":11}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"(","completionText":"console.log(","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"(","completionText":"console.log(","done":false,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":12}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\"","completionText":"console.log(\\"","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\"","completionText":"console.log(\\"","done":false,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":13}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"H","completionText":"console.log(\\"H","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"H","completionText":"console.log(\\"H","done":false,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":14}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"e","completionText":"console.log(\\"He","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"e","completionText":"console.log(\\"He","done":false,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":15}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hel","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hel","done":false,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":16}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hell","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hell","done":false,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":17}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.log(\\"Hello","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.log(\\"Hello","done":false,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":18}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:38'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":",","completionText":"console.log(\\"Hello,","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:39'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":",","completionText":"console.log(\\"Hello,","done":false,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":19}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:39'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" ","completionText":"console.log(\\"Hello, ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:39'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" ","completionText":"console.log(\\"Hello, ","done":false,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":20}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:39'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"W","completionText":"console.log(\\"Hello, W","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:39'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"W","completionText":"console.log(\\"Hello, W","done":false,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":21}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:39'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.log(\\"Hello, Wo","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:39'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.log(\\"Hello, Wo","done":false,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":22}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:39'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"r","completionText":"console.log(\\"Hello, Wor","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:39'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"r","completionText":"console.log(\\"Hello, Wor","done":false,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":23}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:39'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hello, Worl","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:39'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hello, Worl","done":false,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":24}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:39'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"d","completionText":"console.log(\\"Hello, World","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:39'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"d","completionText":"console.log(\\"Hello, World","done":false,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":25}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:39'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"!","completionText":"console.log(\\"Hello, World!","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:39'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"!","completionText":"console.log(\\"Hello, World!","done":false,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":26}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:39'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\"","completionText":"console.log(\\"Hello, World!\\"","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:39'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\"","completionText":"console.log(\\"Hello, World!\\"","done":false,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":27}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:39'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":")","completionText":"console.log(\\"Hello, World!\\")","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:39'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":")","completionText":"console.log(\\"Hello, World!\\")","done":false,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":28}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:39'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":";","completionText":"console.log(\\"Hello, World!\\");","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:39'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":";","completionText":"console.log(\\"Hello, World!\\");","done":false,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":29}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:39'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"console.log(\\"Hello, World!\\");","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:39'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"console.log(\\"Hello, World!\\");","done":true,"sessionId":"bZpZE0Aw4MO5z8YAAAAe","tokenCount":30}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:39'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:39'
}
{
  message: 'Completion finished for adnan99@gmail.com: 30 tokens, 29 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:39'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:39'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket VTXZKdVm2FMdBplOAAAg',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:41'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: VTXZKdVm2FMdBplOAAAg)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:41'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 278,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 17:05:41'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:41'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:41'
}
{
  message: '📝 Enhanced prompt for completion (943 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:41'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:41'
}
{
  service: 'collabcode-backend',
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [
        {
          quotaMetric: 'generativelanguage.googleapis.com/generate_content_free_tier_requests',
          quotaId: 'GenerateRequestsPerDayPerProjectPerModel-FreeTier',
          quotaDimensions: { model: 'gemini-1.5-flash', location: 'global' },
          quotaValue: '50'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.Help',
      links: [
        {
          description: 'Learn more about Gemini API quotas',
          url: 'https://ai.google.dev/gemini-api/docs/rate-limits'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '18s'
    }
  ],
  level: 'error',
  message: 'Error generating streaming completion: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"model":"gemini-1.5-flash","location":"global"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"18s"}]',
  stack: 'Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"model":"gemini-1.5-flash","location":"global"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"18s"}]\n' +
    '    at handleResponseNotOk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async makeRequest (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n' +
    '    at async generateContentStream (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:862:22)\n' +
    '    at async StreamingCompletionService.generateCompletion (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\streamingCompletionService.js:48:22)\n' +
    '    at async Socket.<anonymous> (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\socket\\completionSocketHandler.js:100:26)',
  timestamp: '2025-09-02 17:05:41'
}
{
  message: '🔁 Falling back to mock completion due to error',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:41'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"c","completionText":"c","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:41'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"c","completionText":"c","done":false,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:41'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"co","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:41'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"co","done":false,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:41'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"n","completionText":"con","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:41'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"n","completionText":"con","done":false,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:41'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"s","completionText":"cons","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:41'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"s","completionText":"cons","done":false,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:41'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"conso","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"conso","done":false,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":5}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"consol","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"consol","done":false,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":6}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"e","completionText":"console","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"e","completionText":"console","done":false,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":7}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".","completionText":"console.","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".","completionText":"console.","done":false,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":8}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.l","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.l","done":false,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":9}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.lo","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.lo","done":false,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":10}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"g","completionText":"console.log","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"g","completionText":"console.log","done":false,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":11}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"(","completionText":"console.log(","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"(","completionText":"console.log(","done":false,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":12}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\"","completionText":"console.log(\\"","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\"","completionText":"console.log(\\"","done":false,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":13}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"H","completionText":"console.log(\\"H","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"H","completionText":"console.log(\\"H","done":false,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":14}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"e","completionText":"console.log(\\"He","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"e","completionText":"console.log(\\"He","done":false,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":15}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hel","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hel","done":false,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":16}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hell","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hell","done":false,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":17}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.log(\\"Hello","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.log(\\"Hello","done":false,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":18}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":",","completionText":"console.log(\\"Hello,","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":",","completionText":"console.log(\\"Hello,","done":false,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":19}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" ","completionText":"console.log(\\"Hello, ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" ","completionText":"console.log(\\"Hello, ","done":false,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":20}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:42'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"W","completionText":"console.log(\\"Hello, W","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:43'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"W","completionText":"console.log(\\"Hello, W","done":false,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":21}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:43'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.log(\\"Hello, Wo","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:43'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.log(\\"Hello, Wo","done":false,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":22}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:43'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"r","completionText":"console.log(\\"Hello, Wor","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:43'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"r","completionText":"console.log(\\"Hello, Wor","done":false,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":23}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:43'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hello, Worl","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:43'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hello, Worl","done":false,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":24}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:43'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"d","completionText":"console.log(\\"Hello, World","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:43'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"d","completionText":"console.log(\\"Hello, World","done":false,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":25}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:43'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"!","completionText":"console.log(\\"Hello, World!","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:43'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"!","completionText":"console.log(\\"Hello, World!","done":false,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":26}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:43'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\"","completionText":"console.log(\\"Hello, World!\\"","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:43'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\"","completionText":"console.log(\\"Hello, World!\\"","done":false,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":27}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:43'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":")","completionText":"console.log(\\"Hello, World!\\")","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:43'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":")","completionText":"console.log(\\"Hello, World!\\")","done":false,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":28}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:43'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":";","completionText":"console.log(\\"Hello, World!\\");","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:43'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":";","completionText":"console.log(\\"Hello, World!\\");","done":false,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":29}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:43'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"console.log(\\"Hello, World!\\");","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:43'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"console.log(\\"Hello, World!\\");","done":true,"sessionId":"VTXZKdVm2FMdBplOAAAg","tokenCount":30}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:43'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:43'
}
{
  message: 'Completion finished for adnan99@gmail.com: 30 tokens, 29 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:43'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:43'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:44'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:44'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:44'
}
{
  message: '📝 Enhanced prompt for completion (910 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:44'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:44'
}
{
  service: 'collabcode-backend',
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [
        {
          quotaMetric: 'generativelanguage.googleapis.com/generate_content_free_tier_requests',
          quotaId: 'GenerateRequestsPerDayPerProjectPerModel-FreeTier',
          quotaDimensions: { location: 'global', model: 'gemini-1.5-flash' },
          quotaValue: '50'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.Help',
      links: [
        {
          description: 'Learn more about Gemini API quotas',
          url: 'https://ai.google.dev/gemini-api/docs/rate-limits'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '15s'
    }
  ],
  level: 'error',
  message: 'Error generating streaming completion: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"15s"}]',
  stack: 'Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"15s"}]\n' +
    '    at handleResponseNotOk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async makeRequest (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n' +
    '    at async generateContentStream (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:862:22)\n' +
    '    at async StreamingCompletionService.generateCompletion (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\streamingCompletionService.js:48:22)\n' +
    '    at async C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\routes\\completions.js:106:26',
  timestamp: '2025-09-02 17:05:44'
}
{
  message: '🔁 Falling back to mock completion due to error',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:44'
}
{
  message: 'Client disconnected during completion generation for user 6894f6135cbf1256c0f77008',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:44'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:44'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:44'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:44'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:44'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:44'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:44'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:05:44'
}
{
  message: '🔌 WebSocket Disconnection: User ahsan@gmail.com (Socket ID: 5hzx29PVE_zc4TpLAAAD) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:14:12'
}
{
  message: '👤 User ahsan@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:14:12'
}
{
  message: '📊 Remaining active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:14:12'
}
{
  message: '🚪 User ahsan@gmail.com left project room 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:19'
}
{
  message: '👥 Remaining users in project 68b6902393632ca58611dd55: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:19'
}
{
  message: '✅ Disconnect Cleanup Complete: User ahsan@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:19'
}
{
  message: '📊 Total active project rooms: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:19'
}
{
  message: '🧹 Cleanup: Stopped container session for socket 5hzx29PVE_zc4TpLAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:19'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: Q55YLMw5VeoShFUQAAAF) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:21'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:22'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:22'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:22'
}
{
  message: '👥 Remaining users in project 68b6902393632ca58611dd55: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:22'
}
{
  message: '🗑️ Empty project room 68b6902393632ca58611dd55 cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:22'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:22'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:22'
}
{
  message: '🧹 Cleanup: Stopped container session for socket Q55YLMw5VeoShFUQAAAF',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:22'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID -kYUNlYlITnlT8CBAAAi from IP ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:23'
}
{
  message: '✅ WebSocket Auth Success: User ahsan@gmail.com (Ahsan Haroon) authenticated for socket -kYUNlYlITnlT8CBAAAi',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:23'
}
{
  message: '🔌 WebSocket Connection Established: ahsan@gmail.com (Socket ID: -kYUNlYlITnlT8CBAAAi)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:23'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:23'
}
{
  message: '👤 User Ahsan Haroon (ahsan@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:23'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:31',
  level: 'info',
  message: '🏓 Ping received from ahsan@gmail.com:'
}
{
  message: 'User ahsan@gmail.com left project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:32'
}
{
  service: 'collabcode-backend',
  projectId: '68b6902393632ca58611dd55',
  level: 'info',
  message: '🚪 Join Project Request: User ahsan@gmail.com attempting to join project',
  timestamp: '2025-09-02 17:36:32'
}
{
  message: '🏠 Room Joined: User ahsan@gmail.com joined room project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:32'
}
{
  message: '🆕 New Project Room Created: project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:32'
}
{
  message: '👥 Project Room Status: 1 users in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:32'
}
{
  message: '👥 Users in room: Ahsan Haroon',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:32'
}
{
  message: '📢 Broadcasting user-joined event for ahsan@gmail.com to project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:32'
}
{
  message: '📤 Sent project-joined confirmation to ahsan@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:32'
}
{
  message: '✅ Join Project Success: User ahsan@gmail.com successfully joined project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:32'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID i6V0eT5ANnMHGS-gAAAk from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:34'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket i6V0eT5ANnMHGS-gAAAk',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:34'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: i6V0eT5ANnMHGS-gAAAk)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:34'
}
{
  message: '📊 Total active connections: 2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:34'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:34'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:34',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:34'
}
{
  service: 'collabcode-backend',
  projectId: '68b6902393632ca58611dd55',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-02 17:36:34'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:34'
}
{
  message: '👥 Project Room Status: 2 users in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:34'
}
{
  message: '👥 Users in room: Ahsan Haroon, Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:34'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:34'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:34'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:36:34'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:11'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:11'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:11'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:11'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:11'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:11'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket LphnR0QnGs3by2ykAAAm',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:12'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: LphnR0QnGs3by2ykAAAm)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:12'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 249,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 17:44:12'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:12'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:12'
}
{
  message: '📝 Enhanced prompt for completion (914 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:12'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:12'
}
{
  service: 'collabcode-backend',
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [
        {
          quotaMetric: 'generativelanguage.googleapis.com/generate_content_free_tier_requests',
          quotaId: 'GenerateRequestsPerDayPerProjectPerModel-FreeTier',
          quotaDimensions: { location: 'global', model: 'gemini-1.5-flash' },
          quotaValue: '50'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.Help',
      links: [
        {
          description: 'Learn more about Gemini API quotas',
          url: 'https://ai.google.dev/gemini-api/docs/rate-limits'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '46s'
    }
  ],
  level: 'error',
  message: 'Error generating streaming completion: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"46s"}]',
  stack: 'Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"46s"}]\n' +
    '    at handleResponseNotOk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async makeRequest (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n' +
    '    at async generateContentStream (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:862:22)\n' +
    '    at async StreamingCompletionService.generateCompletion (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\streamingCompletionService.js:48:22)\n' +
    '    at async Socket.<anonymous> (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\socket\\completionSocketHandler.js:100:26)',
  timestamp: '2025-09-02 17:44:13'
}
{
  message: '🔁 Falling back to mock completion due to error',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:13'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"c","completionText":"c","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:13'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"c","completionText":"c","done":false,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:13'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"co","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:13'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"co","done":false,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:13'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"n","completionText":"con","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:13'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"n","completionText":"con","done":false,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:13'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"s","completionText":"cons","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:13'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"s","completionText":"cons","done":false,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:13'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"conso","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:13'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"conso","done":false,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":5}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:13'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"consol","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:13'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"consol","done":false,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":6}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:13'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"e","completionText":"console","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:13'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"e","completionText":"console","done":false,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":7}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:13'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".","completionText":"console.","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:13'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".","completionText":"console.","done":false,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":8}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:13'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.l","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:13'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.l","done":false,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":9}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:13'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.lo","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:13'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.lo","done":false,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":10}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:13'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"g","completionText":"console.log","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:13'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"g","completionText":"console.log","done":false,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":11}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:13'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"(","completionText":"console.log(","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:13'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"(","completionText":"console.log(","done":false,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":12}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:13'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\"","completionText":"console.log(\\"","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:13'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\"","completionText":"console.log(\\"","done":false,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":13}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:13'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"H","completionText":"console.log(\\"H","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"H","completionText":"console.log(\\"H","done":false,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":14}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"e","completionText":"console.log(\\"He","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"e","completionText":"console.log(\\"He","done":false,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":15}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hel","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hel","done":false,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":16}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hell","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hell","done":false,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":17}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.log(\\"Hello","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.log(\\"Hello","done":false,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":18}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":",","completionText":"console.log(\\"Hello,","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":",","completionText":"console.log(\\"Hello,","done":false,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":19}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" ","completionText":"console.log(\\"Hello, ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" ","completionText":"console.log(\\"Hello, ","done":false,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":20}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"W","completionText":"console.log(\\"Hello, W","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"W","completionText":"console.log(\\"Hello, W","done":false,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":21}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.log(\\"Hello, Wo","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.log(\\"Hello, Wo","done":false,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":22}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"r","completionText":"console.log(\\"Hello, Wor","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"r","completionText":"console.log(\\"Hello, Wor","done":false,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":23}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hello, Worl","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hello, Worl","done":false,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":24}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"d","completionText":"console.log(\\"Hello, World","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"d","completionText":"console.log(\\"Hello, World","done":false,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":25}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"!","completionText":"console.log(\\"Hello, World!","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"!","completionText":"console.log(\\"Hello, World!","done":false,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":26}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\"","completionText":"console.log(\\"Hello, World!\\"","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\"","completionText":"console.log(\\"Hello, World!\\"","done":false,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":27}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":")","completionText":"console.log(\\"Hello, World!\\")","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":")","completionText":"console.log(\\"Hello, World!\\")","done":false,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":28}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":";","completionText":"console.log(\\"Hello, World!\\");","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":";","completionText":"console.log(\\"Hello, World!\\");","done":false,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":29}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:14'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"console.log(\\"Hello, World!\\");","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:15'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"console.log(\\"Hello, World!\\");","done":true,"sessionId":"LphnR0QnGs3by2ykAAAm","tokenCount":30}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:15'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:15'
}
{
  message: 'Completion finished for adnan99@gmail.com: 30 tokens, 29 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:15'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:15'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket GbvB4UsYYpov6dn9AAAo',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:15'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: GbvB4UsYYpov6dn9AAAo)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:15'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 278,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 17:44:15'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:15'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:15'
}
{
  message: '📝 Enhanced prompt for completion (943 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:15'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:15'
}
{
  service: 'collabcode-backend',
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [
        {
          quotaMetric: 'generativelanguage.googleapis.com/generate_content_free_tier_requests',
          quotaId: 'GenerateRequestsPerDayPerProjectPerModel-FreeTier',
          quotaDimensions: { location: 'global', model: 'gemini-1.5-flash' },
          quotaValue: '50'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.Help',
      links: [
        {
          description: 'Learn more about Gemini API quotas',
          url: 'https://ai.google.dev/gemini-api/docs/rate-limits'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '44s'
    }
  ],
  level: 'error',
  message: 'Error generating streaming completion: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"44s"}]',
  stack: 'Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"44s"}]\n' +
    '    at handleResponseNotOk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async makeRequest (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n' +
    '    at async generateContentStream (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:862:22)\n' +
    '    at async StreamingCompletionService.generateCompletion (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\streamingCompletionService.js:48:22)\n' +
    '    at async Socket.<anonymous> (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\socket\\completionSocketHandler.js:100:26)',
  timestamp: '2025-09-02 17:44:15'
}
{
  message: '🔁 Falling back to mock completion due to error',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:15'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"c","completionText":"c","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:15'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"c","completionText":"c","done":false,"sessionId":"GbvB4UsYYpov6dn9AAAo","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:15'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"co","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:15'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"co","done":false,"sessionId":"GbvB4UsYYpov6dn9AAAo","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:15'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"n","completionText":"con","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:15'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"n","completionText":"con","done":false,"sessionId":"GbvB4UsYYpov6dn9AAAo","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:15'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"s","completionText":"cons","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"s","completionText":"cons","done":false,"sessionId":"GbvB4UsYYpov6dn9AAAo","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"conso","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"conso","done":false,"sessionId":"GbvB4UsYYpov6dn9AAAo","tokenCount":5}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"consol","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"consol","done":false,"sessionId":"GbvB4UsYYpov6dn9AAAo","tokenCount":6}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"e","completionText":"console","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"e","completionText":"console","done":false,"sessionId":"GbvB4UsYYpov6dn9AAAo","tokenCount":7}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".","completionText":"console.","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".","completionText":"console.","done":false,"sessionId":"GbvB4UsYYpov6dn9AAAo","tokenCount":8}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.l","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.l","done":false,"sessionId":"GbvB4UsYYpov6dn9AAAo","tokenCount":9}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.lo","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.lo","done":false,"sessionId":"GbvB4UsYYpov6dn9AAAo","tokenCount":10}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"g","completionText":"console.log","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"g","completionText":"console.log","done":false,"sessionId":"GbvB4UsYYpov6dn9AAAo","tokenCount":11}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"(","completionText":"console.log(","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"(","completionText":"console.log(","done":false,"sessionId":"GbvB4UsYYpov6dn9AAAo","tokenCount":12}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\"","completionText":"console.log(\\"","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\"","completionText":"console.log(\\"","done":false,"sessionId":"GbvB4UsYYpov6dn9AAAo","tokenCount":13}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"H","completionText":"console.log(\\"H","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"H","completionText":"console.log(\\"H","done":false,"sessionId":"GbvB4UsYYpov6dn9AAAo","tokenCount":14}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"e","completionText":"console.log(\\"He","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"e","completionText":"console.log(\\"He","done":false,"sessionId":"GbvB4UsYYpov6dn9AAAo","tokenCount":15}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hel","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hel","done":false,"sessionId":"GbvB4UsYYpov6dn9AAAo","tokenCount":16}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hell","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hell","done":false,"sessionId":"GbvB4UsYYpov6dn9AAAo","tokenCount":17}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.log(\\"Hello","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.log(\\"Hello","done":false,"sessionId":"GbvB4UsYYpov6dn9AAAo","tokenCount":18}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":",","completionText":"console.log(\\"Hello,","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":",","completionText":"console.log(\\"Hello,","done":false,"sessionId":"GbvB4UsYYpov6dn9AAAo","tokenCount":19}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" ","completionText":"console.log(\\"Hello, ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" ","completionText":"console.log(\\"Hello, ","done":false,"sessionId":"GbvB4UsYYpov6dn9AAAo","tokenCount":20}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:16'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:17'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:17'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"W","completionText":"console.log(\\"Hello, W","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:17'
}
{
  message: 'Completion cancelled for socket GbvB4UsYYpov6dn9AAAo',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:17'
}
{
  message: 'Completion finished for adnan99@gmail.com: 20 tokens, 20 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:17'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:18'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:18'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:18'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:18'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:18'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:18'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:25'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:25'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:25'
}
{
  message: '📝 Enhanced prompt for completion (943 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:25'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:25'
}
{
  service: 'collabcode-backend',
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [
        {
          quotaMetric: 'generativelanguage.googleapis.com/generate_content_free_tier_requests',
          quotaId: 'GenerateRequestsPerDayPerProjectPerModel-FreeTier',
          quotaDimensions: { location: 'global', model: 'gemini-1.5-flash' },
          quotaValue: '50'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.Help',
      links: [
        {
          description: 'Learn more about Gemini API quotas',
          url: 'https://ai.google.dev/gemini-api/docs/rate-limits'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '33s'
    }
  ],
  level: 'error',
  message: 'Error generating streaming completion: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"33s"}]',
  stack: 'Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"33s"}]\n' +
    '    at handleResponseNotOk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async makeRequest (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n' +
    '    at async generateContentStream (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:862:22)\n' +
    '    at async StreamingCompletionService.generateCompletion (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\streamingCompletionService.js:48:22)\n' +
    '    at async C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\routes\\completions.js:106:26',
  timestamp: '2025-09-02 17:44:26'
}
{
  message: '🔁 Falling back to mock completion due to error',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:26'
}
{
  message: 'Client disconnected during completion generation for user 6894f6135cbf1256c0f77008',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:26'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:44:26'
}
{
  message: 'Completion WebSocket: User ahsan@gmail.com authenticated for socket 32PQ-xQHxnOH4yWaAAAq',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:45:53'
}
{
  message: '🤖 Completion WebSocket connected: ahsan@gmail.com (Socket ID: 32PQ-xQHxnOH4yWaAAAq)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:45:53'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 247,
  filename: '',
  level: 'info',
  message: 'Completion request from ahsan@gmail.com:',
  timestamp: '2025-09-02 17:45:53'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:45:53'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:45:53'
}
{
  message: '📝 Enhanced prompt for completion (912 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:45:53'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:45:53'
}
{
  message: 'Completion cancellation requested by ahsan@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:45:53'
}
{
  message: '🤖 Completion WebSocket disconnected: ahsan@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:45:53'
}
{
  service: 'collabcode-backend',
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [
        {
          quotaMetric: 'generativelanguage.googleapis.com/generate_content_free_tier_requests',
          quotaId: 'GenerateRequestsPerDayPerProjectPerModel-FreeTier',
          quotaDimensions: { location: 'global', model: 'gemini-1.5-flash' },
          quotaValue: '50'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.Help',
      links: [
        {
          description: 'Learn more about Gemini API quotas',
          url: 'https://ai.google.dev/gemini-api/docs/rate-limits'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '5s'
    }
  ],
  level: 'error',
  message: 'Error generating streaming completion: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"5s"}]',
  stack: 'Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"5s"}]\n' +
    '    at handleResponseNotOk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async makeRequest (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n' +
    '    at async generateContentStream (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:862:22)\n' +
    '    at async StreamingCompletionService.generateCompletion (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\streamingCompletionService.js:48:22)\n' +
    '    at async Socket.<anonymous> (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\socket\\completionSocketHandler.js:100:26)',
  timestamp: '2025-09-02 17:45:54'
}
{
  message: '🔁 Falling back to mock completion due to error',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:45:54'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"c","completionText":"c","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:45:54'
}
{
  message: 'Completion cancelled for socket 32PQ-xQHxnOH4yWaAAAq',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:45:54'
}
{
  message: 'Completion finished for ahsan@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:45:54'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:45:54'
}
{
  message: 'File updated: index.js by ahsan@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:45:54'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:45:54'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:45:54'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:45:54'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:45:54'
}
{
  message: 'POST /api/completions/generate - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:03'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:03'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:03'
}
{
  message: '📝 Enhanced prompt for completion (912 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:03'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:03'
}
{
  service: 'collabcode-backend',
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [
        {
          quotaMetric: 'generativelanguage.googleapis.com/generate_content_free_tier_requests',
          quotaId: 'GenerateRequestsPerDayPerProjectPerModel-FreeTier',
          quotaDimensions: { location: 'global', model: 'gemini-1.5-flash' },
          quotaValue: '50'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.Help',
      links: [
        {
          description: 'Learn more about Gemini API quotas',
          url: 'https://ai.google.dev/gemini-api/docs/rate-limits'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '55s'
    }
  ],
  level: 'error',
  message: 'Error generating streaming completion: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"55s"}]',
  stack: 'Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"55s"}]\n' +
    '    at handleResponseNotOk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async makeRequest (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n' +
    '    at async generateContentStream (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:862:22)\n' +
    '    at async StreamingCompletionService.generateCompletion (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\streamingCompletionService.js:48:22)\n' +
    '    at async C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\routes\\completions.js:106:26',
  timestamp: '2025-09-02 17:46:04'
}
{
  message: '🔁 Falling back to mock completion due to error',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:04'
}
{
  message: 'Client disconnected during completion generation for user 6895a77330ace6744067654e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:04'
}
{
  message: 'Completion generated successfully for user 6895a77330ace6744067654e, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:04'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket AnWIZiJ7PhgqPTHcAAAs',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:14'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: AnWIZiJ7PhgqPTHcAAAs)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:14'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 251,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 17:46:14'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:14'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:14'
}
{
  message: '📝 Enhanced prompt for completion (916 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:14'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:14'
}
{
  service: 'collabcode-backend',
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [
        {
          quotaMetric: 'generativelanguage.googleapis.com/generate_content_free_tier_requests',
          quotaId: 'GenerateRequestsPerDayPerProjectPerModel-FreeTier',
          quotaDimensions: { model: 'gemini-1.5-flash', location: 'global' },
          quotaValue: '50'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.Help',
      links: [
        {
          description: 'Learn more about Gemini API quotas',
          url: 'https://ai.google.dev/gemini-api/docs/rate-limits'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '44s'
    }
  ],
  level: 'error',
  message: 'Error generating streaming completion: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"model":"gemini-1.5-flash","location":"global"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"44s"}]',
  stack: 'Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"model":"gemini-1.5-flash","location":"global"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"44s"}]\n' +
    '    at handleResponseNotOk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async makeRequest (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n' +
    '    at async generateContentStream (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:862:22)\n' +
    '    at async StreamingCompletionService.generateCompletion (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\streamingCompletionService.js:48:22)\n' +
    '    at async Socket.<anonymous> (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\socket\\completionSocketHandler.js:100:26)',
  timestamp: '2025-09-02 17:46:15'
}
{
  message: '🔁 Falling back to mock completion due to error',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:15'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"c","completionText":"c","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:15'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"c","completionText":"c","done":false,"sessionId":"AnWIZiJ7PhgqPTHcAAAs","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:15'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"co","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:15'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"co","done":false,"sessionId":"AnWIZiJ7PhgqPTHcAAAs","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:15'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"n","completionText":"con","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:15'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"n","completionText":"con","done":false,"sessionId":"AnWIZiJ7PhgqPTHcAAAs","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:15'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:15'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:15'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"s","completionText":"cons","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:15'
}
{
  message: 'Completion cancelled for socket AnWIZiJ7PhgqPTHcAAAs',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:15'
}
{
  message: 'Completion finished for adnan99@gmail.com: 3 tokens, 3 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:15'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:16'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:16'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:16'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:16'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:16'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:16'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket UR-x3f3J_b0XRCHhAAAu',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:17'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: UR-x3f3J_b0XRCHhAAAu)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:17'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 255,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 17:46:17'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:17'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:17'
}
{
  message: '📝 Enhanced prompt for completion (920 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:17'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:17'
}
{
  service: 'collabcode-backend',
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [
        {
          quotaMetric: 'generativelanguage.googleapis.com/generate_content_free_tier_requests',
          quotaId: 'GenerateRequestsPerDayPerProjectPerModel-FreeTier',
          quotaDimensions: { location: 'global', model: 'gemini-1.5-flash' },
          quotaValue: '50'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.Help',
      links: [
        {
          description: 'Learn more about Gemini API quotas',
          url: 'https://ai.google.dev/gemini-api/docs/rate-limits'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '42s'
    }
  ],
  level: 'error',
  message: 'Error generating streaming completion: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"42s"}]',
  stack: 'Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"42s"}]\n' +
    '    at handleResponseNotOk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async makeRequest (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n' +
    '    at async generateContentStream (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:862:22)\n' +
    '    at async StreamingCompletionService.generateCompletion (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\streamingCompletionService.js:48:22)\n' +
    '    at async Socket.<anonymous> (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\socket\\completionSocketHandler.js:100:26)',
  timestamp: '2025-09-02 17:46:17'
}
{
  message: '🔁 Falling back to mock completion due to error',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:17'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"c","completionText":"c","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:17'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"c","completionText":"c","done":false,"sessionId":"UR-x3f3J_b0XRCHhAAAu","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:17'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"co","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:17'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"co","done":false,"sessionId":"UR-x3f3J_b0XRCHhAAAu","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:17'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"n","completionText":"con","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:17'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"n","completionText":"con","done":false,"sessionId":"UR-x3f3J_b0XRCHhAAAu","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:17'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"s","completionText":"cons","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:17'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"s","completionText":"cons","done":false,"sessionId":"UR-x3f3J_b0XRCHhAAAu","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:17'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"conso","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"conso","done":false,"sessionId":"UR-x3f3J_b0XRCHhAAAu","tokenCount":5}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"consol","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"consol","done":false,"sessionId":"UR-x3f3J_b0XRCHhAAAu","tokenCount":6}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"e","completionText":"console","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"e","completionText":"console","done":false,"sessionId":"UR-x3f3J_b0XRCHhAAAu","tokenCount":7}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".","completionText":"console.","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".","completionText":"console.","done":false,"sessionId":"UR-x3f3J_b0XRCHhAAAu","tokenCount":8}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.l","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.l","done":false,"sessionId":"UR-x3f3J_b0XRCHhAAAu","tokenCount":9}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.lo","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.lo","done":false,"sessionId":"UR-x3f3J_b0XRCHhAAAu","tokenCount":10}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"g","completionText":"console.log","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"g","completionText":"console.log","done":false,"sessionId":"UR-x3f3J_b0XRCHhAAAu","tokenCount":11}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"(","completionText":"console.log(","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"(","completionText":"console.log(","done":false,"sessionId":"UR-x3f3J_b0XRCHhAAAu","tokenCount":12}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\"","completionText":"console.log(\\"","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\"","completionText":"console.log(\\"","done":false,"sessionId":"UR-x3f3J_b0XRCHhAAAu","tokenCount":13}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"H","completionText":"console.log(\\"H","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"H","completionText":"console.log(\\"H","done":false,"sessionId":"UR-x3f3J_b0XRCHhAAAu","tokenCount":14}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"e","completionText":"console.log(\\"He","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"e","completionText":"console.log(\\"He","done":false,"sessionId":"UR-x3f3J_b0XRCHhAAAu","tokenCount":15}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hel","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hel","done":false,"sessionId":"UR-x3f3J_b0XRCHhAAAu","tokenCount":16}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hell","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hell","done":false,"sessionId":"UR-x3f3J_b0XRCHhAAAu","tokenCount":17}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.log(\\"Hello","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.log(\\"Hello","done":false,"sessionId":"UR-x3f3J_b0XRCHhAAAu","tokenCount":18}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":",","completionText":"console.log(\\"Hello,","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":",","completionText":"console.log(\\"Hello,","done":false,"sessionId":"UR-x3f3J_b0XRCHhAAAu","tokenCount":19}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" ","completionText":"console.log(\\"Hello, ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" ","completionText":"console.log(\\"Hello, ","done":false,"sessionId":"UR-x3f3J_b0XRCHhAAAu","tokenCount":20}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"W","completionText":"console.log(\\"Hello, W","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: 'Completion cancelled for socket UR-x3f3J_b0XRCHhAAAu',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: 'Completion finished for adnan99@gmail.com: 20 tokens, 20 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:18'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket ZK1C7ABbeFzvT0SwAAAw',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:19'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: ZK1C7ABbeFzvT0SwAAAw)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:19'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 275,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 17:46:19'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:19'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:19'
}
{
  message: '📝 Enhanced prompt for completion (940 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:19'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:19'
}
{
  service: 'collabcode-backend',
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [
        {
          quotaMetric: 'generativelanguage.googleapis.com/generate_content_free_tier_requests',
          quotaId: 'GenerateRequestsPerDayPerProjectPerModel-FreeTier',
          quotaDimensions: { location: 'global', model: 'gemini-1.5-flash' },
          quotaValue: '50'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.Help',
      links: [
        {
          description: 'Learn more about Gemini API quotas',
          url: 'https://ai.google.dev/gemini-api/docs/rate-limits'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '40s'
    }
  ],
  level: 'error',
  message: 'Error generating streaming completion: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"40s"}]',
  stack: 'Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"40s"}]\n' +
    '    at handleResponseNotOk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async makeRequest (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n' +
    '    at async generateContentStream (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:862:22)\n' +
    '    at async StreamingCompletionService.generateCompletion (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\streamingCompletionService.js:48:22)\n' +
    '    at async Socket.<anonymous> (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\socket\\completionSocketHandler.js:100:26)',
  timestamp: '2025-09-02 17:46:19'
}
{
  message: '🔁 Falling back to mock completion due to error',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:19'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"c","completionText":"c","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:19'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"c","completionText":"c","done":false,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:19'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"co","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:19'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"co","done":false,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:19'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"n","completionText":"con","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:19'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"n","completionText":"con","done":false,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:19'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"s","completionText":"cons","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:19'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"s","completionText":"cons","done":false,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:19'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"conso","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:19'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"conso","done":false,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":5}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:19'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"consol","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:19'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"consol","done":false,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":6}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:19'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"e","completionText":"console","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:19'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"e","completionText":"console","done":false,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":7}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:19'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".","completionText":"console.","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:19'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".","completionText":"console.","done":false,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":8}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:19'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.l","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:19'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.l","done":false,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":9}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:19'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.lo","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:19'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.lo","done":false,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":10}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:19'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"g","completionText":"console.log","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"g","completionText":"console.log","done":false,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":11}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"(","completionText":"console.log(","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"(","completionText":"console.log(","done":false,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":12}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\"","completionText":"console.log(\\"","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\"","completionText":"console.log(\\"","done":false,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":13}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"H","completionText":"console.log(\\"H","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"H","completionText":"console.log(\\"H","done":false,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":14}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"e","completionText":"console.log(\\"He","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"e","completionText":"console.log(\\"He","done":false,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":15}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hel","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hel","done":false,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":16}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hell","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hell","done":false,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":17}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.log(\\"Hello","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.log(\\"Hello","done":false,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":18}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":",","completionText":"console.log(\\"Hello,","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":",","completionText":"console.log(\\"Hello,","done":false,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":19}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" ","completionText":"console.log(\\"Hello, ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" ","completionText":"console.log(\\"Hello, ","done":false,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":20}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"W","completionText":"console.log(\\"Hello, W","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"W","completionText":"console.log(\\"Hello, W","done":false,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":21}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.log(\\"Hello, Wo","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.log(\\"Hello, Wo","done":false,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":22}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"r","completionText":"console.log(\\"Hello, Wor","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"r","completionText":"console.log(\\"Hello, Wor","done":false,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":23}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hello, Worl","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hello, Worl","done":false,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":24}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"d","completionText":"console.log(\\"Hello, World","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"d","completionText":"console.log(\\"Hello, World","done":false,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":25}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"!","completionText":"console.log(\\"Hello, World!","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"!","completionText":"console.log(\\"Hello, World!","done":false,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":26}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\"","completionText":"console.log(\\"Hello, World!\\"","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\"","completionText":"console.log(\\"Hello, World!\\"","done":false,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":27}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:20'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":")","completionText":"console.log(\\"Hello, World!\\")","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:21'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":")","completionText":"console.log(\\"Hello, World!\\")","done":false,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":28}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:21'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":";","completionText":"console.log(\\"Hello, World!\\");","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:21'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":";","completionText":"console.log(\\"Hello, World!\\");","done":false,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":29}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:21'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"console.log(\\"Hello, World!\\");","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:21'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"console.log(\\"Hello, World!\\");","done":true,"sessionId":"ZK1C7ABbeFzvT0SwAAAw","tokenCount":30}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:21'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:21'
}
{
  message: 'Completion finished for adnan99@gmail.com: 30 tokens, 29 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:21'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:21'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:22'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:22'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:22'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:22'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:22'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:22'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:24'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:24'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:24'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:24'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:24'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:24'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:24'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:24'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:24'
}
{
  message: '📝 Enhanced prompt for completion (916 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:24'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:24'
}
{
  service: 'collabcode-backend',
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [
        {
          quotaMetric: 'generativelanguage.googleapis.com/generate_content_free_tier_requests',
          quotaId: 'GenerateRequestsPerDayPerProjectPerModel-FreeTier',
          quotaDimensions: { model: 'gemini-1.5-flash', location: 'global' },
          quotaValue: '50'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.Help',
      links: [
        {
          description: 'Learn more about Gemini API quotas',
          url: 'https://ai.google.dev/gemini-api/docs/rate-limits'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '34s'
    }
  ],
  level: 'error',
  message: 'Error generating streaming completion: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"model":"gemini-1.5-flash","location":"global"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"34s"}]',
  stack: 'Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"model":"gemini-1.5-flash","location":"global"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"34s"}]\n' +
    '    at handleResponseNotOk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async makeRequest (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n' +
    '    at async generateContentStream (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:862:22)\n' +
    '    at async StreamingCompletionService.generateCompletion (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\streamingCompletionService.js:48:22)\n' +
    '    at async C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\routes\\completions.js:106:26',
  timestamp: '2025-09-02 17:46:25'
}
{
  message: '🔁 Falling back to mock completion due to error',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:25'
}
{
  message: 'Client disconnected during completion generation for user 6894f6135cbf1256c0f77008',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:25'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:25'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket _avq3SYmUGJQyG6DAAAy',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: _avq3SYmUGJQyG6DAAAy)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 255,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '📝 Enhanced prompt for completion (920 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  service: 'collabcode-backend',
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [
        {
          quotaMetric: 'generativelanguage.googleapis.com/generate_content_free_tier_requests',
          quotaId: 'GenerateRequestsPerDayPerProjectPerModel-FreeTier',
          quotaDimensions: { location: 'global', model: 'gemini-1.5-flash' },
          quotaValue: '50'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.Help',
      links: [
        {
          description: 'Learn more about Gemini API quotas',
          url: 'https://ai.google.dev/gemini-api/docs/rate-limits'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '33s'
    }
  ],
  level: 'error',
  message: 'Error generating streaming completion: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"33s"}]',
  stack: 'Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"33s"}]\n' +
    '    at handleResponseNotOk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async makeRequest (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n' +
    '    at async generateContentStream (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:862:22)\n' +
    '    at async StreamingCompletionService.generateCompletion (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\streamingCompletionService.js:48:22)\n' +
    '    at async Socket.<anonymous> (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\socket\\completionSocketHandler.js:100:26)',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '🔁 Falling back to mock completion due to error',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"c","completionText":"c","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"c","completionText":"c","done":false,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"co","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"co","done":false,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"n","completionText":"con","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"n","completionText":"con","done":false,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"s","completionText":"cons","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"s","completionText":"cons","done":false,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"conso","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"conso","done":false,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":5}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"consol","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"consol","done":false,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":6}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"e","completionText":"console","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"e","completionText":"console","done":false,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":7}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".","completionText":"console.","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".","completionText":"console.","done":false,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":8}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.l","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.l","done":false,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":9}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.lo","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.lo","done":false,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":10}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"g","completionText":"console.log","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"g","completionText":"console.log","done":false,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":11}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"(","completionText":"console.log(","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"(","completionText":"console.log(","done":false,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":12}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\"","completionText":"console.log(\\"","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\"","completionText":"console.log(\\"","done":false,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":13}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:26'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"H","completionText":"console.log(\\"H","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"H","completionText":"console.log(\\"H","done":false,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":14}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"e","completionText":"console.log(\\"He","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"e","completionText":"console.log(\\"He","done":false,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":15}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hel","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hel","done":false,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":16}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hell","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hell","done":false,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":17}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.log(\\"Hello","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.log(\\"Hello","done":false,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":18}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":",","completionText":"console.log(\\"Hello,","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":",","completionText":"console.log(\\"Hello,","done":false,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":19}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" ","completionText":"console.log(\\"Hello, ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" ","completionText":"console.log(\\"Hello, ","done":false,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":20}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"W","completionText":"console.log(\\"Hello, W","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"W","completionText":"console.log(\\"Hello, W","done":false,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":21}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.log(\\"Hello, Wo","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.log(\\"Hello, Wo","done":false,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":22}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"r","completionText":"console.log(\\"Hello, Wor","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"r","completionText":"console.log(\\"Hello, Wor","done":false,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":23}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📝 Enhanced prompt for completion (920 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.log(\\"Hello, Worl","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.log(\\"Hello, Worl","done":false,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":24}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"d","completionText":"console.log(\\"Hello, World","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"d","completionText":"console.log(\\"Hello, World","done":false,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":25}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"!","completionText":"console.log(\\"Hello, World!","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"!","completionText":"console.log(\\"Hello, World!","done":false,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":26}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  service: 'collabcode-backend',
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [
        {
          quotaMetric: 'generativelanguage.googleapis.com/generate_content_free_tier_requests',
          quotaId: 'GenerateRequestsPerDayPerProjectPerModel-FreeTier',
          quotaDimensions: { location: 'global', model: 'gemini-1.5-flash' },
          quotaValue: '50'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.Help',
      links: [
        {
          description: 'Learn more about Gemini API quotas',
          url: 'https://ai.google.dev/gemini-api/docs/rate-limits'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '32s'
    }
  ],
  level: 'error',
  message: 'Error generating streaming completion: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"32s"}]',
  stack: 'Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"32s"}]\n' +
    '    at handleResponseNotOk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async makeRequest (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n' +
    '    at async generateContentStream (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:862:22)\n' +
    '    at async StreamingCompletionService.generateCompletion (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\streamingCompletionService.js:48:22)\n' +
    '    at async C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\routes\\completions.js:106:26',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '🔁 Falling back to mock completion due to error',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: 'Client disconnected during completion generation for user 6894f6135cbf1256c0f77008',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\"","completionText":"console.log(\\"Hello, World!\\"","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\"","completionText":"console.log(\\"Hello, World!\\"","done":false,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":27}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":")","completionText":"console.log(\\"Hello, World!\\")","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":")","completionText":"console.log(\\"Hello, World!\\")","done":false,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":28}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":";","completionText":"console.log(\\"Hello, World!\\");","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":";","completionText":"console.log(\\"Hello, World!\\");","done":false,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":29}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"console.log(\\"Hello, World!\\");","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"console.log(\\"Hello, World!\\");","done":true,"sessionId":"_avq3SYmUGJQyG6DAAAy","tokenCount":30}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:27'
}
{
  message: 'Completion finished for adnan99@gmail.com: 30 tokens, 29 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:28'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:28'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket r2nXjEK2KwRm1aVgAAA0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:28'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: r2nXjEK2KwRm1aVgAAA0)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:28'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 284,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-02 17:46:28'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:28'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:28'
}
{
  message: '📝 Enhanced prompt for completion (949 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:28'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:28'
}
{
  service: 'collabcode-backend',
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [
        {
          quotaMetric: 'generativelanguage.googleapis.com/generate_content_free_tier_requests',
          quotaId: 'GenerateRequestsPerDayPerProjectPerModel-FreeTier',
          quotaDimensions: { location: 'global', model: 'gemini-1.5-flash' },
          quotaValue: '50'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.Help',
      links: [
        {
          description: 'Learn more about Gemini API quotas',
          url: 'https://ai.google.dev/gemini-api/docs/rate-limits'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '31s'
    }
  ],
  level: 'error',
  message: 'Error generating streaming completion: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"31s"}]',
  stack: 'Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"31s"}]\n' +
    '    at handleResponseNotOk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async makeRequest (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n' +
    '    at async generateContentStream (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:862:22)\n' +
    '    at async StreamingCompletionService.generateCompletion (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\streamingCompletionService.js:48:22)\n' +
    '    at async Socket.<anonymous> (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\socket\\completionSocketHandler.js:100:26)',
  timestamp: '2025-09-02 17:46:28'
}
{
  message: '🔁 Falling back to mock completion due to error',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:28'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"c","completionText":"c","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:28'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"c","completionText":"c","done":false,"sessionId":"r2nXjEK2KwRm1aVgAAA0","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:28'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"co","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:28'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"co","done":false,"sessionId":"r2nXjEK2KwRm1aVgAAA0","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:28'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"n","completionText":"con","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:28'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"n","completionText":"con","done":false,"sessionId":"r2nXjEK2KwRm1aVgAAA0","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:28'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"s","completionText":"cons","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:28'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"s","completionText":"cons","done":false,"sessionId":"r2nXjEK2KwRm1aVgAAA0","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:28'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"conso","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:28'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"conso","done":false,"sessionId":"r2nXjEK2KwRm1aVgAAA0","tokenCount":5}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:28'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"consol","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:28'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"consol","done":false,"sessionId":"r2nXjEK2KwRm1aVgAAA0","tokenCount":6}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:28'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"e","completionText":"console","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:29'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"e","completionText":"console","done":false,"sessionId":"r2nXjEK2KwRm1aVgAAA0","tokenCount":7}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:29'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".","completionText":"console.","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:29'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".","completionText":"console.","done":false,"sessionId":"r2nXjEK2KwRm1aVgAAA0","tokenCount":8}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:29'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"l","completionText":"console.l","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:29'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"l","completionText":"console.l","done":false,"sessionId":"r2nXjEK2KwRm1aVgAAA0","tokenCount":9}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:29'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"o","completionText":"console.lo","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:29'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"o","completionText":"console.lo","done":false,"sessionId":"r2nXjEK2KwRm1aVgAAA0","tokenCount":10}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:29'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"g","completionText":"console.log","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:29'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"g","completionText":"console.log","done":false,"sessionId":"r2nXjEK2KwRm1aVgAAA0","tokenCount":11}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:29'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:29'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:29'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:29'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:29'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:29'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:29'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"(","completionText":"console.log(","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:29'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"(","completionText":"console.log(","done":false,"sessionId":"r2nXjEK2KwRm1aVgAAA0","tokenCount":12}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:29'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\"","completionText":"console.log(\\"","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:29'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\"","completionText":"console.log(\\"","done":false,"sessionId":"r2nXjEK2KwRm1aVgAAA0","tokenCount":13}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:29'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"H","completionText":"console.log(\\"H","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:29'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"H","completionText":"console.log(\\"H","done":false,"sessionId":"r2nXjEK2KwRm1aVgAAA0","tokenCount":14}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:29'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:29'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:29'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"e","completionText":"console.log(\\"He","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:29'
}
{
  message: 'Completion cancelled for socket r2nXjEK2KwRm1aVgAAA0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:29'
}
{
  message: 'Completion finished for adnan99@gmail.com: 14 tokens, 14 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:29'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:30'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:30'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:30'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:30'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:30'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:30'
}
{
  message: 'POST /api/completions/generate - ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:38'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:38'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:38'
}
{
  message: '📝 Enhanced prompt for completion (949 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:38'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:38'
}
{
  service: 'collabcode-backend',
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [
        {
          quotaMetric: 'generativelanguage.googleapis.com/generate_content_free_tier_requests',
          quotaId: 'GenerateRequestsPerDayPerProjectPerModel-FreeTier',
          quotaDimensions: { location: 'global', model: 'gemini-1.5-flash' },
          quotaValue: '50'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.Help',
      links: [
        {
          description: 'Learn more about Gemini API quotas',
          url: 'https://ai.google.dev/gemini-api/docs/rate-limits'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '20s'
    }
  ],
  level: 'error',
  message: 'Error generating streaming completion: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"20s"}]',
  stack: 'Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"20s"}]\n' +
    '    at handleResponseNotOk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async makeRequest (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n' +
    '    at async generateContentStream (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:862:22)\n' +
    '    at async StreamingCompletionService.generateCompletion (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\streamingCompletionService.js:48:22)\n' +
    '    at async C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\routes\\completions.js:106:26',
  timestamp: '2025-09-02 17:46:39'
}
{
  message: '🔁 Falling back to mock completion due to error',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:39'
}
{
  message: 'Client disconnected during completion generation for user 6894f6135cbf1256c0f77008',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:39'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:46:39'
}
{
  message: 'SIGINT received. Shutting down gracefully...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-02 17:54:27'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:56:46'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:56:46'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:56:46'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:56:46'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:56:46'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:56:46'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:56:46'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:56:46'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:56:46'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:56:59'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID YabQ9CkZKg0aN7qbAAAB from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:00'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket YabQ9CkZKg0aN7qbAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:00'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: YabQ9CkZKg0aN7qbAAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:00'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:00'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:00'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:00',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/projects/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:00'
}
{
  message: 'GET /api/files/project/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:00'
}
{
  message: 'GET /api/files/project/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:00'
}
{
  message: 'GET /api/projects/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:00'
}
{
  message: 'GET /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:00'
}
{
  service: 'collabcode-backend',
  projectId: '68b6902393632ca58611dd55',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 11:57:00'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:00'
}
{
  message: '🆕 New Project Room Created: project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:00'
}
{
  message: '👥 Project Room Status: 1 users in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:00'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:00'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:00'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:00'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:00'
}
{
  message: 'GET /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:00'
}
{
  message: 'SIGINT received. Shutting down gracefully...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:39'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:42'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:42'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:42'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:42'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:42'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:42'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:42'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:42'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:42'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID grE2p_tZ3GgvGycYAAAB from IP ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:44'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket grE2p_tZ3GgvGycYAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:44'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: grE2p_tZ3GgvGycYAAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:44'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:44'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:44'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:44',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:44'
}
{
  service: 'collabcode-backend',
  projectId: '68b6902393632ca58611dd55',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 11:57:44'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:44'
}
{
  message: '🆕 New Project Room Created: project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:44'
}
{
  message: '👥 Project Room Status: 1 users in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:44'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:44'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:44'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:44'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:44'
}
{
  message: 'PUT /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:50'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:50'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b6902a93632ca58611dd72 in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:50'
}
{
  message: '📂 Starting file sync for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:50'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:50'
}
{
  message: '🔄 File synced to container filesystem for project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:57:50'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: grE2p_tZ3GgvGycYAAAB) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:09'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:09'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:09'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:09'
}
{
  message: '👥 Remaining users in project 68b6902393632ca58611dd55: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:09'
}
{
  message: '🗑️ Empty project room 68b6902393632ca58611dd55 cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:09'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:09'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:09'
}
{
  message: '🧹 Cleanup: Stopped container session for socket grE2p_tZ3GgvGycYAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:09'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:10'
}
{
  message: 'GET /api/projects/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:10'
}
{
  message: 'GET /api/files/project/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:10'
}
{
  message: 'GET /api/projects/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:10'
}
{
  message: 'GET /api/files/project/68b6902393632ca58611dd55 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:10'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID f4diZNmoy2OHuDnrAAAD from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:10'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket f4diZNmoy2OHuDnrAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:10'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: f4diZNmoy2OHuDnrAAAD)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:10'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:10'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:10'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:10',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:10'
}
{
  message: 'GET /api/files/68b6902a93632ca58611dd72 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:10'
}
{
  service: 'collabcode-backend',
  projectId: '68b6902393632ca58611dd55',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 11:59:10'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:10'
}
{
  message: '🆕 New Project Room Created: project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:10'
}
{
  message: '👥 Project Room Status: 1 users in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:10'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:10'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:10'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:10'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:10'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: f4diZNmoy2OHuDnrAAAD) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:34'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:34'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:34'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:34'
}
{
  message: '👥 Remaining users in project 68b6902393632ca58611dd55: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:34'
}
{
  message: '🗑️ Empty project room 68b6902393632ca58611dd55 cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:34'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:34'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:34'
}
{
  message: '🧹 Cleanup: Stopped container session for socket f4diZNmoy2OHuDnrAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:34'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID _GV4R5F5Vcz1ed-AAAAF from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:35'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket _GV4R5F5Vcz1ed-AAAAF',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:35'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: _GV4R5F5Vcz1ed-AAAAF)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:35'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:35'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:35'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:35',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:35'
}
{
  service: 'collabcode-backend',
  projectId: '68b6902393632ca58611dd55',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 11:59:35'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:35'
}
{
  message: '🆕 New Project Room Created: project:68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:35'
}
{
  message: '👥 Project Room Status: 1 users in project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:35'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:35'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:35'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:35'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:35'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: _GV4R5F5Vcz1ed-AAAAF) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:35'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:35'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:35'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b6902393632ca58611dd55',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:35'
}
{
  message: '👥 Remaining users in project 68b6902393632ca58611dd55: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:35'
}
{
  message: '🗑️ Empty project room 68b6902393632ca58611dd55 cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:35'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:35'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:35'
}
{
  message: '🧹 Cleanup: Stopped container session for socket _GV4R5F5Vcz1ed-AAAAF',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:35'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:36'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:36'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:36'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID jRmep4uiHOX_mvNWAAAH from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:36'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket jRmep4uiHOX_mvNWAAAH',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:36'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: jRmep4uiHOX_mvNWAAAH)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:36'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:36'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:36'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:36',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:37'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:37'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:37'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:37'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:39'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:39'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:39'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:39'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:39'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 11:59:39'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:39'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:39'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:39'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:39'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:39'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:39'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:39'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:39'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:44'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:44'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:44'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:44'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:44'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 11:59:44'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: jRmep4uiHOX_mvNWAAAH) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:46'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:46'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:46'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:46'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:46'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:46'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:46'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:46'
}
{
  message: '🧹 Cleanup: Stopped container session for socket jRmep4uiHOX_mvNWAAAH',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:46'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID mQZ0pNa84uD4u3I8AAAJ from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:47'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket mQZ0pNa84uD4u3I8AAAJ',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:47'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: mQZ0pNa84uD4u3I8AAAJ)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:47'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:47'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:47'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:47',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:47'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 12:04:47'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:47'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:47'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:47'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:47'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:47'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:47'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:47'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: mQZ0pNa84uD4u3I8AAAJ) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:50'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:50'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:50'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:50'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:50'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:50'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:50'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:50'
}
{
  message: '🧹 Cleanup: Stopped container session for socket mQZ0pNa84uD4u3I8AAAJ',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:50'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:51'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:51'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:51'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID NuYN7kFYL8nx0ahvAAAL from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:51'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket NuYN7kFYL8nx0ahvAAAL',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:51'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: NuYN7kFYL8nx0ahvAAAL)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:51'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:51'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:51'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:51',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:51'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 12:04:51'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:51'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:51'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:51'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:51'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:51'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:51'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:51'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:52'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:54'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:54'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:54'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:54'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:57'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:57'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:57'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:57'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:57'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 12:04:57'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:57'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:57'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:57'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:57'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:57'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:57'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:57'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:57'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket Rgn9y0gNwaLQCjSaAAAM',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:59'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: Rgn9y0gNwaLQCjSaAAAM)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:59'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 99,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 12:04:59'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:59'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:59'
}
{
  message: '📝 Enhanced prompt for completion (764 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:59'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:04:59'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:05:01'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "("\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 192,\n' +
    '    "totalTokenCount": 192,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 192\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "m-i3aKPzML2XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:05:01'
}
{
  message: '✅ Token extracted via chunk.text(): "("',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:05:01'
}
{
  message: '📊 CHUNK SUMMARY: token="(", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:05:01'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"(","completionText":"(","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:05:01'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"(","completionText":"(","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:05:01'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"(","completionText":"(","done":false,"sessionId":"Rgn9y0gNwaLQCjSaAAAM","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:05:01'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "port, () => console.log(`Server listening on port ${port}`));"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 192,\n' +
    '    "totalTokenCount": 192,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 192\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "m-i3aKPzML2XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:05:01'
}
{
  message: '✅ Token extracted via chunk.text(): "port, () => console.log(`Server listening on port ${port}`));"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:05:01'
}
{
  message: '📊 CHUNK SUMMARY: token="port, () => console.log(`Server listening on port ${port}`));", hasToken=true, tokenLength=61',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:05:01'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"port, () => console.log(`Server listening on port ${port}`));","completionText":"(port, () => console.log(`Server listening on port ${port}`));","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:05:01'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"port, () => console.log(`Server listening on port ${port}`));","completionText":"(port, () => console.log(`Server listening on port ${port}`));","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:05:01'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"port, () => console.log(`Server listening on port ${port}`));","completionText":"(port, () => console.log(`Server listening on port ${port}`));","done":false,"sessionId":"Rgn9y0gNwaLQCjSaAAAM","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:05:01'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 191,\n' +
    '    "candidatesTokenCount": 18,\n' +
    '    "totalTokenCount": 209,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 191\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 18\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "m-i3aKPzML2XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:05:01'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:05:01'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:05:01'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"(port, () => console.log(`Server listening on port ${port}`));\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:05:01'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"(port, () => console.log(`Server listening on port ${port}`));\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:05:01'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"(port, () => console.log(`Server listening on port ${port}`));\\n","done":false,"sessionId":"Rgn9y0gNwaLQCjSaAAAM","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:05:01'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 63',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:05:01'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"(port, () => console.log(`Server listening on port ${port}`));\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:05:01'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"(port, () => console.log(`Server listening on port ${port}`));\\n","done":true,"sessionId":"Rgn9y0gNwaLQCjSaAAAM","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:05:01'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:05:01'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 63 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:05:01'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:05:01'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket LYByL02onmmfYj3bAAAO',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:44'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: LYByL02onmmfYj3bAAAO)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:44'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 99,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 12:08:44'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:44'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:44'
}
{
  message: '📝 Enhanced prompt for completion (764 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:44'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:44'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:44'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:44'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:45'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "("\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 192,\n' +
    '    "totalTokenCount": 192,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 192\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "e-m3aMq8N5eThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:45'
}
{
  message: '✅ Token extracted via chunk.text(): "("',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:45'
}
{
  message: '📊 CHUNK SUMMARY: token="(", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:45'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"(","completionText":"(","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:45'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"(","completionText":"(","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:45'
}
{
  message: 'Completion cancelled for socket LYByL02onmmfYj3bAAAO',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:45'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:45'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:45'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:45'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:45'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:45'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:45'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:45'
}
{
  message: 'POST /api/completions/generate - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:54'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:54'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:54'
}
{
  message: '📝 Enhanced prompt for completion (764 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:54'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:54'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:55'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "("\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 192,\n' +
    '    "totalTokenCount": 192,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 192\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "hem3aLbhN73qqsMPtMbK0Q0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:55'
}
{
  message: '✅ Token extracted via chunk.text(): "("',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:55'
}
{
  message: '📊 CHUNK SUMMARY: token="(", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:55'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"(","completionText":"(","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:55'
}
{
  message: 'Client disconnected during completion generation for user 6894f6135cbf1256c0f77008',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:55'
}
{
  message: 'Completion generated successfully for user 6894f6135cbf1256c0f77008, tokens: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:08:55'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket Ti1XiwbrcWoCMAZ9AAAQ',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:17'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: Ti1XiwbrcWoCMAZ9AAAQ)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:17'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 101,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 12:10:17'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:17'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:17'
}
{
  message: '📝 Enhanced prompt for completion (766 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:17'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:17'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:19'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "("\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 194,\n' +
    '    "totalTokenCount": 194,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 194\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "2em3aPCgIZeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:19'
}
{
  message: '✅ Token extracted via chunk.text(): "("',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:19'
}
{
  message: '📊 CHUNK SUMMARY: token="(", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:19'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"(","completionText":"(","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:19'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"(","completionText":"(","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:19'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"(","completionText":"(","done":false,"sessionId":"Ti1XiwbrcWoCMAZ9AAAQ","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:19'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "port, () => console.log(`Server listening on port ${port}`));"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 194,\n' +
    '    "totalTokenCount": 194,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 194\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "2em3aPCgIZeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:19'
}
{
  message: '✅ Token extracted via chunk.text(): "port, () => console.log(`Server listening on port ${port}`));"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:19'
}
{
  message: '📊 CHUNK SUMMARY: token="port, () => console.log(`Server listening on port ${port}`));", hasToken=true, tokenLength=61',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:19'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"port, () => console.log(`Server listening on port ${port}`));","completionText":"(port, () => console.log(`Server listening on port ${port}`));","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:19'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"port, () => console.log(`Server listening on port ${port}`));","completionText":"(port, () => console.log(`Server listening on port ${port}`));","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:19'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"port, () => console.log(`Server listening on port ${port}`));","completionText":"(port, () => console.log(`Server listening on port ${port}`));","done":false,"sessionId":"Ti1XiwbrcWoCMAZ9AAAQ","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:19'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 193,\n' +
    '    "candidatesTokenCount": 18,\n' +
    '    "totalTokenCount": 211,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 193\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 18\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "2em3aPCgIZeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:19'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:19'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:19'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"(port, () => console.log(`Server listening on port ${port}`));\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:19'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"(port, () => console.log(`Server listening on port ${port}`));\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:19'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"(port, () => console.log(`Server listening on port ${port}`));\\n","done":false,"sessionId":"Ti1XiwbrcWoCMAZ9AAAQ","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:19'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 63',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:19'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"(port, () => console.log(`Server listening on port ${port}`));\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:19'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"(port, () => console.log(`Server listening on port ${port}`));\\n","done":true,"sessionId":"Ti1XiwbrcWoCMAZ9AAAQ","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:19'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:19'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 63 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:19'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:10:19'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket DqPaUUYlerjplOjaAAAS',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:15'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: DqPaUUYlerjplOjaAAAS)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:15'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 101,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 12:21:15'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:15'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:15'
}
{
  message: '📝 Enhanced prompt for completion (766 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:15'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:15'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:16'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "("\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 194,\n' +
    '    "totalTokenCount": 194,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 194\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "auy3aL7OLJeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:16'
}
{
  message: '✅ Token extracted via chunk.text(): "("',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:16'
}
{
  message: '📊 CHUNK SUMMARY: token="(", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:16'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"(","completionText":"(","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"(","completionText":"(","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"(","completionText":"(","done":false,"sessionId":"DqPaUUYlerjplOjaAAAS","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:16'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "port, () => console.log(`Server listening on port ${port}`));"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 194,\n' +
    '    "totalTokenCount": 194,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 194\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "auy3aL7OLJeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:16'
}
{
  message: '✅ Token extracted via chunk.text(): "port, () => console.log(`Server listening on port ${port}`));"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:16'
}
{
  message: '📊 CHUNK SUMMARY: token="port, () => console.log(`Server listening on port ${port}`));", hasToken=true, tokenLength=61',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:16'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"port, () => console.log(`Server listening on port ${port}`));","completionText":"(port, () => console.log(`Server listening on port ${port}`));","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"port, () => console.log(`Server listening on port ${port}`));","completionText":"(port, () => console.log(`Server listening on port ${port}`));","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"port, () => console.log(`Server listening on port ${port}`));","completionText":"(port, () => console.log(`Server listening on port ${port}`));","done":false,"sessionId":"DqPaUUYlerjplOjaAAAS","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:16'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 193,\n' +
    '    "candidatesTokenCount": 18,\n' +
    '    "totalTokenCount": 211,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 193\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 18\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "auy3aL7OLJeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:16'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:16'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:16'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"(port, () => console.log(`Server listening on port ${port}`));\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"(port, () => console.log(`Server listening on port ${port}`));\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"(port, () => console.log(`Server listening on port ${port}`));\\n","done":false,"sessionId":"DqPaUUYlerjplOjaAAAS","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:16'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 63',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"(port, () => console.log(`Server listening on port ${port}`));\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"(port, () => console.log(`Server listening on port ${port}`));\\n","done":true,"sessionId":"DqPaUUYlerjplOjaAAAS","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:16'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:16'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 63 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:16'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:16'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket qOUu_BzjhhwdDH55AAAU',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:18'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: qOUu_BzjhhwdDH55AAAU)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:18'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 101,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 12:21:18'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:18'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:18'
}
{
  message: '📝 Enhanced prompt for completion (766 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:18'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:18'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:19'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "("\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 194,\n' +
    '    "totalTokenCount": 194,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 194\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "bey3aMzQJ72XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:19'
}
{
  message: '✅ Token extracted via chunk.text(): "("',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:19'
}
{
  message: '📊 CHUNK SUMMARY: token="(", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:19'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"(","completionText":"(","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:19'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"(","completionText":"(","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:19'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"(","completionText":"(","done":false,"sessionId":"qOUu_BzjhhwdDH55AAAU","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:19'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "port, () => console.log(`Server listening on port ${port}`));"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 194,\n' +
    '    "totalTokenCount": 194,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 194\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "bey3aMzQJ72XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:19'
}
{
  message: '✅ Token extracted via chunk.text(): "port, () => console.log(`Server listening on port ${port}`));"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:19'
}
{
  message: '📊 CHUNK SUMMARY: token="port, () => console.log(`Server listening on port ${port}`));", hasToken=true, tokenLength=61',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:19'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"port, () => console.log(`Server listening on port ${port}`));","completionText":"(port, () => console.log(`Server listening on port ${port}`));","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:19'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"port, () => console.log(`Server listening on port ${port}`));","completionText":"(port, () => console.log(`Server listening on port ${port}`));","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:19'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"port, () => console.log(`Server listening on port ${port}`));","completionText":"(port, () => console.log(`Server listening on port ${port}`));","done":false,"sessionId":"qOUu_BzjhhwdDH55AAAU","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:19'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 193,\n' +
    '    "candidatesTokenCount": 18,\n' +
    '    "totalTokenCount": 211,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 193\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 18\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "bey3aMzQJ72XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:19'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:19'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:19'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"(port, () => console.log(`Server listening on port ${port}`));\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:19'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"(port, () => console.log(`Server listening on port ${port}`));\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:19'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"(port, () => console.log(`Server listening on port ${port}`));\\n","done":false,"sessionId":"qOUu_BzjhhwdDH55AAAU","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:19'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 63',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:19'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"(port, () => console.log(`Server listening on port ${port}`));\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:19'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"(port, () => console.log(`Server listening on port ${port}`));\\n","done":true,"sessionId":"qOUu_BzjhhwdDH55AAAU","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:19'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:19'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 63 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:19'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:19'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:21'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:21'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:21'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:21'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:21'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:21'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:24'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:24'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:24'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:24'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:24'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:24'
}
{
  message: 'SIGINT received. Shutting down gracefully...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:50'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:54'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:54'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:54'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:54'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:54'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:54'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:54'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:54'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:54'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID XUxQOkoFGOg5TPpFAAAB from IP ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:56'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket XUxQOkoFGOg5TPpFAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:56'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: XUxQOkoFGOg5TPpFAAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:56'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:56'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:56'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:56',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:56'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 12:21:56'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:56'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:56'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:56'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:56'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:56'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:56'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:21:56'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: XUxQOkoFGOg5TPpFAAAB) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:15'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:15'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:15'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:15'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:15'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:15'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:15'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:15'
}
{
  message: '🧹 Cleanup: Stopped container session for socket XUxQOkoFGOg5TPpFAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:15'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:17'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:17'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:17'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID IBtXz_pgiOySMRmQAAAD from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:17'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket IBtXz_pgiOySMRmQAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:17'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: IBtXz_pgiOySMRmQAAAD)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:17'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:17'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:17'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:17',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:17'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 12:24:18'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:18'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:18'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:18'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:18'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:18'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:18'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:18'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:18'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:19'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:19'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:19'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:19'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:21'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:21'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:21'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:21'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:21'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 12:24:21'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:21'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:21'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:21'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:21'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:21'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:21'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:21'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:21'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket d_RLxTzHT7e3qRHrAAAF',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:23'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: d_RLxTzHT7e3qRHrAAAF)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:23'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 167,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 12:24:23'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:23'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:23'
}
{
  message: '📝 Enhanced prompt for completion (832 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:23'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:23'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:24'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:24'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:24'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "app"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 214,\n' +
    '    "totalTokenCount": 214,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 214\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "J-23aIOZDr3qqsMPtMbK0Q0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:24'
}
{
  message: '✅ Token extracted via chunk.text(): "app"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:24'
}
{
  message: '📊 CHUNK SUMMARY: token="app", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:24'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:24'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:24'
}
{
  message: 'Completion cancelled for socket d_RLxTzHT7e3qRHrAAAF',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:24'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:24'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:25'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:25'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:25'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:25'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:25'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:25'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket jMWHK1tcDwrhYmb_AAAH',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: jMWHK1tcDwrhYmb_AAAH)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 171,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: '📝 Enhanced prompt for completion (836 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "app"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 218,\n' +
    '    "totalTokenCount": 218,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 218\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Ku23aMKWM5a2qsMPi5PP8QE"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: '✅ Token extracted via chunk.text(): "app"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: '📊 CHUNK SUMMARY: token="app", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"app","completionText":"app","done":false,"sessionId":"jMWHK1tcDwrhYmb_AAAH","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".get('/', (req, res) => res.send('Hello World!"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 218,\n' +
    '    "totalTokenCount": 218,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 218\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Ku23aMKWM5a2qsMPi5PP8QE"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: `✅ Token extracted via chunk.text(): ".get('/', (req, res) => res.send('Hello World!"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: `📊 CHUNK SUMMARY: token=".get('/', (req, res) => res.send('Hello World!", hasToken=true, tokenLength=46`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".get('/', (req, res) => res.send('Hello World!","completionText":"app.get('/', (req, res) => res.send('Hello World!","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".get('/', (req, res) => res.send('Hello World!","completionText":"app.get('/', (req, res) => res.send('Hello World!","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".get('/', (req, res) => res.send('Hello World!","completionText":"app.get('/', (req, res) => res.send('Hello World!","done":false,"sessionId":"jMWHK1tcDwrhYmb_AAAH","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "'));\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 217,\n' +
    '    "candidatesTokenCount": 19,\n' +
    '    "totalTokenCount": 236,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 217\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 19\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Ku23aMKWM5a2qsMPi5PP8QE"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: `✅ Token extracted via chunk.text(): "'));\n"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: `📊 CHUNK SUMMARY: token="'));\n", hasToken=true, tokenLength=5`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"'));\\n","completionText":"app.get('/', (req, res) => res.send('Hello World!'));\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"'));\\n","completionText":"app.get('/', (req, res) => res.send('Hello World!'));\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"'));\\n","completionText":"app.get('/', (req, res) => res.send('Hello World!'));\\n","done":false,"sessionId":"jMWHK1tcDwrhYmb_AAAH","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 54',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"app.get('/', (req, res) => res.send('Hello World!'));\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"app.get('/', (req, res) => res.send('Hello World!'));\\n","done":true,"sessionId":"jMWHK1tcDwrhYmb_AAAH","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 54 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:28'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:30'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:30'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:30'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:30'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:30'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:30'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:31'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:31'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:31'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:31'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:31'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:31'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket 7QavUTgbaxDOZekZAAAJ',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:32'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: 7QavUTgbaxDOZekZAAAJ)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:32'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 228,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 12:24:32'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:32'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:32'
}
{
  message: '📝 Enhanced prompt for completion (893 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:32'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:32'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:32'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "app"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 239,\n' +
    '    "totalTokenCount": 239,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 239\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "L-23aImlEr3qqsMPtMbK0Q0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:32'
}
{
  message: '✅ Token extracted via chunk.text(): "app"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:32'
}
{
  message: '📊 CHUNK SUMMARY: token="app", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:32'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:32'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:32'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"app","completionText":"app","done":false,"sessionId":"7QavUTgbaxDOZekZAAAJ","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:32'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".get('/about', (req, res) => res.send('About"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 239,\n' +
    '    "totalTokenCount": 239,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 239\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "L-23aImlEr3qqsMPtMbK0Q0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:33'
}
{
  message: `✅ Token extracted via chunk.text(): ".get('/about', (req, res) => res.send('About"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:33'
}
{
  message: `📊 CHUNK SUMMARY: token=".get('/about', (req, res) => res.send('About", hasToken=true, tokenLength=44`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:33'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".get('/about', (req, res) => res.send('About","completionText":"app.get('/about', (req, res) => res.send('About","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:33'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".get('/about', (req, res) => res.send('About","completionText":"app.get('/about', (req, res) => res.send('About","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:33'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".get('/about', (req, res) => res.send('About","completionText":"app.get('/about', (req, res) => res.send('About","done":false,"sessionId":"7QavUTgbaxDOZekZAAAJ","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:33'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": " page'));\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 238,\n' +
    '    "candidatesTokenCount": 20,\n' +
    '    "totalTokenCount": 258,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 238\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 20\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "L-23aImlEr3qqsMPtMbK0Q0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:33'
}
{
  message: `✅ Token extracted via chunk.text(): " page'));\n"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:33'
}
{
  message: `📊 CHUNK SUMMARY: token=" page'));\n", hasToken=true, tokenLength=10`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:33'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":" page'));\\n","completionText":"app.get('/about', (req, res) => res.send('About page'));\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:33'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":" page'));\\n","completionText":"app.get('/about', (req, res) => res.send('About page'));\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:33'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":" page'));\\n","completionText":"app.get('/about', (req, res) => res.send('About page'));\\n","done":false,"sessionId":"7QavUTgbaxDOZekZAAAJ","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:33'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 57',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:33'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"app.get('/about', (req, res) => res.send('About page'));\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:33'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"app.get('/about', (req, res) => res.send('About page'));\\n","done":true,"sessionId":"7QavUTgbaxDOZekZAAAJ","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:33'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:33'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 57 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:33'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:33'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:34'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:34'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:34'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:34'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:34'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:24:34'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: IBtXz_pgiOySMRmQAAAD) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:45'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:45'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:45'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:45'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:45'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:45'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:45'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:45'
}
{
  message: '🧹 Cleanup: Stopped container session for socket IBtXz_pgiOySMRmQAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:45'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID qGMmmcMrJ0NUbZqYAAAL from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:47'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket qGMmmcMrJ0NUbZqYAAAL',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:47'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: qGMmmcMrJ0NUbZqYAAAL)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:47'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:47'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:47'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:47',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:47'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 12:38:47'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:47'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:47'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:47'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:47'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:47'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:47'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:47'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: qGMmmcMrJ0NUbZqYAAAL) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:48'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:48'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:48'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:48'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:48'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:48'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:48'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:48'
}
{
  message: '🧹 Cleanup: Stopped container session for socket qGMmmcMrJ0NUbZqYAAAL',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:38:48'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:40:01'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID R8WW9A4UVPUYhsWvAAAN from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:40:01'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket R8WW9A4UVPUYhsWvAAAN',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:40:01'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: R8WW9A4UVPUYhsWvAAAN)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:40:01'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:40:01'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:40:01'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:40:01',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:40:01'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:40:01'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:40:01'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 12:40:01'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:40:01'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:40:01'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:40:01'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:40:01'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:40:01'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:40:01'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:40:01'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:40:02'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:40:02'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:40:02'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:40:02'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:40:02'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:41'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:41'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:41'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:41'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:41'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 12:47:41'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:41'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:41'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:41'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:41'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:41'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:41'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:41'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:41'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket SdCX7RDLhmFjPs06AAAP',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:43'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: SdCX7RDLhmFjPs06AAAP)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:43'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 286,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 12:47:43'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:43'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:43'
}
{
  message: '📝 Enhanced prompt for completion (951 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:43'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:43'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:44'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:44'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:45'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "app"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 259,\n' +
    '    "totalTokenCount": 259,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 259\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "n_K3aJSILe6LqsMPhfO--Aw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:45'
}
{
  message: '✅ Token extracted via chunk.text(): "app"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:45'
}
{
  message: '📊 CHUNK SUMMARY: token="app", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:45'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:45'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:45'
}
{
  message: 'Completion cancelled for socket SdCX7RDLhmFjPs06AAAP',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:45'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:45'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:46'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:46'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:46'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:46'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:46'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:46'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:47'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:47'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:47'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:47'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:47'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:47'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket BKY2YJWMMY2he-ZCAAAR',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:47'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: BKY2YJWMMY2he-ZCAAAR)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:47'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 290,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 12:47:47'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:47'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:47'
}
{
  message: '📝 Enhanced prompt for completion (955 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:47'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:47'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:48'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "app"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 263,\n' +
    '    "totalTokenCount": 263,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 263\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "ovK3aJ6LLPzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:48'
}
{
  message: '✅ Token extracted via chunk.text(): "app"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:48'
}
{
  message: '📊 CHUNK SUMMARY: token="app", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:48'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:48'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:48'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"app","completionText":"app","done":false,"sessionId":"BKY2YJWMMY2he-ZCAAAR","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:48'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ".use((req, res) => {\\n  res.status(4"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 263,\n' +
    '    "totalTokenCount": 263,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 263\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "ovK3aJ6LLPzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:48'
}
{
  message: '✅ Token extracted via chunk.text(): ".use((req, res) => {\n  res.status(4"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:48'
}
{
  message: '📊 CHUNK SUMMARY: token=".use((req, res) => {\n' +
    '  res.status(4", hasToken=true, tokenLength=35',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:48'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":".use((req, res) => {\\n  res.status(4","completionText":"app.use((req, res) => {\\n  res.status(4","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:48'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".use((req, res) => {\\n  res.status(4","completionText":"app.use((req, res) => {\\n  res.status(4","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:48'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".use((req, res) => {\\n  res.status(4","completionText":"app.use((req, res) => {\\n  res.status(4","done":false,"sessionId":"BKY2YJWMMY2he-ZCAAAR","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:48'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "04).send('Sorry, cannot find that!');\\n});\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 262,\n' +
    '    "candidatesTokenCount": 31,\n' +
    '    "totalTokenCount": 293,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 262\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 31\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "ovK3aJ6LLPzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:48'
}
{
  message: `✅ Token extracted via chunk.text(): "04).send('Sorry, cannot find that!');\n` +
    '});\n' +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:48'
}
{
  message: `📊 CHUNK SUMMARY: token="04).send('Sorry, cannot find that!');\n` +
    '});\n' +
    '", hasToken=true, tokenLength=42',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:48'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"04).send('Sorry, cannot find that!');\\n});\\n","completionText":"app.use((req, res) => {\\n  res.status(404).send('Sorry, cannot find that!');\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:48'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"04).send('Sorry, cannot find that!');\\n});\\n","completionText":"app.use((req, res) => {\\n  res.status(404).send('Sorry, cannot find that!');\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:48'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"04).send('Sorry, cannot find that!');\\n});\\n","completionText":"app.use((req, res) => {\\n  res.status(404).send('Sorry, cannot find that!');\\n});\\n","done":false,"sessionId":"BKY2YJWMMY2he-ZCAAAR","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:48'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 80',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:48'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"app.use((req, res) => {\\n  res.status(404).send('Sorry, cannot find that!');\\n});\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:48'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"app.use((req, res) => {\\n  res.status(404).send('Sorry, cannot find that!');\\n});\\n","done":true,"sessionId":"BKY2YJWMMY2he-ZCAAAR","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:48'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:48'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 80 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:48'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:48'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:52'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:52'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:52'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:52'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:52'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:47:52'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:04'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:04'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:04'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:04'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:04'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:04'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket uxbJQIkAFUBr5t2tAAAT',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:04'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: uxbJQIkAFUBr5t2tAAAT)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:04'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 375,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 12:48:04'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:04'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:04'
}
{
  message: '📝 Enhanced prompt for completion (1040 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:04'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:04'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:05'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "app"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 297,\n' +
    '    "totalTokenCount": 297,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 297\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "s_K3aP6ANvzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:05'
}
{
  message: '✅ Token extracted via chunk.text(): "app"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:05'
}
{
  message: '📊 CHUNK SUMMARY: token="app", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:05'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:05'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:05'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"app","completionText":"app","done":false,"sessionId":"uxbJQIkAFUBr5t2tAAAT","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:05'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ".listen(port, () => {\\n  console.log(`Server is"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 297,\n' +
    '    "totalTokenCount": 297,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 297\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "s_K3aP6ANvzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:05'
}
{
  message: '✅ Token extracted via chunk.text(): ".listen(port, () => {\n' +
    '  console.log(`Server is"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:05'
}
{
  message: '📊 CHUNK SUMMARY: token=".listen(port, () => {\n' +
    '  console.log(`Server is", hasToken=true, tokenLength=46',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:05'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":".listen(port, () => {\\n  console.log(`Server is","completionText":"app.listen(port, () => {\\n  console.log(`Server is","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:05'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".listen(port, () => {\\n  console.log(`Server is","completionText":"app.listen(port, () => {\\n  console.log(`Server is","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:05'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".listen(port, () => {\\n  console.log(`Server is","completionText":"app.listen(port, () => {\\n  console.log(`Server is","done":false,"sessionId":"uxbJQIkAFUBr5t2tAAAT","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:05'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " listening on port ${port}`);\\n});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 296,\n' +
    '    "candidatesTokenCount": 26,\n' +
    '    "totalTokenCount": 322,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 296\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 26\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "s_K3aP6ANvzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:05'
}
{
  message: '✅ Token extracted via chunk.text(): " listening on port ${port}`);\n});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:05'
}
{
  message: '📊 CHUNK SUMMARY: token=" listening on port ${port}`);\n' +
    '});\n' +
    '", hasToken=true, tokenLength=34',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:05'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" listening on port ${port}`);\\n});\\n","completionText":"app.listen(port, () => {\\n  console.log(`Server is listening on port ${port}`);\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:05'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" listening on port ${port}`);\\n});\\n","completionText":"app.listen(port, () => {\\n  console.log(`Server is listening on port ${port}`);\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:05'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" listening on port ${port}`);\\n});\\n","completionText":"app.listen(port, () => {\\n  console.log(`Server is listening on port ${port}`);\\n});\\n","done":false,"sessionId":"uxbJQIkAFUBr5t2tAAAT","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:05'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 83',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:05'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"app.listen(port, () => {\\n  console.log(`Server is listening on port ${port}`);\\n});\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:05'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"app.listen(port, () => {\\n  console.log(`Server is listening on port ${port}`);\\n});\\n","done":true,"sessionId":"uxbJQIkAFUBr5t2tAAAT","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:05'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:05'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 83 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:05'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:05'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:08'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:08'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:08'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:08'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:08'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:08'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:13'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:13'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:13'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:13'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:13'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 12:48:13'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:05:46'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:05:46'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:05:46'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:05:46'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:05:46'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:05:46'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:05:46'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:05:46'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:05:46'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID uBfcslyAvcmNL6K0AAAB from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:05:46'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket uBfcslyAvcmNL6K0AAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:05:46'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: uBfcslyAvcmNL6K0AAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:05:46'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:05:46'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:05:46'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:05:46',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:05:46'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 13:05:46'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:05:46'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:05:46'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:05:46'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:05:46'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:05:46'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:05:46'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:05:46'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: uBfcslyAvcmNL6K0AAAB) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:12'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:12'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:12'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:12'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:12'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:12'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:12'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:12'
}
{
  message: '🧹 Cleanup: Stopped container session for socket uBfcslyAvcmNL6K0AAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:12'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID ZfftmrTCe4Y-eNDPAAAD from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:12'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket ZfftmrTCe4Y-eNDPAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:12'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: ZfftmrTCe4Y-eNDPAAAD)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:12'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:12'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:12'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:12',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:12'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 13:06:13'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:13'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:13'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:13'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:13'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:13'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:13'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:13'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: ZfftmrTCe4Y-eNDPAAAD) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:17'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:17'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:17'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:17'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:17'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:17'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:17'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:17'
}
{
  message: '🧹 Cleanup: Stopped container session for socket ZfftmrTCe4Y-eNDPAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:17'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:18'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:18'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:18'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID Yzgm7ZBdRuJCOg9OAAAF from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:18'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket Yzgm7ZBdRuJCOg9OAAAF',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:18'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: Yzgm7ZBdRuJCOg9OAAAF)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:18'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:18'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:18'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:19',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:19'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 13:06:19'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:19'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:19'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:19'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:19'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:19'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:19'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:19'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:21'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:23'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:23'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:23'
}
{
  message: 'GET /api/projects/public - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:23'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:25'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:25'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:25'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:25'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 13:06:25'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:25'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:25'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:25'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:25'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:25'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:25'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:25'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:25'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:25'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:29'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:29'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:29'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:29'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:29'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:29'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket cgYbrxBwq1gb_UvSAAAH',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:30'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: cgYbrxBwq1gb_UvSAAAH)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:30'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 381,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:06:30'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:30'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:30'
}
{
  message: '📝 Enhanced prompt for completion (1046 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:30'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:30'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:31'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "app"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 303,\n' +
    '    "totalTokenCount": 303,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 303\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Bve3aNx7lJSEwg_Uj5_gDg"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:31'
}
{
  message: '✅ Token extracted via chunk.text(): "app"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:31'
}
{
  message: '📊 CHUNK SUMMARY: token="app", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:31'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:31'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:31'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"app","completionText":"app","done":false,"sessionId":"cgYbrxBwq1gb_UvSAAAH","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:31'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ".listen(port, () => {\\n  console.log(`Server is"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 303,\n' +
    '    "totalTokenCount": 303,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 303\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Bve3aNx7lJSEwg_Uj5_gDg"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:31'
}
{
  message: '✅ Token extracted via chunk.text(): ".listen(port, () => {\n' +
    '  console.log(`Server is"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:31'
}
{
  message: '📊 CHUNK SUMMARY: token=".listen(port, () => {\n' +
    '  console.log(`Server is", hasToken=true, tokenLength=46',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:31'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":".listen(port, () => {\\n  console.log(`Server is","completionText":"app.listen(port, () => {\\n  console.log(`Server is","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:31'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".listen(port, () => {\\n  console.log(`Server is","completionText":"app.listen(port, () => {\\n  console.log(`Server is","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:31'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".listen(port, () => {\\n  console.log(`Server is","completionText":"app.listen(port, () => {\\n  console.log(`Server is","done":false,"sessionId":"cgYbrxBwq1gb_UvSAAAH","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:31'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " listening on port ${port}`);\\n});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 302,\n' +
    '    "candidatesTokenCount": 26,\n' +
    '    "totalTokenCount": 328,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 302\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 26\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Bve3aNx7lJSEwg_Uj5_gDg"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:31'
}
{
  message: '✅ Token extracted via chunk.text(): " listening on port ${port}`);\n});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:31'
}
{
  message: '📊 CHUNK SUMMARY: token=" listening on port ${port}`);\n' +
    '});\n' +
    '", hasToken=true, tokenLength=34',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:31'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" listening on port ${port}`);\\n});\\n","completionText":"app.listen(port, () => {\\n  console.log(`Server is listening on port ${port}`);\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:31'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" listening on port ${port}`);\\n});\\n","completionText":"app.listen(port, () => {\\n  console.log(`Server is listening on port ${port}`);\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:31'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" listening on port ${port}`);\\n});\\n","completionText":"app.listen(port, () => {\\n  console.log(`Server is listening on port ${port}`);\\n});\\n","done":false,"sessionId":"cgYbrxBwq1gb_UvSAAAH","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:31'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 83',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:31'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"app.listen(port, () => {\\n  console.log(`Server is listening on port ${port}`);\\n});\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:31'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"app.listen(port, () => {\\n  console.log(`Server is listening on port ${port}`);\\n});\\n","done":true,"sessionId":"cgYbrxBwq1gb_UvSAAAH","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:31'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:31'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 83 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:31'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:31'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:35'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:35'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:35'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:35'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:35'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:35'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:42'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:42'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:42'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:42'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:42'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:42'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket FzUNcldqizN2VTHWAAAJ',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: FzUNcldqizN2VTHWAAAJ)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 57,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: '📝 Enhanced prompt for completion (722 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "const"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 185,\n' +
    '    "totalTokenCount": 185,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 185\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "E_e3aJq7BZa2qsMPi5PP8QE"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: '✅ Token extracted via chunk.text(): "const"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: '📊 CHUNK SUMMARY: token="const", hasToken=true, tokenLength=5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"const","completionText":"const","done":false,"sessionId":"FzUNcldqizN2VTHWAAAJ","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " app = express();\\nconst port = 3000;\\n\\napp"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 185,\n' +
    '    "totalTokenCount": 185,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 185\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "E_e3aJq7BZa2qsMPi5PP8QE"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: '✅ Token extracted via chunk.text(): " app = express();\n' +
    'const port = 3000;\n' +
    '\n' +
    'app"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: '📊 CHUNK SUMMARY: token=" app = express();\n' +
    'const port = 3000;\n' +
    '\n' +
    'app", hasToken=true, tokenLength=41',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" app = express();\\nconst port = 3000;\\n\\napp","completionText":"const app = express();\\nconst port = 3000;\\n\\napp","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" app = express();\\nconst port = 3000;\\n\\napp","completionText":"const app = express();\\nconst port = 3000;\\n\\napp","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" app = express();\\nconst port = 3000;\\n\\napp","completionText":"const app = express();\\nconst port = 3000;\\n\\napp","done":false,"sessionId":"FzUNcldqizN2VTHWAAAJ","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".get('/', (req, res) => res.send('Hello World!"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 185,\n' +
    '    "totalTokenCount": 185,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 185\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "E_e3aJq7BZa2qsMPi5PP8QE"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: `✅ Token extracted via chunk.text(): ".get('/', (req, res) => res.send('Hello World!"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: `📊 CHUNK SUMMARY: token=".get('/', (req, res) => res.send('Hello World!", hasToken=true, tokenLength=46`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".get('/', (req, res) => res.send('Hello World!","completionText":"const app = express();\\nconst port = 3000;\\n\\napp.get('/', (req, res) => res.send('Hello World!","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".get('/', (req, res) => res.send('Hello World!","completionText":"const app = express();\\nconst port = 3000;\\n\\napp.get('/', (req, res) => res.send('Hello World!","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".get('/', (req, res) => res.send('Hello World!","completionText":"const app = express();\\nconst port = 3000;\\n\\napp.get('/', (req, res) => res.send('Hello World!","done":false,"sessionId":"FzUNcldqizN2VTHWAAAJ","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "'));\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 184,\n' +
    '    "candidatesTokenCount": 35,\n' +
    '    "totalTokenCount": 219,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 184\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 35\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "E_e3aJq7BZa2qsMPi5PP8QE"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: `✅ Token extracted via chunk.text(): "'));\n"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: `📊 CHUNK SUMMARY: token="'));\n", hasToken=true, tokenLength=5`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"'));\\n","completionText":"const app = express();\\nconst port = 3000;\\n\\napp.get('/', (req, res) => res.send('Hello World!'));\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"'));\\n","completionText":"const app = express();\\nconst port = 3000;\\n\\napp.get('/', (req, res) => res.send('Hello World!'));\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"'));\\n","completionText":"const app = express();\\nconst port = 3000;\\n\\napp.get('/', (req, res) => res.send('Hello World!'));\\n","done":false,"sessionId":"FzUNcldqizN2VTHWAAAJ","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 97',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"const app = express();\\nconst port = 3000;\\n\\napp.get('/', (req, res) => res.send('Hello World!'));\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"const app = express();\\nconst port = 3000;\\n\\napp.get('/', (req, res) => res.send('Hello World!'));\\n","done":true,"sessionId":"FzUNcldqizN2VTHWAAAJ","tokenCount":5}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 97 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:44'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:52'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:52'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:52'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:52'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:52'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:52'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket 2xMAT4BgRCZ_aeAVAAAL',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:57'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: 2xMAT4BgRCZ_aeAVAAAL)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:57'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 158,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:06:57'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:57'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:57'
}
{
  message: '📝 Enhanced prompt for completion (823 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:57'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:57'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:58'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "app"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 222,\n' +
    '    "totalTokenCount": 222,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 222\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "IPe3aI7XGpeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:58'
}
{
  message: '✅ Token extracted via chunk.text(): "app"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:58'
}
{
  message: '📊 CHUNK SUMMARY: token="app", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:58'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:58'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:58'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"app","completionText":"app","done":false,"sessionId":"2xMAT4BgRCZ_aeAVAAAL","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:58'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ".listen(port, () => console.log(`Example app listening on port"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 222,\n' +
    '    "totalTokenCount": 222,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 222\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "IPe3aI7XGpeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:58'
}
{
  message: '✅ Token extracted via chunk.text(): ".listen(port, () => console.log(`Example app listening on port"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:58'
}
{
  message: '📊 CHUNK SUMMARY: token=".listen(port, () => console.log(`Example app listening on port", hasToken=true, tokenLength=62',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:58'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":".listen(port, () => console.log(`Example app listening on port","completionText":"app.listen(port, () => console.log(`Example app listening on port","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:58'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".listen(port, () => console.log(`Example app listening on port","completionText":"app.listen(port, () => console.log(`Example app listening on port","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:58'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".listen(port, () => console.log(`Example app listening on port","completionText":"app.listen(port, () => console.log(`Example app listening on port","done":false,"sessionId":"2xMAT4BgRCZ_aeAVAAAL","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:58'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " ${port}!`));\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 221,\n' +
    '    "candidatesTokenCount": 24,\n' +
    '    "totalTokenCount": 245,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 221\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 24\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "IPe3aI7XGpeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:58'
}
{
  message: '✅ Token extracted via chunk.text(): " ${port}!`));\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:58'
}
{
  message: '📊 CHUNK SUMMARY: token=" ${port}!`));\n", hasToken=true, tokenLength=14',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:58'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" ${port}!`));\\n","completionText":"app.listen(port, () => console.log(`Example app listening on port ${port}!`));\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:58'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" ${port}!`));\\n","completionText":"app.listen(port, () => console.log(`Example app listening on port ${port}!`));\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:58'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" ${port}!`));\\n","completionText":"app.listen(port, () => console.log(`Example app listening on port ${port}!`));\\n","done":false,"sessionId":"2xMAT4BgRCZ_aeAVAAAL","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:58'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 79',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:58'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"app.listen(port, () => console.log(`Example app listening on port ${port}!`));\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:58'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"app.listen(port, () => console.log(`Example app listening on port ${port}!`));\\n","done":true,"sessionId":"2xMAT4BgRCZ_aeAVAAAL","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:58'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:58'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 79 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:58'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:06:58'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket v00ZfSg2vb9WKAaXAAAN',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:03'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: v00ZfSg2vb9WKAaXAAAN)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:03'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 158,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:07:03'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:03'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:03'
}
{
  message: '📝 Enhanced prompt for completion (823 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:03'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:03'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:04'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "app"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 222,\n' +
    '    "totalTokenCount": 222,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 222\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Jve3aKe7Jf2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:04'
}
{
  message: '✅ Token extracted via chunk.text(): "app"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:04'
}
{
  message: '📊 CHUNK SUMMARY: token="app", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:04'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:04'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:04'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"app","completionText":"app","done":false,"sessionId":"v00ZfSg2vb9WKAaXAAAN","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:04'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ".listen(port, () => console.log(`Example app listening on port"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 222,\n' +
    '    "totalTokenCount": 222,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 222\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Jve3aKe7Jf2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:04'
}
{
  message: '✅ Token extracted via chunk.text(): ".listen(port, () => console.log(`Example app listening on port"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:04'
}
{
  message: '📊 CHUNK SUMMARY: token=".listen(port, () => console.log(`Example app listening on port", hasToken=true, tokenLength=62',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:04'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":".listen(port, () => console.log(`Example app listening on port","completionText":"app.listen(port, () => console.log(`Example app listening on port","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:04'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".listen(port, () => console.log(`Example app listening on port","completionText":"app.listen(port, () => console.log(`Example app listening on port","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:04'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".listen(port, () => console.log(`Example app listening on port","completionText":"app.listen(port, () => console.log(`Example app listening on port","done":false,"sessionId":"v00ZfSg2vb9WKAaXAAAN","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:04'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " ${port}!`));\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 221,\n' +
    '    "candidatesTokenCount": 24,\n' +
    '    "totalTokenCount": 245,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 221\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 24\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Jve3aKe7Jf2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:04'
}
{
  message: '✅ Token extracted via chunk.text(): " ${port}!`));\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:04'
}
{
  message: '📊 CHUNK SUMMARY: token=" ${port}!`));\n", hasToken=true, tokenLength=14',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:04'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" ${port}!`));\\n","completionText":"app.listen(port, () => console.log(`Example app listening on port ${port}!`));\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:04'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" ${port}!`));\\n","completionText":"app.listen(port, () => console.log(`Example app listening on port ${port}!`));\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:04'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" ${port}!`));\\n","completionText":"app.listen(port, () => console.log(`Example app listening on port ${port}!`));\\n","done":false,"sessionId":"v00ZfSg2vb9WKAaXAAAN","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:04'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 79',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:04'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"app.listen(port, () => console.log(`Example app listening on port ${port}!`));\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:04'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"app.listen(port, () => console.log(`Example app listening on port ${port}!`));\\n","done":true,"sessionId":"v00ZfSg2vb9WKAaXAAAN","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:04'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:04'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 79 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:04'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:04'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:07'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:07'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:07'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:07'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:07'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:07'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:09'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:09'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:09'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:09'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:09'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:09'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket soOLc_WlIEf4SOV9AAAP',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:11'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: soOLc_WlIEf4SOV9AAAP)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:11'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 467,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:07:11'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:11'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:11'
}
{
  message: '📝 Enhanced prompt for completion (1132 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:11'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:11'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:11'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 330,\n' +
    '    "totalTokenCount": 330,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 330\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Lve3aJm_Dpa2qsMPi5PP8QE"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:11'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:11'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:11'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:11'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:11'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"\\n","done":false,"sessionId":"soOLc_WlIEf4SOV9AAAP","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:11'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ""\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 329,\n' +
    '    "candidatesTokenCount": 1,\n' +
    '    "totalTokenCount": 330,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 329\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 1\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Lve3aJm_Dpa2qsMPi5PP8QE"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:11'
}
{
  message: '✅ Token extracted via chunk.text(): ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:11'
}
{
  message: '✅ Token extracted via candidates: ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:11'
}
{
  message: '📊 CHUNK SUMMARY: token="", hasToken=false, tokenLength=0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:11'
}
{
  message: '⚠️ EMPTY TOKEN - chunk keys: candidates, usageMetadata, modelVersion, responseId, text, functionCall, functionCalls',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:11'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:11'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:11'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"\\n","done":true,"sessionId":"soOLc_WlIEf4SOV9AAAP","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:11'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:11'
}
{
  message: 'Completion finished for adnan99@gmail.com: 2 tokens, 1 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:11'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:11'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:15'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:15'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:15'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:15'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket 70jsjhm8JnX6QzZOAAAR',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:15'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: 70jsjhm8JnX6QzZOAAAR)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:15'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 179,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:07:15'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:15'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:15'
}
{
  message: '📝 Enhanced prompt for completion (844 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:15'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:15'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:15'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:15'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:16'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "app"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 226,\n' +
    '    "totalTokenCount": 226,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 226\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Mve3aIa-KZSUhMIP1I-f4A4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:16'
}
{
  message: '✅ Token extracted via chunk.text(): "app"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:16'
}
{
  message: '📊 CHUNK SUMMARY: token="app", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:16'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"app","completionText":"app","done":false,"sessionId":"70jsjhm8JnX6QzZOAAAR","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:16'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".get('/', (req, res) => res.send('Hello World!"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 226,\n' +
    '    "totalTokenCount": 226,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 226\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Mve3aIa-KZSUhMIP1I-f4A4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:16'
}
{
  message: `✅ Token extracted via chunk.text(): ".get('/', (req, res) => res.send('Hello World!"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:16'
}
{
  message: `📊 CHUNK SUMMARY: token=".get('/', (req, res) => res.send('Hello World!", hasToken=true, tokenLength=46`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:16'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".get('/', (req, res) => res.send('Hello World!","completionText":"app.get('/', (req, res) => res.send('Hello World!","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:16'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".get('/', (req, res) => res.send('Hello World!","completionText":"app.get('/', (req, res) => res.send('Hello World!","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:16'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".get('/', (req, res) => res.send('Hello World!","completionText":"app.get('/', (req, res) => res.send('Hello World!","done":false,"sessionId":"70jsjhm8JnX6QzZOAAAR","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:16'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "'));\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 225,\n' +
    '    "candidatesTokenCount": 19,\n' +
    '    "totalTokenCount": 244,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 225\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 19\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Mve3aIa-KZSUhMIP1I-f4A4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:16'
}
{
  message: `✅ Token extracted via chunk.text(): "'));\n"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:16'
}
{
  message: `📊 CHUNK SUMMARY: token="'));\n", hasToken=true, tokenLength=5`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:16'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"'));\\n","completionText":"app.get('/', (req, res) => res.send('Hello World!'));\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:16'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"'));\\n","completionText":"app.get('/', (req, res) => res.send('Hello World!'));\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:16'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"'));\\n","completionText":"app.get('/', (req, res) => res.send('Hello World!'));\\n","done":false,"sessionId":"70jsjhm8JnX6QzZOAAAR","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:16'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 54',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:16'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"app.get('/', (req, res) => res.send('Hello World!'));\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:16'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"app.get('/', (req, res) => res.send('Hello World!'));\\n","done":true,"sessionId":"70jsjhm8JnX6QzZOAAAR","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:16'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:16'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 54 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:16'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:16'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:19'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:19'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:19'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:19'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:19'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:07:19'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: Yzgm7ZBdRuJCOg9OAAAF) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:01'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:01'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:01'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:01'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:01'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:01'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:01'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:01'
}
{
  message: '🧹 Cleanup: Stopped container session for socket Yzgm7ZBdRuJCOg9OAAAF',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:01'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:01'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:02'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:02'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:02'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:02'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID bvuTQixhRXfBVbYrAAAT from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:02'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket bvuTQixhRXfBVbYrAAAT',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:02'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: bvuTQixhRXfBVbYrAAAT)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:02'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:02'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:02'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:02',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:02'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:02'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 13:08:02'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:02'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:02'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:02'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:02'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:02'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:02'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:02'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket Xc3Ri3cE3W7sYjD5AAAV',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:04'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: Xc3Ri3cE3W7sYjD5AAAV)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:04'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 234,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:08:04'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:04'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:04'
}
{
  message: '📝 Enhanced prompt for completion (899 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:04'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:04'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:04'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:05'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:05'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "app"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 245,\n' +
    '    "totalTokenCount": 245,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 245\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Y_e3aNCqKL3qqsMPtMbK0Q0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:05'
}
{
  message: '✅ Token extracted via chunk.text(): "app"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:05'
}
{
  message: '📊 CHUNK SUMMARY: token="app", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:05'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:05'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:05'
}
{
  message: 'Completion cancelled for socket Xc3Ri3cE3W7sYjD5AAAV',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:05'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:05'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:06'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:06'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:06'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:06'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:06'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:06'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket mlrJLJUeBaTplvn7AAAX',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: mlrJLJUeBaTplvn7AAAX)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 238,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: '📝 Enhanced prompt for completion (903 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "app"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 249,\n' +
    '    "totalTokenCount": 249,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 249\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Z_e3aMGnNfzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: '✅ Token extracted via chunk.text(): "app"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: '📊 CHUNK SUMMARY: token="app", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"app","completionText":"app","done":false,"sessionId":"mlrJLJUeBaTplvn7AAAX","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".get('/about', (req, res) => res.send('About"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 249,\n' +
    '    "totalTokenCount": 249,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 249\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Z_e3aMGnNfzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: `✅ Token extracted via chunk.text(): ".get('/about', (req, res) => res.send('About"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: `📊 CHUNK SUMMARY: token=".get('/about', (req, res) => res.send('About", hasToken=true, tokenLength=44`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".get('/about', (req, res) => res.send('About","completionText":"app.get('/about', (req, res) => res.send('About","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".get('/about', (req, res) => res.send('About","completionText":"app.get('/about', (req, res) => res.send('About","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".get('/about', (req, res) => res.send('About","completionText":"app.get('/about', (req, res) => res.send('About","done":false,"sessionId":"mlrJLJUeBaTplvn7AAAX","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": " page'));\\napp.use((req, res) => res.status("\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 249,\n' +
    '    "totalTokenCount": 249,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 249\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Z_e3aMGnNfzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: `✅ Token extracted via chunk.text(): " page'));\n` +
    'app.use((req, res) => res.status("',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: `📊 CHUNK SUMMARY: token=" page'));\n` +
    'app.use((req, res) => res.status(", hasToken=true, tokenLength=43',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":" page'));\\napp.use((req, res) => res.status(","completionText":"app.get('/about', (req, res) => res.send('About page'));\\napp.use((req, res) => res.status(","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":" page'));\\napp.use((req, res) => res.status(","completionText":"app.get('/about', (req, res) => res.send('About page'));\\napp.use((req, res) => res.status(","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":" page'));\\napp.use((req, res) => res.status(","completionText":"app.get('/about', (req, res) => res.send('About page'));\\napp.use((req, res) => res.status(","done":false,"sessionId":"mlrJLJUeBaTplvn7AAAX","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "404).send('Not Found'));\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 248,\n' +
    '    "candidatesTokenCount": 43,\n' +
    '    "totalTokenCount": 291,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 248\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 43\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Z_e3aMGnNfzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: `✅ Token extracted via chunk.text(): "404).send('Not Found'));\n"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: `📊 CHUNK SUMMARY: token="404).send('Not Found'));\n` +
    '", hasToken=true, tokenLength=25',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"404).send('Not Found'));\\n","completionText":"app.get('/about', (req, res) => res.send('About page'));\\napp.use((req, res) => res.status(404).send('Not Found'));\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"404).send('Not Found'));\\n","completionText":"app.get('/about', (req, res) => res.send('About page'));\\napp.use((req, res) => res.status(404).send('Not Found'));\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"404).send('Not Found'));\\n","completionText":"app.get('/about', (req, res) => res.send('About page'));\\napp.use((req, res) => res.status(404).send('Not Found'));\\n","done":false,"sessionId":"mlrJLJUeBaTplvn7AAAX","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 115',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"app.get('/about', (req, res) => res.send('About page'));\\napp.use((req, res) => res.status(404).send('Not Found'));\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"app.get('/about', (req, res) => res.send('About page'));\\napp.use((req, res) => res.status(404).send('Not Found'));\\n","done":true,"sessionId":"mlrJLJUeBaTplvn7AAAX","tokenCount":5}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 115 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:09'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:13'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:13'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:13'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:13'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:13'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:13'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:14'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:14'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:14'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:14'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:14'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:14'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket lQWacqUYbH-E7JwsAAAZ',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:16'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: lQWacqUYbH-E7JwsAAAZ)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:16'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 357,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:08:16'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:16'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:16'
}
{
  message: '📝 Enhanced prompt for completion (1022 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:16'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:16'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:16'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "app"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 294,\n' +
    '    "totalTokenCount": 294,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 294\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "b_e3aI-cFb2XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:16'
}
{
  message: '✅ Token extracted via chunk.text(): "app"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:16'
}
{
  message: '📊 CHUNK SUMMARY: token="app", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:16'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"app","completionText":"app","done":false,"sessionId":"lQWacqUYbH-E7JwsAAAZ","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:16'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ".listen(port, () => {\\n  console.log(`Server is"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 294,\n' +
    '    "totalTokenCount": 294,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 294\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "b_e3aI-cFb2XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:17'
}
{
  message: '✅ Token extracted via chunk.text(): ".listen(port, () => {\n' +
    '  console.log(`Server is"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:17'
}
{
  message: '📊 CHUNK SUMMARY: token=".listen(port, () => {\n' +
    '  console.log(`Server is", hasToken=true, tokenLength=46',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:17'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":".listen(port, () => {\\n  console.log(`Server is","completionText":"app.listen(port, () => {\\n  console.log(`Server is","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:17'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".listen(port, () => {\\n  console.log(`Server is","completionText":"app.listen(port, () => {\\n  console.log(`Server is","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:17'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".listen(port, () => {\\n  console.log(`Server is","completionText":"app.listen(port, () => {\\n  console.log(`Server is","done":false,"sessionId":"lQWacqUYbH-E7JwsAAAZ","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:17'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " listening on port ${port}`);\\n});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 293,\n' +
    '    "candidatesTokenCount": 26,\n' +
    '    "totalTokenCount": 319,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 293\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 26\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "b_e3aI-cFb2XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:17'
}
{
  message: '✅ Token extracted via chunk.text(): " listening on port ${port}`);\n});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:17'
}
{
  message: '📊 CHUNK SUMMARY: token=" listening on port ${port}`);\n' +
    '});\n' +
    '", hasToken=true, tokenLength=34',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:17'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" listening on port ${port}`);\\n});\\n","completionText":"app.listen(port, () => {\\n  console.log(`Server is listening on port ${port}`);\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:17'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" listening on port ${port}`);\\n});\\n","completionText":"app.listen(port, () => {\\n  console.log(`Server is listening on port ${port}`);\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:17'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" listening on port ${port}`);\\n});\\n","completionText":"app.listen(port, () => {\\n  console.log(`Server is listening on port ${port}`);\\n});\\n","done":false,"sessionId":"lQWacqUYbH-E7JwsAAAZ","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:17'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 83',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:17'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"app.listen(port, () => {\\n  console.log(`Server is listening on port ${port}`);\\n});\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:17'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"app.listen(port, () => {\\n  console.log(`Server is listening on port ${port}`);\\n});\\n","done":true,"sessionId":"lQWacqUYbH-E7JwsAAAZ","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:17'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:17'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 83 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:17'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:17'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:20'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:20'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:20'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:20'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:20'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:20'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket 8LXK0JujhvIq345sAAAb',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:21'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: 8LXK0JujhvIq345sAAAb)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:21'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 445,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:08:21'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:21'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:21'
}
{
  message: '📝 Enhanced prompt for completion (1110 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:21'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:21'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:21'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 323,\n' +
    '    "totalTokenCount": 323,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 323\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "c_e3aMHMNZSUhMIP1I-f4A4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:21'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:21'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:21'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:21'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:21'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"\\n","done":false,"sessionId":"8LXK0JujhvIq345sAAAb","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:21'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ""\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 322,\n' +
    '    "candidatesTokenCount": 1,\n' +
    '    "totalTokenCount": 323,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 322\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 1\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "c_e3aMHMNZSUhMIP1I-f4A4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:21'
}
{
  message: '✅ Token extracted via chunk.text(): ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:21'
}
{
  message: '✅ Token extracted via candidates: ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:21'
}
{
  message: '📊 CHUNK SUMMARY: token="", hasToken=false, tokenLength=0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:21'
}
{
  message: '⚠️ EMPTY TOKEN - chunk keys: candidates, usageMetadata, modelVersion, responseId, text, functionCall, functionCalls',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:21'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:21'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:21'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"\\n","done":true,"sessionId":"8LXK0JujhvIq345sAAAb","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:21'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:21'
}
{
  message: 'Completion finished for adnan99@gmail.com: 2 tokens, 1 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:21'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:21'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket Rl69pNJCOxo0PGopAAAd',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:27'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: Rl69pNJCOxo0PGopAAAd)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:27'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 445,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:08:27'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:27'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:27'
}
{
  message: '📝 Enhanced prompt for completion (1110 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:27'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:27'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:27'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 323,\n' +
    '    "totalTokenCount": 323,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 323\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "eve3aK7NEp2CsbQPrYmcmAo"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:27'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:27'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:27'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"\\n","done":false,"sessionId":"Rl69pNJCOxo0PGopAAAd","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:27'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ""\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 322,\n' +
    '    "candidatesTokenCount": 1,\n' +
    '    "totalTokenCount": 323,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 322\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 1\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "eve3aK7NEp2CsbQPrYmcmAo"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:27'
}
{
  message: '✅ Token extracted via chunk.text(): ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:27'
}
{
  message: '✅ Token extracted via candidates: ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:27'
}
{
  message: '📊 CHUNK SUMMARY: token="", hasToken=false, tokenLength=0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:27'
}
{
  message: '⚠️ EMPTY TOKEN - chunk keys: candidates, usageMetadata, modelVersion, responseId, text, functionCall, functionCalls',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:27'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:27'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:27'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"\\n","done":true,"sessionId":"Rl69pNJCOxo0PGopAAAd","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:27'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:27'
}
{
  message: 'Completion finished for adnan99@gmail.com: 2 tokens, 1 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:27'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:27'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket p1pBlwEobw6b22OmAAAf',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:33'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: p1pBlwEobw6b22OmAAAf)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:33'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 445,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:08:33'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:33'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:33'
}
{
  message: '📝 Enhanced prompt for completion (1110 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:33'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:33'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:33'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:33'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:33'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 323,\n' +
    '    "totalTokenCount": 323,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 323\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "gPe3aMuyC72XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:33'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:33'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:33'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:33'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:33'
}
{
  message: 'Completion cancelled for socket p1pBlwEobw6b22OmAAAf',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:33'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:33'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:34'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:34'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:34'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:34'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:34'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:34'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:35'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:35'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:35'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:35'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:35'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:35'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:39'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:39'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:39'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:39'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:39'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:39'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket 3X3ufORTwztKtMhTAAAh',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:39'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: 3X3ufORTwztKtMhTAAAh)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:39'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 451,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:08:39'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:39'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:39'
}
{
  message: '📝 Enhanced prompt for completion (1116 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:39'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:39'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:41'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "});"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 329,\n' +
    '    "totalTokenCount": 329,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 329\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "h_e3aLaYIfzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:41'
}
{
  message: '✅ Token extracted via chunk.text(): "});"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:41'
}
{
  message: '📊 CHUNK SUMMARY: token="});", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:41'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"});","completionText":"});","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:41'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"});","completionText":"});","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:41'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"});","completionText":"});","done":false,"sessionId":"3X3ufORTwztKtMhTAAAh","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:41'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 328,\n' +
    '    "candidatesTokenCount": 2,\n' +
    '    "totalTokenCount": 330,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 328\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 2\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "h_e3aLaYIfzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:41'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:41'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:41'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:41'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:41'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"});\\n","done":false,"sessionId":"3X3ufORTwztKtMhTAAAh","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:41'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 4',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:41'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"});\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:41'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"});\\n","done":true,"sessionId":"3X3ufORTwztKtMhTAAAh","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:41'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:41'
}
{
  message: 'Completion finished for adnan99@gmail.com: 3 tokens, 4 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:41'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:41'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:43'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:43'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:43'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:43'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:43'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:43'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:49'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:49'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:49'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:49'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:49'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:49'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket Ff-rmWH1qIpBSPV0AAAj',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:50'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: Ff-rmWH1qIpBSPV0AAAj)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:50'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 453,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:08:50'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:50'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:50'
}
{
  message: '📝 Enhanced prompt for completion (1118 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:50'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:50'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:50'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 331,\n' +
    '    "totalTokenCount": 331,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 331\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "kfe3aJ7nE73qqsMPtMbK0Q0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:50'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:50'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:50'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:50'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:50'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"\\n","done":false,"sessionId":"Ff-rmWH1qIpBSPV0AAAj","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:50'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "process.on('unhandledRejection', (reason, p) => {\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 331,\n' +
    '    "totalTokenCount": 331,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 331\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "kfe3aJ7nE73qqsMPtMbK0Q0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:51'
}
{
  message: `✅ Token extracted via chunk.text(): "process.on('unhandledRejection', (reason, p) => {\n` +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:51'
}
{
  message: `📊 CHUNK SUMMARY: token="process.on('unhandledRejection', (reason, p) => {\n` +
    '", hasToken=true, tokenLength=50',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:51'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"process.on('unhandledRejection', (reason, p) => {\\n","completionText":"\\nprocess.on('unhandledRejection', (reason, p) => {\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:51'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"process.on('unhandledRejection', (reason, p) => {\\n","completionText":"\\nprocess.on('unhandledRejection', (reason, p) => {\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:51'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"process.on('unhandledRejection', (reason, p) => {\\n","completionText":"\\nprocess.on('unhandledRejection', (reason, p) => {\\n","done":false,"sessionId":"Ff-rmWH1qIpBSPV0AAAj","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:51'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "  console.error('Unhandled Rejection at:', p, 'reason:', reason"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 331,\n' +
    '    "totalTokenCount": 331,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 331\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "kfe3aJ7nE73qqsMPtMbK0Q0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:51'
}
{
  message: `✅ Token extracted via chunk.text(): "  console.error('Unhandled Rejection at:', p, 'reason:', reason"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:51'
}
{
  message: `📊 CHUNK SUMMARY: token="  console.error('Unhandled Rejection at:', p, 'reason:', reason", hasToken=true, tokenLength=63`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:51'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"  console.error('Unhandled Rejection at:', p, 'reason:', reason","completionText":"\\nprocess.on('unhandledRejection', (reason, p) => {\\n  console.error('Unhandled Rejection at:', p, 'reason:', reason","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:51'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"  console.error('Unhandled Rejection at:', p, 'reason:', reason","completionText":"\\nprocess.on('unhandledRejection', (reason, p) => {\\n  console.error('Unhandled Rejection at:', p, 'reason:', reason","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:51'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"  console.error('Unhandled Rejection at:', p, 'reason:', reason","completionText":"\\nprocess.on('unhandledRejection', (reason, p) => {\\n  console.error('Unhandled Rejection at:', p, 'reason:', reason","done":false,"sessionId":"Ff-rmWH1qIpBSPV0AAAj","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:51'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ");\\n});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 330,\n' +
    '    "candidatesTokenCount": 37,\n' +
    '    "totalTokenCount": 367,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 330\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 37\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "kfe3aJ7nE73qqsMPtMbK0Q0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:51'
}
{
  message: '✅ Token extracted via chunk.text(): ");\n});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:51'
}
{
  message: '📊 CHUNK SUMMARY: token=");\n});\n", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:51'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":");\\n});\\n","completionText":"\\nprocess.on('unhandledRejection', (reason, p) => {\\n  console.error('Unhandled Rejection at:', p, 'reason:', reason);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:51'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":");\\n});\\n","completionText":"\\nprocess.on('unhandledRejection', (reason, p) => {\\n  console.error('Unhandled Rejection at:', p, 'reason:', reason);\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:51'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":");\\n});\\n","completionText":"\\nprocess.on('unhandledRejection', (reason, p) => {\\n  console.error('Unhandled Rejection at:', p, 'reason:', reason);\\n});\\n","done":false,"sessionId":"Ff-rmWH1qIpBSPV0AAAj","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:51'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 121',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:51'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"\\nprocess.on('unhandledRejection', (reason, p) => {\\n  console.error('Unhandled Rejection at:', p, 'reason:', reason);\\n});\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:51'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"\\nprocess.on('unhandledRejection', (reason, p) => {\\n  console.error('Unhandled Rejection at:', p, 'reason:', reason);\\n});\\n","done":true,"sessionId":"Ff-rmWH1qIpBSPV0AAAj","tokenCount":5}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:51'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:51'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 121 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:51'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:51'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:53'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:53'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:53'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:53'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:53'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:08:53'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket lEY2FOAIMQ9vMthbAAAl',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:02'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: lEY2FOAIMQ9vMthbAAAl)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:02'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 578,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:09:02'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:02'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:02'
}
{
  message: '📝 Enhanced prompt for completion (1243 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:02'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:02'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:03'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "});"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 369,\n' +
    '    "totalTokenCount": 369,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 369\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "nfe3aKP6Mp2CsbQPrYmcmAo"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:03'
}
{
  message: '✅ Token extracted via chunk.text(): "});"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:03'
}
{
  message: '📊 CHUNK SUMMARY: token="});", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:03'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"});","completionText":"});","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:03'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"});","completionText":"});","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:03'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"});","completionText":"});","done":false,"sessionId":"lEY2FOAIMQ9vMthbAAAl","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:03'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 368,\n' +
    '    "candidatesTokenCount": 2,\n' +
    '    "totalTokenCount": 370,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 368\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 2\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "nfe3aKP6Mp2CsbQPrYmcmAo"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:03'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:03'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:03'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:03'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:03'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"});\\n","done":false,"sessionId":"lEY2FOAIMQ9vMthbAAAl","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:03'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 4',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:03'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"});\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:03'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"});\\n","done":true,"sessionId":"lEY2FOAIMQ9vMthbAAAl","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:03'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:03'
}
{
  message: 'Completion finished for adnan99@gmail.com: 3 tokens, 4 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:03'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:03'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:08'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:08'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:08'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:08'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:08'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:08'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket X7Mkg1KOpkUgqVoaAAAn',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:10'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: X7Mkg1KOpkUgqVoaAAAn)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:10'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 583,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:09:10'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:10'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:10'
}
{
  message: '📝 Enhanced prompt for completion (1248 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:10'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:10'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:10'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:10'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:11'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 371,\n' +
    '    "totalTokenCount": 371,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 371\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "pfe3aPv9L5eThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:11'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:11'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:11'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:11'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:11'
}
{
  message: 'Completion cancelled for socket X7Mkg1KOpkUgqVoaAAAn',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:11'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:11'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:12'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:12'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:12'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:12'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:12'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:12'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket 8ZibwjbrQX8BQD4lAAAp',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:14'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: 8ZibwjbrQX8BQD4lAAAp)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:14'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 582,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:09:14'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:14'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:14'
}
{
  message: '📝 Enhanced prompt for completion (1247 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:14'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:14'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:14'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 373,\n' +
    '    "totalTokenCount": 373,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 373\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "qfe3aJqDB_zwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:14'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:14'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:14'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:14'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:14'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"\\n","done":false,"sessionId":"8ZibwjbrQX8BQD4lAAAp","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:14'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 372,\n' +
    '    "candidatesTokenCount": 3,\n' +
    '    "totalTokenCount": 375,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 372\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 3\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "qfe3aJqDB_zwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:14'
}
{
  message: '✅ Token extracted via chunk.text(): "});\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:14'
}
{
  message: '📊 CHUNK SUMMARY: token="});\n", hasToken=true, tokenLength=4',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:14'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"});\\n","completionText":"\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:14'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"});\\n","completionText":"\\n});\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:14'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"});\\n","completionText":"\\n});\\n","done":false,"sessionId":"8ZibwjbrQX8BQD4lAAAp","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:14'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:14'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"\\n});\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:14'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"\\n});\\n","done":true,"sessionId":"8ZibwjbrQX8BQD4lAAAp","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:14'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:14'
}
{
  message: 'Completion finished for adnan99@gmail.com: 3 tokens, 5 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:14'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:14'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:16'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:16'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:16'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:16'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:16'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:16'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:19'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:19'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:19'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:19'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:19'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:19'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:23'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:23'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:23'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:23'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:23'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:23'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:29'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:29'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:29'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:29'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:29'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:29'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket ddzuav6hGPNQbFOGAAAr',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:31'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: ddzuav6hGPNQbFOGAAAr)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:31'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 22,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:09:31'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:31'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:31'
}
{
  message: '📝 Enhanced prompt for completion (687 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:31'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:31'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "const"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 179,\n' +
    '    "totalTokenCount": 179,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 179\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "uve3aIOYIpeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: '✅ Token extracted via chunk.text(): "const"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: '📊 CHUNK SUMMARY: token="const", hasToken=true, tokenLength=5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"const","completionText":"const","done":false,"sessionId":"ddzuav6hGPNQbFOGAAAr","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " myArray = [1, 2, 3, 4, "\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 179,\n' +
    '    "totalTokenCount": 179,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 179\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "uve3aIOYIpeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: '✅ Token extracted via chunk.text(): " myArray = [1, 2, 3, 4, "',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: '📊 CHUNK SUMMARY: token=" myArray = [1, 2, 3, 4, ", hasToken=true, tokenLength=24',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" myArray = [1, 2, 3, 4, ","completionText":"const myArray = [1, 2, 3, 4, ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" myArray = [1, 2, 3, 4, ","completionText":"const myArray = [1, 2, 3, 4, ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" myArray = [1, 2, 3, 4, ","completionText":"const myArray = [1, 2, 3, 4, ","done":false,"sessionId":"ddzuav6hGPNQbFOGAAAr","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "5];\\nconst doubledArray = myArray.map(item => item *"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 179,\n' +
    '    "totalTokenCount": 179,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 179\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "uve3aIOYIpeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: '✅ Token extracted via chunk.text(): "5];\n' +
    'const doubledArray = myArray.map(item => item *"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: '📊 CHUNK SUMMARY: token="5];\n' +
    'const doubledArray = myArray.map(item => item *", hasToken=true, tokenLength=51',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"5];\\nconst doubledArray = myArray.map(item => item *","completionText":"const myArray = [1, 2, 3, 4, 5];\\nconst doubledArray = myArray.map(item => item *","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"5];\\nconst doubledArray = myArray.map(item => item *","completionText":"const myArray = [1, 2, 3, 4, 5];\\nconst doubledArray = myArray.map(item => item *","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"5];\\nconst doubledArray = myArray.map(item => item *","completionText":"const myArray = [1, 2, 3, 4, 5];\\nconst doubledArray = myArray.map(item => item *","done":false,"sessionId":"ddzuav6hGPNQbFOGAAAr","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " 2);\\nconsole.log(doubledArray);\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 178,\n' +
    '    "candidatesTokenCount": 46,\n' +
    '    "totalTokenCount": 224,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 178\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 46\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "uve3aIOYIpeThMIPg4vwyQ8"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: '✅ Token extracted via chunk.text(): " 2);\nconsole.log(doubledArray);\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: '📊 CHUNK SUMMARY: token=" 2);\n' +
    'console.log(doubledArray);\n' +
    '", hasToken=true, tokenLength=32',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" 2);\\nconsole.log(doubledArray);\\n","completionText":"const myArray = [1, 2, 3, 4, 5];\\nconst doubledArray = myArray.map(item => item * 2);\\nconsole.log(doubledArray);\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" 2);\\nconsole.log(doubledArray);\\n","completionText":"const myArray = [1, 2, 3, 4, 5];\\nconst doubledArray = myArray.map(item => item * 2);\\nconsole.log(doubledArray);\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" 2);\\nconsole.log(doubledArray);\\n","completionText":"const myArray = [1, 2, 3, 4, 5];\\nconst doubledArray = myArray.map(item => item * 2);\\nconsole.log(doubledArray);\\n","done":false,"sessionId":"ddzuav6hGPNQbFOGAAAr","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 112',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"const myArray = [1, 2, 3, 4, 5];\\nconst doubledArray = myArray.map(item => item * 2);\\nconsole.log(doubledArray);\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"const myArray = [1, 2, 3, 4, 5];\\nconst doubledArray = myArray.map(item => item * 2);\\nconsole.log(doubledArray);\\n","done":true,"sessionId":"ddzuav6hGPNQbFOGAAAr","tokenCount":5}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 112 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:32'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:34'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:34'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:34'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:34'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:34'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:34'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:35'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:35'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:35'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:35'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:35'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:35'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket IcgLNg1tP8SaWSbJAAAt',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:36'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: IcgLNg1tP8SaWSbJAAAt)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:36'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 139,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:09:36'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:36'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:36'
}
{
  message: '📝 Enhanced prompt for completion (804 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:36'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:36'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:37'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "const"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 227,\n' +
    '    "totalTokenCount": 227,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 227\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "v_e3aN6zLv2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:37'
}
{
  message: '✅ Token extracted via chunk.text(): "const"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:37'
}
{
  message: '📊 CHUNK SUMMARY: token="const", hasToken=true, tokenLength=5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:37'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:37'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:37'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"const","completionText":"const","done":false,"sessionId":"IcgLNg1tP8SaWSbJAAAt","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:37'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " evenNumbers = doubledArray.filter(item => item % 2 === "\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 227,\n' +
    '    "totalTokenCount": 227,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 227\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "v_e3aN6zLv2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:37'
}
{
  message: '✅ Token extracted via chunk.text(): " evenNumbers = doubledArray.filter(item => item % 2 === "',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:37'
}
{
  message: '📊 CHUNK SUMMARY: token=" evenNumbers = doubledArray.filter(item => item % 2 === ", hasToken=true, tokenLength=56',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:37'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" evenNumbers = doubledArray.filter(item => item % 2 === ","completionText":"const evenNumbers = doubledArray.filter(item => item % 2 === ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:37'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" evenNumbers = doubledArray.filter(item => item % 2 === ","completionText":"const evenNumbers = doubledArray.filter(item => item % 2 === ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:37'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" evenNumbers = doubledArray.filter(item => item % 2 === ","completionText":"const evenNumbers = doubledArray.filter(item => item % 2 === ","done":false,"sessionId":"IcgLNg1tP8SaWSbJAAAt","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:37'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "0);\\nconsole.log(evenNumbers);\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 226,\n' +
    '    "candidatesTokenCount": 28,\n' +
    '    "totalTokenCount": 254,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 226\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 28\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "v_e3aN6zLv2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:37'
}
{
  message: '✅ Token extracted via chunk.text(): "0);\nconsole.log(evenNumbers);\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:37'
}
{
  message: '📊 CHUNK SUMMARY: token="0);\n' +
    'console.log(evenNumbers);\n' +
    '", hasToken=true, tokenLength=30',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:37'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"0);\\nconsole.log(evenNumbers);\\n","completionText":"const evenNumbers = doubledArray.filter(item => item % 2 === 0);\\nconsole.log(evenNumbers);\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:37'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"0);\\nconsole.log(evenNumbers);\\n","completionText":"const evenNumbers = doubledArray.filter(item => item % 2 === 0);\\nconsole.log(evenNumbers);\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:37'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"0);\\nconsole.log(evenNumbers);\\n","completionText":"const evenNumbers = doubledArray.filter(item => item % 2 === 0);\\nconsole.log(evenNumbers);\\n","done":false,"sessionId":"IcgLNg1tP8SaWSbJAAAt","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:37'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 91',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:37'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"const evenNumbers = doubledArray.filter(item => item % 2 === 0);\\nconsole.log(evenNumbers);\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:37'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"const evenNumbers = doubledArray.filter(item => item % 2 === 0);\\nconsole.log(evenNumbers);\\n","done":true,"sessionId":"IcgLNg1tP8SaWSbJAAAt","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:37'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:37'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 91 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:37'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:37'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:39'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:39'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:39'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:39'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:39'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:39'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:40'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:40'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:40'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:40'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:40'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:40'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket QuVEaexAVEHE7vnnAAAv',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: QuVEaexAVEHE7vnnAAAv)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 234,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '📝 Enhanced prompt for completion (899 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "const"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 257,\n' +
    '    "totalTokenCount": 257,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 257\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "w_e3aLHiNr2XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '✅ Token extracted via chunk.text(): "const"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '📊 CHUNK SUMMARY: token="const", hasToken=true, tokenLength=5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"const","completionText":"const","done":false,"sessionId":"QuVEaexAVEHE7vnnAAAv","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " sumOfEvens = evenNumbers.reduce((sum, item) => sum"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 257,\n' +
    '    "totalTokenCount": 257,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 257\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "w_e3aLHiNr2XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '✅ Token extracted via chunk.text(): " sumOfEvens = evenNumbers.reduce((sum, item) => sum"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '📊 CHUNK SUMMARY: token=" sumOfEvens = evenNumbers.reduce((sum, item) => sum", hasToken=true, tokenLength=51',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" sumOfEvens = evenNumbers.reduce((sum, item) => sum","completionText":"const sumOfEvens = evenNumbers.reduce((sum, item) => sum","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" sumOfEvens = evenNumbers.reduce((sum, item) => sum","completionText":"const sumOfEvens = evenNumbers.reduce((sum, item) => sum","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" sumOfEvens = evenNumbers.reduce((sum, item) => sum","completionText":"const sumOfEvens = evenNumbers.reduce((sum, item) => sum","done":false,"sessionId":"QuVEaexAVEHE7vnnAAAv","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " + item, 0);\\nconsole.log(sumOfEvens);"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 257,\n' +
    '    "totalTokenCount": 257,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 257\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "w_e3aLHiNr2XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '✅ Token extracted via chunk.text(): " + item, 0);\n' +
    'console.log(sumOfEvens);"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '📊 CHUNK SUMMARY: token=" + item, 0);\n' +
    'console.log(sumOfEvens);", hasToken=true, tokenLength=37',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" + item, 0);\\nconsole.log(sumOfEvens);","completionText":"const sumOfEvens = evenNumbers.reduce((sum, item) => sum + item, 0);\\nconsole.log(sumOfEvens);","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" + item, 0);\\nconsole.log(sumOfEvens);","completionText":"const sumOfEvens = evenNumbers.reduce((sum, item) => sum + item, 0);\\nconsole.log(sumOfEvens);","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" + item, 0);\\nconsole.log(sumOfEvens);","completionText":"const sumOfEvens = evenNumbers.reduce((sum, item) => sum + item, 0);\\nconsole.log(sumOfEvens);","done":false,"sessionId":"QuVEaexAVEHE7vnnAAAv","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 256,\n' +
    '    "candidatesTokenCount": 34,\n' +
    '    "totalTokenCount": 290,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 256\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 34\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "w_e3aLHiNr2XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"const sumOfEvens = evenNumbers.reduce((sum, item) => sum + item, 0);\\nconsole.log(sumOfEvens);\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"const sumOfEvens = evenNumbers.reduce((sum, item) => sum + item, 0);\\nconsole.log(sumOfEvens);\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"\\n","completionText":"const sumOfEvens = evenNumbers.reduce((sum, item) => sum + item, 0);\\nconsole.log(sumOfEvens);\\n","done":false,"sessionId":"QuVEaexAVEHE7vnnAAAv","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 94',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"const sumOfEvens = evenNumbers.reduce((sum, item) => sum + item, 0);\\nconsole.log(sumOfEvens);\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"const sumOfEvens = evenNumbers.reduce((sum, item) => sum + item, 0);\\nconsole.log(sumOfEvens);\\n","done":true,"sessionId":"QuVEaexAVEHE7vnnAAAv","tokenCount":5}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 94 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:41'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:43'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:43'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:43'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:43'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:43'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:43'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:44'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:44'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:44'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:44'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:44'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:44'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket x7uHPGP_xuronZscAAAx',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:44'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: x7uHPGP_xuronZscAAAx)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:44'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 332,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:09:44'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:44'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:44'
}
{
  message: '📝 Enhanced prompt for completion (997 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:44'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:44'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:45'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "const"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 293,\n' +
    '    "totalTokenCount": 293,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 293\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "x_e3aICuFv2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:45'
}
{
  message: '✅ Token extracted via chunk.text(): "const"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:45'
}
{
  message: '📊 CHUNK SUMMARY: token="const", hasToken=true, tokenLength=5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:45'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:45'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:45'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"const","completionText":"const","done":false,"sessionId":"x7uHPGP_xuronZscAAAx","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:45'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " averageOfEvens = sumOfEvens / evenNumbers.length;\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 293,\n' +
    '    "totalTokenCount": 293,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 293\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "x_e3aICuFv2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:45'
}
{
  message: '✅ Token extracted via chunk.text(): " averageOfEvens = sumOfEvens / evenNumbers.length;\n' +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:45'
}
{
  message: '📊 CHUNK SUMMARY: token=" averageOfEvens = sumOfEvens / evenNumbers.length;\n' +
    '", hasToken=true, tokenLength=51',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:45'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" averageOfEvens = sumOfEvens / evenNumbers.length;\\n","completionText":"const averageOfEvens = sumOfEvens / evenNumbers.length;\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:45'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" averageOfEvens = sumOfEvens / evenNumbers.length;\\n","completionText":"const averageOfEvens = sumOfEvens / evenNumbers.length;\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:45'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" averageOfEvens = sumOfEvens / evenNumbers.length;\\n","completionText":"const averageOfEvens = sumOfEvens / evenNumbers.length;\\n","done":false,"sessionId":"x7uHPGP_xuronZscAAAx","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:45'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "console.log(averageOfEvens);\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 292,\n' +
    '    "candidatesTokenCount": 27,\n' +
    '    "totalTokenCount": 319,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 292\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 27\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "x_e3aICuFv2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:45'
}
{
  message: '✅ Token extracted via chunk.text(): "console.log(averageOfEvens);\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:45'
}
{
  message: '📊 CHUNK SUMMARY: token="console.log(averageOfEvens);\n' +
    '", hasToken=true, tokenLength=29',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:45'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"console.log(averageOfEvens);\\n","completionText":"const averageOfEvens = sumOfEvens / evenNumbers.length;\\nconsole.log(averageOfEvens);\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:45'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"console.log(averageOfEvens);\\n","completionText":"const averageOfEvens = sumOfEvens / evenNumbers.length;\\nconsole.log(averageOfEvens);\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:45'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"console.log(averageOfEvens);\\n","completionText":"const averageOfEvens = sumOfEvens / evenNumbers.length;\\nconsole.log(averageOfEvens);\\n","done":false,"sessionId":"x7uHPGP_xuronZscAAAx","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:45'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 85',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:45'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"const averageOfEvens = sumOfEvens / evenNumbers.length;\\nconsole.log(averageOfEvens);\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:45'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"const averageOfEvens = sumOfEvens / evenNumbers.length;\\nconsole.log(averageOfEvens);\\n","done":true,"sessionId":"x7uHPGP_xuronZscAAAx","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:45'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:45'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 85 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:45'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:45'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:46'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:46'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:46'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:46'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:46'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:46'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:48'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:48'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:48'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:48'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:48'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:48'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket R9HIYgaV3_t0r2FhAAAz',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:48'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: R9HIYgaV3_t0r2FhAAAz)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:48'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 421,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:09:48'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:48'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:48'
}
{
  message: '📝 Enhanced prompt for completion (1086 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:48'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:48'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:48'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "const"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 322,\n' +
    '    "totalTokenCount": 322,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 322\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "y_e3aOyQDvzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:48'
}
{
  message: '✅ Token extracted via chunk.text(): "const"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:48'
}
{
  message: '📊 CHUNK SUMMARY: token="const", hasToken=true, tokenLength=5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:48'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:48'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:48'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"const","completionText":"const","done":false,"sessionId":"R9HIYgaV3_t0r2FhAAAz","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:48'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " squaredEvens = evenNumbers.map(item => item * item);\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 322,\n' +
    '    "totalTokenCount": 322,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 322\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "y_e3aOyQDvzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:48'
}
{
  message: '✅ Token extracted via chunk.text(): " squaredEvens = evenNumbers.map(item => item * item);\n' +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:48'
}
{
  message: '📊 CHUNK SUMMARY: token=" squaredEvens = evenNumbers.map(item => item * item);\n' +
    '", hasToken=true, tokenLength=54',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:48'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" squaredEvens = evenNumbers.map(item => item * item);\\n","completionText":"const squaredEvens = evenNumbers.map(item => item * item);\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:48'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" squaredEvens = evenNumbers.map(item => item * item);\\n","completionText":"const squaredEvens = evenNumbers.map(item => item * item);\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:48'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" squaredEvens = evenNumbers.map(item => item * item);\\n","completionText":"const squaredEvens = evenNumbers.map(item => item * item);\\n","done":false,"sessionId":"R9HIYgaV3_t0r2FhAAAz","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:48'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "console.log(squaredEvens);\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 321,\n' +
    '    "candidatesTokenCount": 26,\n' +
    '    "totalTokenCount": 347,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 321\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 26\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "y_e3aOyQDvzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:49'
}
{
  message: '✅ Token extracted via chunk.text(): "console.log(squaredEvens);\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:49'
}
{
  message: '📊 CHUNK SUMMARY: token="console.log(squaredEvens);\n' +
    '", hasToken=true, tokenLength=27',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:49'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"console.log(squaredEvens);\\n","completionText":"const squaredEvens = evenNumbers.map(item => item * item);\\nconsole.log(squaredEvens);\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:49'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"console.log(squaredEvens);\\n","completionText":"const squaredEvens = evenNumbers.map(item => item * item);\\nconsole.log(squaredEvens);\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:49'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"console.log(squaredEvens);\\n","completionText":"const squaredEvens = evenNumbers.map(item => item * item);\\nconsole.log(squaredEvens);\\n","done":false,"sessionId":"R9HIYgaV3_t0r2FhAAAz","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:49'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 86',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:49'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"const squaredEvens = evenNumbers.map(item => item * item);\\nconsole.log(squaredEvens);\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:49'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"const squaredEvens = evenNumbers.map(item => item * item);\\nconsole.log(squaredEvens);\\n","done":true,"sessionId":"R9HIYgaV3_t0r2FhAAAz","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:49'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:49'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 86 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:49'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:49'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:50'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:50'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:50'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:50'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:50'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:09:50'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:23'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:23'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:23'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:23'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:23'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:23'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket T_MsMmmtqUo3fD5cAAA1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:23'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: T_MsMmmtqUo3fD5cAAA1)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:23'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 511,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:10:23'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:23'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:23'
}
{
  message: '📝 Enhanced prompt for completion (1176 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:23'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:23'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:24'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "const"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 350,\n' +
    '    "totalTokenCount": 350,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 350\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "7ve3aLGIH5SUhMIP1I-f4A4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:24'
}
{
  message: '✅ Token extracted via chunk.text(): "const"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:24'
}
{
  message: '📊 CHUNK SUMMARY: token="const", hasToken=true, tokenLength=5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:24'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:24'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:24'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"const","completionText":"const","done":false,"sessionId":"T_MsMmmtqUo3fD5cAAA1","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:24'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " sortedSquaredEvens = squaredEvens.sort((a, b) =>"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 350,\n' +
    '    "totalTokenCount": 350,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 350\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "7ve3aLGIH5SUhMIP1I-f4A4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:24'
}
{
  message: '✅ Token extracted via chunk.text(): " sortedSquaredEvens = squaredEvens.sort((a, b) =>"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:24'
}
{
  message: '📊 CHUNK SUMMARY: token=" sortedSquaredEvens = squaredEvens.sort((a, b) =>", hasToken=true, tokenLength=49',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:24'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" sortedSquaredEvens = squaredEvens.sort((a, b) =>","completionText":"const sortedSquaredEvens = squaredEvens.sort((a, b) =>","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:24'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" sortedSquaredEvens = squaredEvens.sort((a, b) =>","completionText":"const sortedSquaredEvens = squaredEvens.sort((a, b) =>","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:24'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" sortedSquaredEvens = squaredEvens.sort((a, b) =>","completionText":"const sortedSquaredEvens = squaredEvens.sort((a, b) =>","done":false,"sessionId":"T_MsMmmtqUo3fD5cAAA1","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:24'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " a - b);\\nconsole.log(sortedSquaredEvens);\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 349,\n' +
    '    "candidatesTokenCount": 32,\n' +
    '    "totalTokenCount": 381,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 349\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 32\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "7ve3aLGIH5SUhMIP1I-f4A4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:24'
}
{
  message: '✅ Token extracted via chunk.text(): " a - b);\n' +
    'console.log(sortedSquaredEvens);\n' +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:24'
}
{
  message: '📊 CHUNK SUMMARY: token=" a - b);\n' +
    'console.log(sortedSquaredEvens);\n' +
    '", hasToken=true, tokenLength=42',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:24'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" a - b);\\nconsole.log(sortedSquaredEvens);\\n","completionText":"const sortedSquaredEvens = squaredEvens.sort((a, b) => a - b);\\nconsole.log(sortedSquaredEvens);\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:24'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" a - b);\\nconsole.log(sortedSquaredEvens);\\n","completionText":"const sortedSquaredEvens = squaredEvens.sort((a, b) => a - b);\\nconsole.log(sortedSquaredEvens);\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:24'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" a - b);\\nconsole.log(sortedSquaredEvens);\\n","completionText":"const sortedSquaredEvens = squaredEvens.sort((a, b) => a - b);\\nconsole.log(sortedSquaredEvens);\\n","done":false,"sessionId":"T_MsMmmtqUo3fD5cAAA1","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:24'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 96',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:24'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"const sortedSquaredEvens = squaredEvens.sort((a, b) => a - b);\\nconsole.log(sortedSquaredEvens);\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:24'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"const sortedSquaredEvens = squaredEvens.sort((a, b) => a - b);\\nconsole.log(sortedSquaredEvens);\\n","done":true,"sessionId":"T_MsMmmtqUo3fD5cAAA1","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:24'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:24'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 96 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:24'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:24'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:34'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:34'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:34'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:34'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:34'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:34'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket HqYX3oPT2MIT9cNEAAA3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:38'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: HqYX3oPT2MIT9cNEAAA3)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:38'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 24,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:10:38'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:38'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:38'
}
{
  message: '📝 Enhanced prompt for completion (689 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:38'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:38'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:38'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:38'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:38'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:38'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:38'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:38'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:38'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "const"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 181,\n' +
    '    "totalTokenCount": 181,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 181\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "_fe3aOPQDsbQhMIP-t6LqAM"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:38'
}
{
  message: '✅ Token extracted via chunk.text(): "const"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:38'
}
{
  message: '📊 CHUNK SUMMARY: token="const", hasToken=true, tokenLength=5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:38'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:38'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:38'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"const","completionText":"const","done":false,"sessionId":"HqYX3oPT2MIT9cNEAAA3","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:38'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " myArray = [1, 2, 3, 4, "\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 181,\n' +
    '    "totalTokenCount": 181,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 181\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "_fe3aOPQDsbQhMIP-t6LqAM"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:38'
}
{
  message: '✅ Token extracted via chunk.text(): " myArray = [1, 2, 3, 4, "',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:38'
}
{
  message: '📊 CHUNK SUMMARY: token=" myArray = [1, 2, 3, 4, ", hasToken=true, tokenLength=24',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:38'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" myArray = [1, 2, 3, 4, ","completionText":"const myArray = [1, 2, 3, 4, ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:38'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" myArray = [1, 2, 3, 4, ","completionText":"const myArray = [1, 2, 3, 4, ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:38'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" myArray = [1, 2, 3, 4, ","completionText":"const myArray = [1, 2, 3, 4, ","done":false,"sessionId":"HqYX3oPT2MIT9cNEAAA3","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:38'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "5];\\nconst doubledArray = myArray.map(item => item *"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 181,\n' +
    '    "totalTokenCount": 181,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 181\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "_fe3aOPQDsbQhMIP-t6LqAM"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:39'
}
{
  message: '✅ Token extracted via chunk.text(): "5];\n' +
    'const doubledArray = myArray.map(item => item *"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:39'
}
{
  message: '📊 CHUNK SUMMARY: token="5];\n' +
    'const doubledArray = myArray.map(item => item *", hasToken=true, tokenLength=51',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:39'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"5];\\nconst doubledArray = myArray.map(item => item *","completionText":"const myArray = [1, 2, 3, 4, 5];\\nconst doubledArray = myArray.map(item => item *","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:39'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"5];\\nconst doubledArray = myArray.map(item => item *","completionText":"const myArray = [1, 2, 3, 4, 5];\\nconst doubledArray = myArray.map(item => item *","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:39'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"5];\\nconst doubledArray = myArray.map(item => item *","completionText":"const myArray = [1, 2, 3, 4, 5];\\nconst doubledArray = myArray.map(item => item *","done":false,"sessionId":"HqYX3oPT2MIT9cNEAAA3","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:39'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " 2);\\nconsole.log(doubledArray); // Output: [2, 4, 6, 8, 10]\\n\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 181,\n' +
    '    "totalTokenCount": 181,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 181\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "_fe3aOPQDsbQhMIP-t6LqAM"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:39'
}
{
  message: '✅ Token extracted via chunk.text(): " 2);\n' +
    'console.log(doubledArray); // Output: [2, 4, 6, 8, 10]\n' +
    '\n' +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:39'
}
{
  message: '📊 CHUNK SUMMARY: token=" 2);\n' +
    'console.log(doubledArray); // Output: [2, 4, 6, 8, 10]\n' +
    '\n' +
    '", hasToken=true, tokenLength=61',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:39'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" 2);\\nconsole.log(doubledArray); // Output: [2, 4, 6, 8, 10]\\n\\n","completionText":"const myArray = [1, 2, 3, 4, 5];\\nconst doubledArray = myArray.map(item => item * 2);\\nconsole.log(doubledArray); // Output: [2, 4, 6, 8, 10]\\n\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:39'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" 2);\\nconsole.log(doubledArray); // Output: [2, 4, 6, 8, 10]\\n\\n","completionText":"const myArray = [1, 2, 3, 4, 5];\\nconst doubledArray = myArray.map(item => item * 2);\\nconsole.log(doubledArray); // Output: [2, 4, 6, 8, 10]\\n\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:39'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" 2);\\nconsole.log(doubledArray); // Output: [2, 4, 6, 8, 10]\\n\\n","completionText":"const myArray = [1, 2, 3, 4, 5];\\nconst doubledArray = myArray.map(item => item * 2);\\nconsole.log(doubledArray); // Output: [2, 4, 6, 8, 10]\\n\\n","done":false,"sessionId":"HqYX3oPT2MIT9cNEAAA3","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:39'
}
{
  message: '🔍 RAW GEMINI CHUNK #5: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ""\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 180,\n' +
    '    "candidatesTokenCount": 65,\n' +
    '    "totalTokenCount": 245,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 180\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 65\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "_fe3aOPQDsbQhMIP-t6LqAM"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:39'
}
{
  message: '✅ Token extracted via chunk.text(): ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:39'
}
{
  message: '✅ Token extracted via candidates: ""',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:39'
}
{
  message: '📊 CHUNK SUMMARY: token="", hasToken=false, tokenLength=0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:39'
}
{
  message: '⚠️ EMPTY TOKEN - chunk keys: candidates, usageMetadata, modelVersion, responseId, text, functionCall, functionCalls',
  level: 'warn',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:39'
}
{
  message: '🏁 Stream completed. Total chunks: 5, Final completion length: 141',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:39'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"const myArray = [1, 2, 3, 4, 5];\\nconst doubledArray = myArray.map(item => item * 2);\\nconsole.log(doubledArray); // Output: [2, 4, 6, 8, 10]\\n\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:39'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"const myArray = [1, 2, 3, 4, 5];\\nconst doubledArray = myArray.map(item => item * 2);\\nconsole.log(doubledArray); // Output: [2, 4, 6, 8, 10]\\n\\n","done":true,"sessionId":"HqYX3oPT2MIT9cNEAAA3","tokenCount":5}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:39'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:39'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 141 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:39'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:39'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:47'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:47'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:47'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:47'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:47'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:47'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket 1eiPATNm7hIMnhQMAAA5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:50'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: 1eiPATNm7hIMnhQMAAA5)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:50'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 169,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:10:50'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:50'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:50'
}
{
  message: '📝 Enhanced prompt for completion (834 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:50'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:50'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "const"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 248,\n' +
    '    "totalTokenCount": 248,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 248\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Cfi3aJm4IJSUhMIP1I-f4A4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: '✅ Token extracted via chunk.text(): "const"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: '📊 CHUNK SUMMARY: token="const", hasToken=true, tokenLength=5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"const","completionText":"const","done":false,"sessionId":"1eiPATNm7hIMnhQMAAA5","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " evenNumbers = doubledArray.filter(item => item % 2 === "\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 248,\n' +
    '    "totalTokenCount": 248,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 248\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Cfi3aJm4IJSUhMIP1I-f4A4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: '✅ Token extracted via chunk.text(): " evenNumbers = doubledArray.filter(item => item % 2 === "',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: '📊 CHUNK SUMMARY: token=" evenNumbers = doubledArray.filter(item => item % 2 === ", hasToken=true, tokenLength=56',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" evenNumbers = doubledArray.filter(item => item % 2 === ","completionText":"const evenNumbers = doubledArray.filter(item => item % 2 === ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" evenNumbers = doubledArray.filter(item => item % 2 === ","completionText":"const evenNumbers = doubledArray.filter(item => item % 2 === ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" evenNumbers = doubledArray.filter(item => item % 2 === ","completionText":"const evenNumbers = doubledArray.filter(item => item % 2 === ","done":false,"sessionId":"1eiPATNm7hIMnhQMAAA5","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "0);\\nconsole.log(evenNumbers); // Output: [2,"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 248,\n' +
    '    "totalTokenCount": 248,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 248\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Cfi3aJm4IJSUhMIP1I-f4A4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: '✅ Token extracted via chunk.text(): "0);\n' +
    'console.log(evenNumbers); // Output: [2,"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: '📊 CHUNK SUMMARY: token="0);\n' +
    'console.log(evenNumbers); // Output: [2,", hasToken=true, tokenLength=44',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"0);\\nconsole.log(evenNumbers); // Output: [2,","completionText":"const evenNumbers = doubledArray.filter(item => item % 2 === 0);\\nconsole.log(evenNumbers); // Output: [2,","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"0);\\nconsole.log(evenNumbers); // Output: [2,","completionText":"const evenNumbers = doubledArray.filter(item => item % 2 === 0);\\nconsole.log(evenNumbers); // Output: [2,","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"0);\\nconsole.log(evenNumbers); // Output: [2,","completionText":"const evenNumbers = doubledArray.filter(item => item % 2 === 0);\\nconsole.log(evenNumbers); // Output: [2,","done":false,"sessionId":"1eiPATNm7hIMnhQMAAA5","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " 4, 6, 8, 10]\\n\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 247,\n' +
    '    "candidatesTokenCount": 47,\n' +
    '    "totalTokenCount": 294,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 247\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 47\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Cfi3aJm4IJSUhMIP1I-f4A4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: '✅ Token extracted via chunk.text(): " 4, 6, 8, 10]\n\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: '📊 CHUNK SUMMARY: token=" 4, 6, 8, 10]\n\n", hasToken=true, tokenLength=15',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" 4, 6, 8, 10]\\n\\n","completionText":"const evenNumbers = doubledArray.filter(item => item % 2 === 0);\\nconsole.log(evenNumbers); // Output: [2, 4, 6, 8, 10]\\n\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" 4, 6, 8, 10]\\n\\n","completionText":"const evenNumbers = doubledArray.filter(item => item % 2 === 0);\\nconsole.log(evenNumbers); // Output: [2, 4, 6, 8, 10]\\n\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" 4, 6, 8, 10]\\n\\n","completionText":"const evenNumbers = doubledArray.filter(item => item % 2 === 0);\\nconsole.log(evenNumbers); // Output: [2, 4, 6, 8, 10]\\n\\n","done":false,"sessionId":"1eiPATNm7hIMnhQMAAA5","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 120',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"const evenNumbers = doubledArray.filter(item => item % 2 === 0);\\nconsole.log(evenNumbers); // Output: [2, 4, 6, 8, 10]\\n\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"const evenNumbers = doubledArray.filter(item => item % 2 === 0);\\nconsole.log(evenNumbers); // Output: [2, 4, 6, 8, 10]\\n\\n","done":true,"sessionId":"1eiPATNm7hIMnhQMAAA5","tokenCount":5}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 120 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:51'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:53'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:53'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:53'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:53'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:53'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:53'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:54'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:54'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:54'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:54'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:54'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:54'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket RoSwnrcs9qC8H29CAAA7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:54'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: RoSwnrcs9qC8H29CAAA7)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:54'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 294,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:10:54'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:54'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:54'
}
{
  message: '📝 Enhanced prompt for completion (959 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:54'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:54'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "const"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 299,\n' +
    '    "totalTokenCount": 299,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 299\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Dfi3aN6KKf2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: '✅ Token extracted via chunk.text(): "const"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: '📊 CHUNK SUMMARY: token="const", hasToken=true, tokenLength=5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"const","completionText":"const","done":false,"sessionId":"RoSwnrcs9qC8H29CAAA7","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " sumOfEvens = evenNumbers.reduce((sum, item) => sum"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 299,\n' +
    '    "totalTokenCount": 299,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 299\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Dfi3aN6KKf2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: '✅ Token extracted via chunk.text(): " sumOfEvens = evenNumbers.reduce((sum, item) => sum"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: '📊 CHUNK SUMMARY: token=" sumOfEvens = evenNumbers.reduce((sum, item) => sum", hasToken=true, tokenLength=51',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" sumOfEvens = evenNumbers.reduce((sum, item) => sum","completionText":"const sumOfEvens = evenNumbers.reduce((sum, item) => sum","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" sumOfEvens = evenNumbers.reduce((sum, item) => sum","completionText":"const sumOfEvens = evenNumbers.reduce((sum, item) => sum","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" sumOfEvens = evenNumbers.reduce((sum, item) => sum","completionText":"const sumOfEvens = evenNumbers.reduce((sum, item) => sum","done":false,"sessionId":"RoSwnrcs9qC8H29CAAA7","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " + item, 0);\\nconsole.log(sumOfEvens);"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 299,\n' +
    '    "totalTokenCount": 299,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 299\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Dfi3aN6KKf2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: '✅ Token extracted via chunk.text(): " + item, 0);\n' +
    'console.log(sumOfEvens);"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: '📊 CHUNK SUMMARY: token=" + item, 0);\n' +
    'console.log(sumOfEvens);", hasToken=true, tokenLength=37',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" + item, 0);\\nconsole.log(sumOfEvens);","completionText":"const sumOfEvens = evenNumbers.reduce((sum, item) => sum + item, 0);\\nconsole.log(sumOfEvens);","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" + item, 0);\\nconsole.log(sumOfEvens);","completionText":"const sumOfEvens = evenNumbers.reduce((sum, item) => sum + item, 0);\\nconsole.log(sumOfEvens);","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" + item, 0);\\nconsole.log(sumOfEvens);","completionText":"const sumOfEvens = evenNumbers.reduce((sum, item) => sum + item, 0);\\nconsole.log(sumOfEvens);","done":false,"sessionId":"RoSwnrcs9qC8H29CAAA7","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " // Output: 30\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 298,\n' +
    '    "candidatesTokenCount": 40,\n' +
    '    "totalTokenCount": 338,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 298\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 40\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Dfi3aN6KKf2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: '✅ Token extracted via chunk.text(): " // Output: 30\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: '📊 CHUNK SUMMARY: token=" // Output: 30\n", hasToken=true, tokenLength=15',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" // Output: 30\\n","completionText":"const sumOfEvens = evenNumbers.reduce((sum, item) => sum + item, 0);\\nconsole.log(sumOfEvens); // Output: 30\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" // Output: 30\\n","completionText":"const sumOfEvens = evenNumbers.reduce((sum, item) => sum + item, 0);\\nconsole.log(sumOfEvens); // Output: 30\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" // Output: 30\\n","completionText":"const sumOfEvens = evenNumbers.reduce((sum, item) => sum + item, 0);\\nconsole.log(sumOfEvens); // Output: 30\\n","done":false,"sessionId":"RoSwnrcs9qC8H29CAAA7","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 108',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"const sumOfEvens = evenNumbers.reduce((sum, item) => sum + item, 0);\\nconsole.log(sumOfEvens); // Output: 30\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"const sumOfEvens = evenNumbers.reduce((sum, item) => sum + item, 0);\\nconsole.log(sumOfEvens); // Output: 30\\n","done":true,"sessionId":"RoSwnrcs9qC8H29CAAA7","tokenCount":5}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 108 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:55'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:57'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:57'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:57'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:57'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:57'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:10:57'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:07'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:07'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:07'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:07'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:07'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:07'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:10'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:10'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:10'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:10'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:10'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:10'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket f7WRhRIV3wyvtfnnAAA9',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:10'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: f7WRhRIV3wyvtfnnAAA9)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:10'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 57,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:11:10'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:10'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:10'
}
{
  message: '📝 Enhanced prompt for completion (722 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:10'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:10'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "const"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 191,\n' +
    '    "totalTokenCount": 191,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 191\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Hfi3aIjwG_zwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: '✅ Token extracted via chunk.text(): "const"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: '📊 CHUNK SUMMARY: token="const", hasToken=true, tokenLength=5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"const","completionText":"const","done":false,"sessionId":"f7WRhRIV3wyvtfnnAAA9","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": " http = require('http');\\nconst server = http.createServer((req,"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 191,\n' +
    '    "totalTokenCount": 191,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 191\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Hfi3aIjwG_zwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: `✅ Token extracted via chunk.text(): " http = require('http');\n` +
    'const server = http.createServer((req,"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: `📊 CHUNK SUMMARY: token=" http = require('http');\n` +
    'const server = http.createServer((req,", hasToken=true, tokenLength=63',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":" http = require('http');\\nconst server = http.createServer((req,","completionText":"const http = require('http');\\nconst server = http.createServer((req,","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":" http = require('http');\\nconst server = http.createServer((req,","completionText":"const http = require('http');\\nconst server = http.createServer((req,","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":" http = require('http');\\nconst server = http.createServer((req,","completionText":"const http = require('http');\\nconst server = http.createServer((req,","done":false,"sessionId":"f7WRhRIV3wyvtfnnAAA9","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": " res) => {\\n  res.writeHead(200, { '"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 191,\n' +
    '    "totalTokenCount": 191,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 191\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Hfi3aIjwG_zwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: `✅ Token extracted via chunk.text(): " res) => {\n  res.writeHead(200, { '"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: '📊 CHUNK SUMMARY: token=" res) => {\n' +
    `  res.writeHead(200, { '", hasToken=true, tokenLength=35`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":" res) => {\\n  res.writeHead(200, { '","completionText":"const http = require('http');\\nconst server = http.createServer((req, res) => {\\n  res.writeHead(200, { '","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":" res) => {\\n  res.writeHead(200, { '","completionText":"const http = require('http');\\nconst server = http.createServer((req, res) => {\\n  res.writeHead(200, { '","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":" res) => {\\n  res.writeHead(200, { '","completionText":"const http = require('http');\\nconst server = http.createServer((req, res) => {\\n  res.writeHead(200, { '","done":false,"sessionId":"f7WRhRIV3wyvtfnnAAA9","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "Content-Type': 'text/plain' });\\n  res.end('Hello World\\\\n');\\n});\\nserver.listen(3000"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 191,\n' +
    '    "totalTokenCount": 191,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 191\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Hfi3aIjwG_zwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: `✅ Token extracted via chunk.text(): "Content-Type': 'text/plain' });\n` +
    "  res.end('Hello World\\n');\n" +
    '});\n' +
    'server.listen(3000"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: `📊 CHUNK SUMMARY: token="Content-Type': 'text/plain' });\n` +
    "  res.end('Hello World\\n');\n" +
    '});\n' +
    'server.listen(3000", hasToken=true, tokenLength=82',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"Content-Type': 'text/plain' });\\n  res.end('Hello World\\\\n');\\n});\\nserver.listen(3000","completionText":"const http = require('http');\\nconst server = http.createServer((req, res) => {\\n  res.writeHead(200, { 'Content-Type': 'text/plain' });\\n  res.end('Hello World\\\\n');\\n});\\nserver.listen(3000","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"Content-Type': 'text/plain' });\\n  res.end('Hello World\\\\n');\\n});\\nserver.listen(3000","completionText":"const http = require('http');\\nconst server = http.createServer((req, res) => {\\n  res.writeHead(200, { 'Content-Type': 'text/plain' });\\n  res.end('Hello World\\\\n');\\n});\\nserver.listen(3000","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"Content-Type': 'text/plain' });\\n  res.end('Hello World\\\\n');\\n});\\nserver.listen(3000","completionText":"const http = require('http');\\nconst server = http.createServer((req, res) => {\\n  res.writeHead(200, { 'Content-Type': 'text/plain' });\\n  res.end('Hello World\\\\n');\\n});\\nserver.listen(3000","done":false,"sessionId":"f7WRhRIV3wyvtfnnAAA9","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: '🔍 RAW GEMINI CHUNK #5: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ");\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 190,\n' +
    '    "candidatesTokenCount": 67,\n' +
    '    "totalTokenCount": 257,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 190\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 67\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Hfi3aIjwG_zwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: '✅ Token extracted via chunk.text(): ");\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: '📊 CHUNK SUMMARY: token=");\n", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":");\\n","completionText":"const http = require('http');\\nconst server = http.createServer((req, res) => {\\n  res.writeHead(200, { 'Content-Type': 'text/plain' });\\n  res.end('Hello World\\\\n');\\n});\\nserver.listen(3000);\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":");\\n","completionText":"const http = require('http');\\nconst server = http.createServer((req, res) => {\\n  res.writeHead(200, { 'Content-Type': 'text/plain' });\\n  res.end('Hello World\\\\n');\\n});\\nserver.listen(3000);\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":");\\n","completionText":"const http = require('http');\\nconst server = http.createServer((req, res) => {\\n  res.writeHead(200, { 'Content-Type': 'text/plain' });\\n  res.end('Hello World\\\\n');\\n});\\nserver.listen(3000);\\n","done":false,"sessionId":"f7WRhRIV3wyvtfnnAAA9","tokenCount":5}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: '🏁 Stream completed. Total chunks: 5, Final completion length: 188',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"const http = require('http');\\nconst server = http.createServer((req, res) => {\\n  res.writeHead(200, { 'Content-Type': 'text/plain' });\\n  res.end('Hello World\\\\n');\\n});\\nserver.listen(3000);\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"const http = require('http');\\nconst server = http.createServer((req, res) => {\\n  res.writeHead(200, { 'Content-Type': 'text/plain' });\\n  res.end('Hello World\\\\n');\\n});\\nserver.listen(3000);\\n","done":true,"sessionId":"f7WRhRIV3wyvtfnnAAA9","tokenCount":6}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: 'Completion finished for adnan99@gmail.com: 6 tokens, 188 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:11:11'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:12:34'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:12:34'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:12:34'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:12:34'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:12:34'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:12:34'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:12:36'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:12:36'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:12:36'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:12:36'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:12:36'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:12:36'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:12:42'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:12:42'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:12:42'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:12:42'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:12:42'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:12:42'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:12:58'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:12:58'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:12:58'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:12:58'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:12:58'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:12:58'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:00'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:00'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:00'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:00'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:00'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:00'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:02'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:02'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:02'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:02'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:02'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:02'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket wJPrjAHkZft8DsAwAAA_',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:03'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: wJPrjAHkZft8DsAwAAA_)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:03'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 114,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:13:03'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:03'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:03'
}
{
  message: '📝 Enhanced prompt for completion (779 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:03'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:03'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:04'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "const"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 216,\n' +
    '    "totalTokenCount": 216,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 216\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "j_i3aMSuEb2XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:04'
}
{
  message: '✅ Token extracted via chunk.text(): "const"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:04'
}
{
  message: '📊 CHUNK SUMMARY: token="const", hasToken=true, tokenLength=5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:04'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:04'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:04'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"const","completionText":"const","done":false,"sessionId":"wJPrjAHkZft8DsAwAAA_","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:04'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": " http = require('http');\\nconst server = http.createServer((req,"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 216,\n' +
    '    "totalTokenCount": 216,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 216\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "j_i3aMSuEb2XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: `✅ Token extracted via chunk.text(): " http = require('http');\n` +
    'const server = http.createServer((req,"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: `📊 CHUNK SUMMARY: token=" http = require('http');\n` +
    'const server = http.createServer((req,", hasToken=true, tokenLength=63',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":" http = require('http');\\nconst server = http.createServer((req,","completionText":"const http = require('http');\\nconst server = http.createServer((req,","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":" http = require('http');\\nconst server = http.createServer((req,","completionText":"const http = require('http');\\nconst server = http.createServer((req,","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":" http = require('http');\\nconst server = http.createServer((req,","completionText":"const http = require('http');\\nconst server = http.createServer((req,","done":false,"sessionId":"wJPrjAHkZft8DsAwAAA_","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": " res) => {\\n  res.writeHead(200, { '"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 216,\n' +
    '    "totalTokenCount": 216,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 216\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "j_i3aMSuEb2XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: `✅ Token extracted via chunk.text(): " res) => {\n  res.writeHead(200, { '"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: '📊 CHUNK SUMMARY: token=" res) => {\n' +
    `  res.writeHead(200, { '", hasToken=true, tokenLength=35`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":" res) => {\\n  res.writeHead(200, { '","completionText":"const http = require('http');\\nconst server = http.createServer((req, res) => {\\n  res.writeHead(200, { '","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":" res) => {\\n  res.writeHead(200, { '","completionText":"const http = require('http');\\nconst server = http.createServer((req, res) => {\\n  res.writeHead(200, { '","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":" res) => {\\n  res.writeHead(200, { '","completionText":"const http = require('http');\\nconst server = http.createServer((req, res) => {\\n  res.writeHead(200, { '","done":false,"sessionId":"wJPrjAHkZft8DsAwAAA_","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "Content-Type': 'text/plain' });\\n  res.end('Hello World\\\\n');\\n});\\nserver.listen(6900"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 216,\n' +
    '    "totalTokenCount": 216,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 216\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "j_i3aMSuEb2XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: `✅ Token extracted via chunk.text(): "Content-Type': 'text/plain' });\n` +
    "  res.end('Hello World\\n');\n" +
    '});\n' +
    'server.listen(6900"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: `📊 CHUNK SUMMARY: token="Content-Type': 'text/plain' });\n` +
    "  res.end('Hello World\\n');\n" +
    '});\n' +
    'server.listen(6900", hasToken=true, tokenLength=82',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"Content-Type': 'text/plain' });\\n  res.end('Hello World\\\\n');\\n});\\nserver.listen(6900","completionText":"const http = require('http');\\nconst server = http.createServer((req, res) => {\\n  res.writeHead(200, { 'Content-Type': 'text/plain' });\\n  res.end('Hello World\\\\n');\\n});\\nserver.listen(6900","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"Content-Type': 'text/plain' });\\n  res.end('Hello World\\\\n');\\n});\\nserver.listen(6900","completionText":"const http = require('http');\\nconst server = http.createServer((req, res) => {\\n  res.writeHead(200, { 'Content-Type': 'text/plain' });\\n  res.end('Hello World\\\\n');\\n});\\nserver.listen(6900","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"Content-Type': 'text/plain' });\\n  res.end('Hello World\\\\n');\\n});\\nserver.listen(6900","completionText":"const http = require('http');\\nconst server = http.createServer((req, res) => {\\n  res.writeHead(200, { 'Content-Type': 'text/plain' });\\n  res.end('Hello World\\\\n');\\n});\\nserver.listen(6900","done":false,"sessionId":"wJPrjAHkZft8DsAwAAA_","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: '🔍 RAW GEMINI CHUNK #5: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ");\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 215,\n' +
    '    "candidatesTokenCount": 67,\n' +
    '    "totalTokenCount": 282,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 215\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 67\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "j_i3aMSuEb2XhMIPgOf-gA4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: '✅ Token extracted via chunk.text(): ");\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: '📊 CHUNK SUMMARY: token=");\n", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":");\\n","completionText":"const http = require('http');\\nconst server = http.createServer((req, res) => {\\n  res.writeHead(200, { 'Content-Type': 'text/plain' });\\n  res.end('Hello World\\\\n');\\n});\\nserver.listen(6900);\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":");\\n","completionText":"const http = require('http');\\nconst server = http.createServer((req, res) => {\\n  res.writeHead(200, { 'Content-Type': 'text/plain' });\\n  res.end('Hello World\\\\n');\\n});\\nserver.listen(6900);\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":");\\n","completionText":"const http = require('http');\\nconst server = http.createServer((req, res) => {\\n  res.writeHead(200, { 'Content-Type': 'text/plain' });\\n  res.end('Hello World\\\\n');\\n});\\nserver.listen(6900);\\n","done":false,"sessionId":"wJPrjAHkZft8DsAwAAA_","tokenCount":5}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: '🏁 Stream completed. Total chunks: 5, Final completion length: 188',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"const http = require('http');\\nconst server = http.createServer((req, res) => {\\n  res.writeHead(200, { 'Content-Type': 'text/plain' });\\n  res.end('Hello World\\\\n');\\n});\\nserver.listen(6900);\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"const http = require('http');\\nconst server = http.createServer((req, res) => {\\n  res.writeHead(200, { 'Content-Type': 'text/plain' });\\n  res.end('Hello World\\\\n');\\n});\\nserver.listen(6900);\\n","done":true,"sessionId":"wJPrjAHkZft8DsAwAAA_","tokenCount":6}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: 'Completion finished for adnan99@gmail.com: 6 tokens, 188 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:05'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:10'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:10'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:10'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:10'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:10'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:10'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:26'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:26'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:26'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:26'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:26'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:26'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:32'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:32'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:32'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:32'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:32'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:32'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:37'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:37'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:37'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:37'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:37'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:37'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:39'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:39'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:39'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:39'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:39'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:39'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket uuZVJto264hCDSBtAABB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:54'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: uuZVJto264hCDSBtAABB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:54'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 129,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:13:54'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:54'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:54'
}
{
  message: '📝 Enhanced prompt for completion (794 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:54'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:54'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:54'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "const"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 223,\n' +
    '    "totalTokenCount": 223,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 223\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "wfi3aLvBE5SUhMIP1I-f4A4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:54'
}
{
  message: '✅ Token extracted via chunk.text(): "const"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:54'
}
{
  message: '📊 CHUNK SUMMARY: token="const", hasToken=true, tokenLength=5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:54'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:54'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:54'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"const","completionText":"const","done":false,"sessionId":"uuZVJto264hCDSBtAABB","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:54'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": " express = require('express');\\nconst app = express();\\napp.get"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 223,\n' +
    '    "totalTokenCount": 223,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 223\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "wfi3aLvBE5SUhMIP1I-f4A4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:55'
}
{
  message: `✅ Token extracted via chunk.text(): " express = require('express');\n` +
    'const app = express();\n' +
    'app.get"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:55'
}
{
  message: `📊 CHUNK SUMMARY: token=" express = require('express');\n` +
    'const app = express();\n' +
    'app.get", hasToken=true, tokenLength=61',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:55'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":" express = require('express');\\nconst app = express();\\napp.get","completionText":"const express = require('express');\\nconst app = express();\\napp.get","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:55'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":" express = require('express');\\nconst app = express();\\napp.get","completionText":"const express = require('express');\\nconst app = express();\\napp.get","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:55'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":" express = require('express');\\nconst app = express();\\napp.get","completionText":"const express = require('express');\\nconst app = express();\\napp.get","done":false,"sessionId":"uuZVJto264hCDSBtAABB","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:55'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "('/', (req, res) => res.send('Hello World!'));\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 223,\n' +
    '    "totalTokenCount": 223,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 223\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "wfi3aLvBE5SUhMIP1I-f4A4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:55'
}
{
  message: `✅ Token extracted via chunk.text(): "('/', (req, res) => res.send('Hello World!'));\n` +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:55'
}
{
  message: `📊 CHUNK SUMMARY: token="('/', (req, res) => res.send('Hello World!'));\n` +
    '", hasToken=true, tokenLength=47',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:55'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"('/', (req, res) => res.send('Hello World!'));\\n","completionText":"const express = require('express');\\nconst app = express();\\napp.get('/', (req, res) => res.send('Hello World!'));\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:55'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"('/', (req, res) => res.send('Hello World!'));\\n","completionText":"const express = require('express');\\nconst app = express();\\napp.get('/', (req, res) => res.send('Hello World!'));\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:55'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"('/', (req, res) => res.send('Hello World!'));\\n","completionText":"const express = require('express');\\nconst app = express();\\napp.get('/', (req, res) => res.send('Hello World!'));\\n","done":false,"sessionId":"uuZVJto264hCDSBtAABB","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:55'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "app.listen(6900, () => console.log('Server listening on port 6900'));\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 222,\n' +
    '    "candidatesTokenCount": 59,\n' +
    '    "totalTokenCount": 281,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 222\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 59\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "wfi3aLvBE5SUhMIP1I-f4A4"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:55'
}
{
  message: `✅ Token extracted via chunk.text(): "app.listen(6900, () => console.log('Server listening on port 6900'));\n` +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:55'
}
{
  message: `📊 CHUNK SUMMARY: token="app.listen(6900, () => console.log('Server listening on port 6900'));\n` +
    '", hasToken=true, tokenLength=70',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:55'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"app.listen(6900, () => console.log('Server listening on port 6900'));\\n","completionText":"const express = require('express');\\nconst app = express();\\napp.get('/', (req, res) => res.send('Hello World!'));\\napp.listen(6900, () => console.log('Server listening on port 6900'));\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:55'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"app.listen(6900, () => console.log('Server listening on port 6900'));\\n","completionText":"const express = require('express');\\nconst app = express();\\napp.get('/', (req, res) => res.send('Hello World!'));\\napp.listen(6900, () => console.log('Server listening on port 6900'));\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:55'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"app.listen(6900, () => console.log('Server listening on port 6900'));\\n","completionText":"const express = require('express');\\nconst app = express();\\napp.get('/', (req, res) => res.send('Hello World!'));\\napp.listen(6900, () => console.log('Server listening on port 6900'));\\n","done":false,"sessionId":"uuZVJto264hCDSBtAABB","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:55'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 183',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:55'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"const express = require('express');\\nconst app = express();\\napp.get('/', (req, res) => res.send('Hello World!'));\\napp.listen(6900, () => console.log('Server listening on port 6900'));\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:55'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"const express = require('express');\\nconst app = express();\\napp.get('/', (req, res) => res.send('Hello World!'));\\napp.listen(6900, () => console.log('Server listening on port 6900'));\\n","done":true,"sessionId":"uuZVJto264hCDSBtAABB","tokenCount":5}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:55'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:55'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 183 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:55'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:13:55'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:14:00'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:14:00'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:14:00'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:14:00'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:14:00'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:14:00'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:14:06'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:14:06'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:14:06'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:14:06'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:14:06'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:14:06'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:14:22'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:14:22'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:14:22'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:14:22'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:14:22'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:14:22'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:15:07'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:15:07'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:15:07'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:15:07'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:15:07'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:15:07'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:05'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:05'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:05'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:05'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:05'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:05'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:16'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:16'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:16'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:16'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:16'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:16'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:20'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:20'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:20'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:20'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:20'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:20'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:22'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:22'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:22'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:22'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:22'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:22'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket ulebvwfW55x0Oz75AABD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:25'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: ulebvwfW55x0Oz75AABD)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:25'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 144,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:17:25'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:25'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:25'
}
{
  message: '📝 Enhanced prompt for completion (809 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:25'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:25'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:25'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "const"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 228,\n' +
    '    "totalTokenCount": 228,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 228\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "lPm3aP_kBP2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:25'
}
{
  message: '✅ Token extracted via chunk.text(): "const"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:25'
}
{
  message: '📊 CHUNK SUMMARY: token="const", hasToken=true, tokenLength=5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:25'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:25'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:25'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"const","completionText":"const","done":false,"sessionId":"ulebvwfW55x0Oz75AABD","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:25'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": " express = require('express');\\nconst app = express();\\napp.get"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 228,\n' +
    '    "totalTokenCount": 228,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 228\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "lPm3aP_kBP2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:25'
}
{
  message: `✅ Token extracted via chunk.text(): " express = require('express');\n` +
    'const app = express();\n' +
    'app.get"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:25'
}
{
  message: `📊 CHUNK SUMMARY: token=" express = require('express');\n` +
    'const app = express();\n' +
    'app.get", hasToken=true, tokenLength=61',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:25'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":" express = require('express');\\nconst app = express();\\napp.get","completionText":"const express = require('express');\\nconst app = express();\\napp.get","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:25'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":" express = require('express');\\nconst app = express();\\napp.get","completionText":"const express = require('express');\\nconst app = express();\\napp.get","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:25'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":" express = require('express');\\nconst app = express();\\napp.get","completionText":"const express = require('express');\\nconst app = express();\\napp.get","done":false,"sessionId":"ulebvwfW55x0Oz75AABD","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:25'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "('/', (req, res) => res.send('Hello World!'));\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 228,\n' +
    '    "totalTokenCount": 228,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 228\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "lPm3aP_kBP2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:25'
}
{
  message: `✅ Token extracted via chunk.text(): "('/', (req, res) => res.send('Hello World!'));\n` +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:25'
}
{
  message: `📊 CHUNK SUMMARY: token="('/', (req, res) => res.send('Hello World!'));\n` +
    '", hasToken=true, tokenLength=47',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:25'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"('/', (req, res) => res.send('Hello World!'));\\n","completionText":"const express = require('express');\\nconst app = express();\\napp.get('/', (req, res) => res.send('Hello World!'));\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:25'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"('/', (req, res) => res.send('Hello World!'));\\n","completionText":"const express = require('express');\\nconst app = express();\\napp.get('/', (req, res) => res.send('Hello World!'));\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:25'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"('/', (req, res) => res.send('Hello World!'));\\n","completionText":"const express = require('express');\\nconst app = express();\\napp.get('/', (req, res) => res.send('Hello World!'));\\n","done":false,"sessionId":"ulebvwfW55x0Oz75AABD","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:25'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "app.listen(7000, () => console.log('Server listening on port 7000'));\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 227,\n' +
    '    "candidatesTokenCount": 59,\n' +
    '    "totalTokenCount": 286,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 227\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 59\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "lPm3aP_kBP2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:26'
}
{
  message: `✅ Token extracted via chunk.text(): "app.listen(7000, () => console.log('Server listening on port 7000'));\n` +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:26'
}
{
  message: `📊 CHUNK SUMMARY: token="app.listen(7000, () => console.log('Server listening on port 7000'));\n` +
    '", hasToken=true, tokenLength=70',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:26'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"app.listen(7000, () => console.log('Server listening on port 7000'));\\n","completionText":"const express = require('express');\\nconst app = express();\\napp.get('/', (req, res) => res.send('Hello World!'));\\napp.listen(7000, () => console.log('Server listening on port 7000'));\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:26'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"app.listen(7000, () => console.log('Server listening on port 7000'));\\n","completionText":"const express = require('express');\\nconst app = express();\\napp.get('/', (req, res) => res.send('Hello World!'));\\napp.listen(7000, () => console.log('Server listening on port 7000'));\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:26'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"app.listen(7000, () => console.log('Server listening on port 7000'));\\n","completionText":"const express = require('express');\\nconst app = express();\\napp.get('/', (req, res) => res.send('Hello World!'));\\napp.listen(7000, () => console.log('Server listening on port 7000'));\\n","done":false,"sessionId":"ulebvwfW55x0Oz75AABD","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:26'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 183',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:26'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"const express = require('express');\\nconst app = express();\\napp.get('/', (req, res) => res.send('Hello World!'));\\napp.listen(7000, () => console.log('Server listening on port 7000'));\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:26'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"const express = require('express');\\nconst app = express();\\napp.get('/', (req, res) => res.send('Hello World!'));\\napp.listen(7000, () => console.log('Server listening on port 7000'));\\n","done":true,"sessionId":"ulebvwfW55x0Oz75AABD","tokenCount":5}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:26'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:26'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 183 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:26'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:26'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:34'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:34'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:34'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:34'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:34'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:34'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:47'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:47'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:47'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:47'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:47'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:17:47'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:05'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:05'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:05'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:05'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:05'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:05'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket Ti3LffCI6RRlnv4lAABF',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:06'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: Ti3LffCI6RRlnv4lAABF)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:06'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 111,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:18:06'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:06'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:06'
}
{
  message: '📝 Enhanced prompt for completion (776 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:06'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:06'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "const"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 222,\n' +
    '    "totalTokenCount": 222,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 222\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "vvm3aNmuKJa2qsMPi5PP8QE"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: '✅ Token extracted via chunk.text(): "const"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: '📊 CHUNK SUMMARY: token="const", hasToken=true, tokenLength=5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"const","completionText":"const","done":false,"sessionId":"Ti3LffCI6RRlnv4lAABF","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " isEven = (num) => num % 2 === 0;\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 222,\n' +
    '    "totalTokenCount": 222,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 222\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "vvm3aNmuKJa2qsMPi5PP8QE"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: '✅ Token extracted via chunk.text(): " isEven = (num) => num % 2 === 0;\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: '📊 CHUNK SUMMARY: token=" isEven = (num) => num % 2 === 0;\n' +
    '", hasToken=true, tokenLength=34',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":" isEven = (num) => num % 2 === 0;\\n","completionText":"const isEven = (num) => num % 2 === 0;\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":" isEven = (num) => num % 2 === 0;\\n","completionText":"const isEven = (num) => num % 2 === 0;\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":" isEven = (num) => num % 2 === 0;\\n","completionText":"const isEven = (num) => num % 2 === 0;\\n","done":false,"sessionId":"Ti3LffCI6RRlnv4lAABF","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "const isOdd = (num) => !isEven(num);\\n\\nconsole"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 222,\n' +
    '    "totalTokenCount": 222,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 222\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "vvm3aNmuKJa2qsMPi5PP8QE"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: '✅ Token extracted via chunk.text(): "const isOdd = (num) => !isEven(num);\n' +
    '\n' +
    'console"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: '📊 CHUNK SUMMARY: token="const isOdd = (num) => !isEven(num);\n' +
    '\n' +
    'console", hasToken=true, tokenLength=45',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"const isOdd = (num) => !isEven(num);\\n\\nconsole","completionText":"const isEven = (num) => num % 2 === 0;\\nconst isOdd = (num) => !isEven(num);\\n\\nconsole","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"const isOdd = (num) => !isEven(num);\\n\\nconsole","completionText":"const isEven = (num) => num % 2 === 0;\\nconst isOdd = (num) => !isEven(num);\\n\\nconsole","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"const isOdd = (num) => !isEven(num);\\n\\nconsole","completionText":"const isEven = (num) => num % 2 === 0;\\nconst isOdd = (num) => !isEven(num);\\n\\nconsole","done":false,"sessionId":"Ti3LffCI6RRlnv4lAABF","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ".log(isEven(4)); // true\\nconsole.log(isOdd(7));  // true\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 221,\n' +
    '    "candidatesTokenCount": 57,\n' +
    '    "totalTokenCount": 278,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 221\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 57\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "vvm3aNmuKJa2qsMPi5PP8QE"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: '✅ Token extracted via chunk.text(): ".log(isEven(4)); // true\n' +
    'console.log(isOdd(7));  // true\n' +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: '📊 CHUNK SUMMARY: token=".log(isEven(4)); // true\n' +
    'console.log(isOdd(7));  // true\n' +
    '", hasToken=true, tokenLength=57',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":".log(isEven(4)); // true\\nconsole.log(isOdd(7));  // true\\n","completionText":"const isEven = (num) => num % 2 === 0;\\nconst isOdd = (num) => !isEven(num);\\n\\nconsole.log(isEven(4)); // true\\nconsole.log(isOdd(7));  // true\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".log(isEven(4)); // true\\nconsole.log(isOdd(7));  // true\\n","completionText":"const isEven = (num) => num % 2 === 0;\\nconst isOdd = (num) => !isEven(num);\\n\\nconsole.log(isEven(4)); // true\\nconsole.log(isOdd(7));  // true\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".log(isEven(4)); // true\\nconsole.log(isOdd(7));  // true\\n","completionText":"const isEven = (num) => num % 2 === 0;\\nconst isOdd = (num) => !isEven(num);\\n\\nconsole.log(isEven(4)); // true\\nconsole.log(isOdd(7));  // true\\n","done":false,"sessionId":"Ti3LffCI6RRlnv4lAABF","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 141',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"const isEven = (num) => num % 2 === 0;\\nconst isOdd = (num) => !isEven(num);\\n\\nconsole.log(isEven(4)); // true\\nconsole.log(isOdd(7));  // true\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"const isEven = (num) => num % 2 === 0;\\nconst isOdd = (num) => !isEven(num);\\n\\nconsole.log(isEven(4)); // true\\nconsole.log(isOdd(7));  // true\\n","done":true,"sessionId":"Ti3LffCI6RRlnv4lAABF","tokenCount":5}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 141 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:08'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:11'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:11'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:11'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:11'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:11'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:18:11'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:43'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID DO7_OR1SSmL2VuTnAABH from IP ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:43'
}
{
  message: '✅ WebSocket Auth Success: User ahsan@gmail.com (Ahsan Haroon) authenticated for socket DO7_OR1SSmL2VuTnAABH',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:43'
}
{
  message: '🔌 WebSocket Connection Established: ahsan@gmail.com (Socket ID: DO7_OR1SSmL2VuTnAABH)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:43'
}
{
  message: '📊 Total active connections: 2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:43'
}
{
  message: '👤 User Ahsan Haroon (ahsan@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:43'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:43',
  level: 'info',
  message: '🏓 Ping received from ahsan@gmail.com:'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:43'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:43'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:43'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:43'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:43'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User ahsan@gmail.com attempting to join project',
  timestamp: '2025-09-03 13:19:43'
}
{
  message: '🏠 Room Joined: User ahsan@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:43'
}
{
  message: '👥 Project Room Status: 2 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:43'
}
{
  message: '👥 Users in room: Adnan Fazil, Ahsan Haroon',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:43'
}
{
  message: '📢 Broadcasting user-joined event for ahsan@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:43'
}
{
  message: '📤 Sent project-joined confirmation to ahsan@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:43'
}
{
  message: '✅ Join Project Success: User ahsan@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:43'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:43'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:50'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:50'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:50'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:50'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:50'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:50'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket WIrgEXlv3TRE4QzNAABJ',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:50'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: WIrgEXlv3TRE4QzNAABJ)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:50'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 261,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:19:50'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:50'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:50'
}
{
  message: '📝 Enhanced prompt for completion (926 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:50'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:50'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:51'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "console"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 287,\n' +
    '    "totalTokenCount": 287,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 287\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Jfq3aN31PPzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:51'
}
{
  message: '✅ Token extracted via chunk.text(): "console"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:51'
}
{
  message: '📊 CHUNK SUMMARY: token="console", hasToken=true, tokenLength=7',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:51'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"console","completionText":"console","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:51'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"console","completionText":"console","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:51'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"console","completionText":"console","done":false,"sessionId":"WIrgEXlv3TRE4QzNAABJ","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:51'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": ".log(isEven(9)); // false\\nconsole.log(is"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 287,\n' +
    '    "totalTokenCount": 287,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 287\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Jfq3aN31PPzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:51'
}
{
  message: '✅ Token extracted via chunk.text(): ".log(isEven(9)); // false\n' +
    'console.log(is"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:51'
}
{
  message: '📊 CHUNK SUMMARY: token=".log(isEven(9)); // false\n' +
    'console.log(is", hasToken=true, tokenLength=40',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:51'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":".log(isEven(9)); // false\\nconsole.log(is","completionText":"console.log(isEven(9)); // false\\nconsole.log(is","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:51'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":".log(isEven(9)); // false\\nconsole.log(is","completionText":"console.log(isEven(9)); // false\\nconsole.log(is","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:51'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":".log(isEven(9)); // false\\nconsole.log(is","completionText":"console.log(isEven(9)); // false\\nconsole.log(is","done":false,"sessionId":"WIrgEXlv3TRE4QzNAABJ","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:51'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "Odd(8));  // false\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 286,\n' +
    '    "candidatesTokenCount": 25,\n' +
    '    "totalTokenCount": 311,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 286\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 25\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Jfq3aN31PPzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:51'
}
{
  message: '✅ Token extracted via chunk.text(): "Odd(8));  // false\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:51'
}
{
  message: '📊 CHUNK SUMMARY: token="Odd(8));  // false\n' +
    '", hasToken=true, tokenLength=19',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:51'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"Odd(8));  // false\\n","completionText":"console.log(isEven(9)); // false\\nconsole.log(isOdd(8));  // false\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:51'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"Odd(8));  // false\\n","completionText":"console.log(isEven(9)); // false\\nconsole.log(isOdd(8));  // false\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:51'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"Odd(8));  // false\\n","completionText":"console.log(isEven(9)); // false\\nconsole.log(isOdd(8));  // false\\n","done":false,"sessionId":"WIrgEXlv3TRE4QzNAABJ","tokenCount":3}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:51'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 66',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:51'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"console.log(isEven(9)); // false\\nconsole.log(isOdd(8));  // false\\n","done":true}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:51'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"console.log(isEven(9)); // false\\nconsole.log(isOdd(8));  // false\\n","done":true,"sessionId":"WIrgEXlv3TRE4QzNAABJ","tokenCount":4}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:51'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:51'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 66 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:51'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:51'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:54'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:54'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:54'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:54'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:54'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:19:54'
}
{
  message: '💬 Chat Message Request: User adnan99@gmail.com sending message to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:15'
}
{
  message: '💬 Broadcasting chat message to 2 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:15'
}
{
  message: '✅ Chat Message Success: Message from adnan99@gmail.com broadcasted to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:15'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:41'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:41'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:41'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:41'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:41'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:41'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:43'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:43'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:43'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:43'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:43'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:43'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket sQxej87QiL1QlntaAABL',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:46'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: sQxej87QiL1QlntaAABL)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:46'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 129,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:20:46'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:46'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:46'
}
{
  message: '📝 Enhanced prompt for completion (794 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:46'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:46'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:47'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "const"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 231,\n' +
    '    "totalTokenCount": 231,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 231\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Xvq3aIGLEsbQhMIP-t6LqAM"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:47'
}
{
  message: '✅ Token extracted via chunk.text(): "const"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:47'
}
{
  message: '📊 CHUNK SUMMARY: token="const", hasToken=true, tokenLength=5',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:47'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:47'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"const","completionText":"const","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:47'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"const","completionText":"const","done":false,"sessionId":"sQxej87QiL1QlntaAABL","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:47'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": " express = require('express');\\nconst app = express();\\napp.get"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 231,\n' +
    '    "totalTokenCount": 231,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 231\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Xvq3aIGLEsbQhMIP-t6LqAM"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:48'
}
{
  message: `✅ Token extracted via chunk.text(): " express = require('express');\n` +
    'const app = express();\n' +
    'app.get"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:48'
}
{
  message: `📊 CHUNK SUMMARY: token=" express = require('express');\n` +
    'const app = express();\n' +
    'app.get", hasToken=true, tokenLength=61',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:48'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":" express = require('express');\\nconst app = express();\\napp.get","completionText":"const express = require('express');\\nconst app = express();\\napp.get","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:48'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":" express = require('express');\\nconst app = express();\\napp.get","completionText":"const express = require('express');\\nconst app = express();\\napp.get","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:48'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":" express = require('express');\\nconst app = express();\\napp.get","completionText":"const express = require('express');\\nconst app = express();\\napp.get","done":false,"sessionId":"sQxej87QiL1QlntaAABL","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:48'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "('/', (req, res) => res.send('Hello World!'));\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 231,\n' +
    '    "totalTokenCount": 231,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 231\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Xvq3aIGLEsbQhMIP-t6LqAM"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:48'
}
{
  message: `✅ Token extracted via chunk.text(): "('/', (req, res) => res.send('Hello World!'));\n` +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:48'
}
{
  message: `📊 CHUNK SUMMARY: token="('/', (req, res) => res.send('Hello World!'));\n` +
    '", hasToken=true, tokenLength=47',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:48'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"('/', (req, res) => res.send('Hello World!'));\\n","completionText":"const express = require('express');\\nconst app = express();\\napp.get('/', (req, res) => res.send('Hello World!'));\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:48'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"('/', (req, res) => res.send('Hello World!'));\\n","completionText":"const express = require('express');\\nconst app = express();\\napp.get('/', (req, res) => res.send('Hello World!'));\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:48'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"('/', (req, res) => res.send('Hello World!'));\\n","completionText":"const express = require('express');\\nconst app = express();\\napp.get('/', (req, res) => res.send('Hello World!'));\\n","done":false,"sessionId":"sQxej87QiL1QlntaAABL","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:48'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "app.listen(4000, () => console.log('Server listening on port 4000'));\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 230,\n' +
    '    "candidatesTokenCount": 59,\n' +
    '    "totalTokenCount": 289,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 230\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 59\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Xvq3aIGLEsbQhMIP-t6LqAM"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:48'
}
{
  message: `✅ Token extracted via chunk.text(): "app.listen(4000, () => console.log('Server listening on port 4000'));\n` +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:48'
}
{
  message: `📊 CHUNK SUMMARY: token="app.listen(4000, () => console.log('Server listening on port 4000'));\n` +
    '", hasToken=true, tokenLength=70',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:48'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"app.listen(4000, () => console.log('Server listening on port 4000'));\\n","completionText":"const express = require('express');\\nconst app = express();\\napp.get('/', (req, res) => res.send('Hello World!'));\\napp.listen(4000, () => console.log('Server listening on port 4000'));\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:48'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"app.listen(4000, () => console.log('Server listening on port 4000'));\\n","completionText":"const express = require('express');\\nconst app = express();\\napp.get('/', (req, res) => res.send('Hello World!'));\\napp.listen(4000, () => console.log('Server listening on port 4000'));\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:48'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"app.listen(4000, () => console.log('Server listening on port 4000'));\\n","completionText":"const express = require('express');\\nconst app = express();\\napp.get('/', (req, res) => res.send('Hello World!'));\\napp.listen(4000, () => console.log('Server listening on port 4000'));\\n","done":false,"sessionId":"sQxej87QiL1QlntaAABL","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:48'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 183',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:48'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"const express = require('express');\\nconst app = express();\\napp.get('/', (req, res) => res.send('Hello World!'));\\napp.listen(4000, () => console.log('Server listening on port 4000'));\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:48'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"const express = require('express');\\nconst app = express();\\napp.get('/', (req, res) => res.send('Hello World!'));\\napp.listen(4000, () => console.log('Server listening on port 4000'));\\n","done":true,"sessionId":"sQxej87QiL1QlntaAABL","tokenCount":5}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:48'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:48'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 183 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:48'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:48'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:50'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:50'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:50'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:50'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:50'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:20:50'
}
{
  message: '🔌 WebSocket Disconnection: User ahsan@gmail.com (Socket ID: DO7_OR1SSmL2VuTnAABH) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:21:25'
}
{
  message: '👤 User ahsan@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:21:25'
}
{
  message: '📊 Remaining active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:21:25'
}
{
  message: '🚪 User ahsan@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:21:25'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:21:25'
}
{
  message: '✅ Disconnect Cleanup Complete: User ahsan@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:21:25'
}
{
  message: '📊 Total active project rooms: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:21:25'
}
{
  message: '🧹 Cleanup: Stopped container session for socket DO7_OR1SSmL2VuTnAABH',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:21:25'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID 1uPZPVRFVZLkX2krAABN from IP ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:44:49'
}
{
  message: '✅ WebSocket Auth Success: User ahsan@gmail.com (Ahsan Haroon) authenticated for socket 1uPZPVRFVZLkX2krAABN',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:44:49'
}
{
  message: '🔌 WebSocket Connection Established: ahsan@gmail.com (Socket ID: 1uPZPVRFVZLkX2krAABN)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:44:49'
}
{
  message: '📊 Total active connections: 2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:44:49'
}
{
  message: '👤 User Ahsan Haroon (ahsan@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:44:49'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:44:57',
  level: 'info',
  message: '🏓 Ping received from ahsan@gmail.com:'
}
{
  message: 'User ahsan@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:44:57'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User ahsan@gmail.com attempting to join project',
  timestamp: '2025-09-03 13:44:57'
}
{
  message: '🏠 Room Joined: User ahsan@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:44:57'
}
{
  message: '👥 Project Room Status: 2 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:44:57'
}
{
  message: '👥 Users in room: Adnan Fazil, Ahsan Haroon',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:44:57'
}
{
  message: '📢 Broadcasting user-joined event for ahsan@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:44:57'
}
{
  message: '📤 Sent project-joined confirmation to ahsan@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:44:57'
}
{
  message: '✅ Join Project Success: User ahsan@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:44:57'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:36'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:36'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:36'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:36'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:36'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:36'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:50'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:50'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:50'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:50'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:50'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:50'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket VGnpw_mL1aIxbKN0AABP',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:52'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: VGnpw_mL1aIxbKN0AABP)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:52'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 1263,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:46:52'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:52'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:52'
}
{
  message: '📝 Enhanced prompt for completion (1928 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:52'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:52'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:54'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "  "\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 623,\n' +
    '    "totalTokenCount": 623,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 623\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "fQC4aNzLN73qqsMPtMbK0Q0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:54'
}
{
  message: '✅ Token extracted via chunk.text(): "  "',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:54'
}
{
  message: '📊 CHUNK SUMMARY: token="  ", hasToken=true, tokenLength=2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:54'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"  ","completionText":"  ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:54'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"  ","completionText":"  ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:54'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"  ","completionText":"  ","done":false,"sessionId":"VGnpw_mL1aIxbKN0AABP","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:54'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "res.send('Hello Waleed!');\\n});\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 622,\n' +
    '    "candidatesTokenCount": 12,\n' +
    '    "totalTokenCount": 634,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 622\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 12\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "fQC4aNzLN73qqsMPtMbK0Q0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:54'
}
{
  message: `✅ Token extracted via chunk.text(): "res.send('Hello Waleed!');\n});\n"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:54'
}
{
  message: `📊 CHUNK SUMMARY: token="res.send('Hello Waleed!');\n` +
    '});\n' +
    '", hasToken=true, tokenLength=31',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:54'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"res.send('Hello Waleed!');\\n});\\n","completionText":"  res.send('Hello Waleed!');\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:54'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"res.send('Hello Waleed!');\\n});\\n","completionText":"  res.send('Hello Waleed!');\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:54'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"res.send('Hello Waleed!');\\n});\\n","completionText":"  res.send('Hello Waleed!');\\n});\\n","done":false,"sessionId":"VGnpw_mL1aIxbKN0AABP","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:54'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 33',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:54'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"  res.send('Hello Waleed!');\\n});\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:54'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"  res.send('Hello Waleed!');\\n});\\n","done":true,"sessionId":"VGnpw_mL1aIxbKN0AABP","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:54'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:54'
}
{
  message: 'Completion finished for adnan99@gmail.com: 3 tokens, 33 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:54'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:54'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:56'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:56'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:56'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:56'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:56'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:46:56'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:07'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:07'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:07'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:07'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:07'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:07'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:10'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:10'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:10'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:10'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:10'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:10'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:14'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:14'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:14'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:14'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:14'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:14'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket a4Lj8SVdXFOqh0AsAABR',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:16'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: a4Lj8SVdXFOqh0AsAABR)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:16'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 1267,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:47:16'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:16'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:16'
}
{
  message: '📝 Enhanced prompt for completion (1932 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:16'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:16'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:17'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "app"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 626,\n' +
    '    "totalTokenCount": 626,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 626\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "lQC4aPWjBPzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:17'
}
{
  message: '✅ Token extracted via chunk.text(): "app"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:17'
}
{
  message: '📊 CHUNK SUMMARY: token="app", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:17'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:17'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:17'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"app","completionText":"app","done":false,"sessionId":"a4Lj8SVdXFOqh0AsAABR","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:17'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".get('/waleed', (req, res) => {\\n  res"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 626,\n' +
    '    "totalTokenCount": 626,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 626\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "lQC4aPWjBPzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:17'
}
{
  message: `✅ Token extracted via chunk.text(): ".get('/waleed', (req, res) => {\n` +
    '  res"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:17'
}
{
  message: `📊 CHUNK SUMMARY: token=".get('/waleed', (req, res) => {\n` +
    '  res", hasToken=true, tokenLength=37',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:17'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".get('/waleed', (req, res) => {\\n  res","completionText":"app.get('/waleed', (req, res) => {\\n  res","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:17'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".get('/waleed', (req, res) => {\\n  res","completionText":"app.get('/waleed', (req, res) => {\\n  res","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:17'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".get('/waleed', (req, res) => {\\n  res","completionText":"app.get('/waleed', (req, res) => {\\n  res","done":false,"sessionId":"a4Lj8SVdXFOqh0AsAABR","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:17'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".send('Hello Waleed!');\\n});\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 625,\n' +
    '    "candidatesTokenCount": 27,\n' +
    '    "totalTokenCount": 652,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 625\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 27\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "lQC4aPWjBPzwqsMPgoDn4Qw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:17'
}
{
  message: `✅ Token extracted via chunk.text(): ".send('Hello Waleed!');\n});\n"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:17'
}
{
  message: `📊 CHUNK SUMMARY: token=".send('Hello Waleed!');\n` +
    '});\n' +
    '", hasToken=true, tokenLength=28',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:17'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".send('Hello Waleed!');\\n});\\n","completionText":"app.get('/waleed', (req, res) => {\\n  res.send('Hello Waleed!');\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:17'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".send('Hello Waleed!');\\n});\\n","completionText":"app.get('/waleed', (req, res) => {\\n  res.send('Hello Waleed!');\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:17'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".send('Hello Waleed!');\\n});\\n","completionText":"app.get('/waleed', (req, res) => {\\n  res.send('Hello Waleed!');\\n});\\n","done":false,"sessionId":"a4Lj8SVdXFOqh0AsAABR","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:17'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 68',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:17'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"app.get('/waleed', (req, res) => {\\n  res.send('Hello Waleed!');\\n});\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:17'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"app.get('/waleed', (req, res) => {\\n  res.send('Hello Waleed!');\\n});\\n","done":true,"sessionId":"a4Lj8SVdXFOqh0AsAABR","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:17'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:17'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 68 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:17'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:17'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:19'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:19'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:19'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:19'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:19'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:19'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket _DYykBFHwVhBNBW8AABT',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:19'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: _DYykBFHwVhBNBW8AABT)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:19'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 1227,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:47:19'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:19'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:19'
}
{
  message: '📝 Enhanced prompt for completion (1892 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:19'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:19'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:20'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:20'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:20'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 616,\n' +
    '    "totalTokenCount": 616,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 616\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "mAC4aK-pC-6LqsMPhfO--Aw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:20'
}
{
  message: '✅ Token extracted via chunk.text(): "\n"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:20'
}
{
  message: '📊 CHUNK SUMMARY: token="\n", hasToken=true, tokenLength=1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:20'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:20'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"\\n","completionText":"\\n","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:20'
}
{
  message: 'Completion cancelled for socket _DYykBFHwVhBNBW8AABT',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:20'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:20'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:21'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:21'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:21'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:21'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:21'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:21'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket AsmZ4xSFhdNHwLgbAABV',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:24'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: AsmZ4xSFhdNHwLgbAABV)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:24'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 1271,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:47:24'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:24'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:24'
}
{
  message: '📝 Enhanced prompt for completion (1936 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:24'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:24'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:24'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "  "\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 629,\n' +
    '    "totalTokenCount": 629,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 629\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "nAC4aNjhEu6LqsMPhfO--Aw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:24'
}
{
  message: '✅ Token extracted via chunk.text(): "  "',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:24'
}
{
  message: '📊 CHUNK SUMMARY: token="  ", hasToken=true, tokenLength=2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:24'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"  ","completionText":"  ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:24'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"  ","completionText":"  ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:24'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"  ","completionText":"  ","done":false,"sessionId":"AsmZ4xSFhdNHwLgbAABV","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:24'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "res.send('Hello Waleed!');\\n});\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 628,\n' +
    '    "candidatesTokenCount": 12,\n' +
    '    "totalTokenCount": 640,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 628\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 12\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "nAC4aNjhEu6LqsMPhfO--Aw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:24'
}
{
  message: `✅ Token extracted via chunk.text(): "res.send('Hello Waleed!');\n});\n"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:24'
}
{
  message: `📊 CHUNK SUMMARY: token="res.send('Hello Waleed!');\n` +
    '});\n' +
    '", hasToken=true, tokenLength=31',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:24'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"res.send('Hello Waleed!');\\n});\\n","completionText":"  res.send('Hello Waleed!');\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:24'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"res.send('Hello Waleed!');\\n});\\n","completionText":"  res.send('Hello Waleed!');\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:24'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"res.send('Hello Waleed!');\\n});\\n","completionText":"  res.send('Hello Waleed!');\\n});\\n","done":false,"sessionId":"AsmZ4xSFhdNHwLgbAABV","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:24'
}
{
  message: '🏁 Stream completed. Total chunks: 2, Final completion length: 33',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:24'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"  res.send('Hello Waleed!');\\n});\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:24'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"  res.send('Hello Waleed!');\\n});\\n","done":true,"sessionId":"AsmZ4xSFhdNHwLgbAABV","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:24'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:24'
}
{
  message: 'Completion finished for adnan99@gmail.com: 3 tokens, 33 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:24'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:24'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:27'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:27'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:27'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:27'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:27'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:27'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:30'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:30'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:30'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:30'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:30'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:30'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:36'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:36'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:36'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:36'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:36'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:36'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:46'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:46'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:46'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:46'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:46'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:46'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:55'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:55'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:55'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:55'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:55'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:47:55'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:13'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:13'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:13'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:13'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:13'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:13'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket xaXVl91pPS4HrFk2AABX',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:15'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: xaXVl91pPS4HrFk2AABX)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:15'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 1300,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:48:15'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:15'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:15'
}
{
  message: '📝 Enhanced prompt for completion (1965 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:15'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:15'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:15'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "app"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 634,\n' +
    '    "totalTokenCount": 634,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 634\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "zwC4aILGJ73qqsMPtMbK0Q0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:15'
}
{
  message: '✅ Token extracted via chunk.text(): "app"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:15'
}
{
  message: '📊 CHUNK SUMMARY: token="app", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:15'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:15'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:15'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"app","completionText":"app","done":false,"sessionId":"xaXVl91pPS4HrFk2AABX","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:15'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".get('/hello', (req, res) => {\\n  res."\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 634,\n' +
    '    "totalTokenCount": 634,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 634\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "zwC4aILGJ73qqsMPtMbK0Q0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:16'
}
{
  message: `✅ Token extracted via chunk.text(): ".get('/hello', (req, res) => {\n` +
    '  res."',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:16'
}
{
  message: `📊 CHUNK SUMMARY: token=".get('/hello', (req, res) => {\n` +
    '  res.", hasToken=true, tokenLength=37',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:16'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".get('/hello', (req, res) => {\\n  res.","completionText":"app.get('/hello', (req, res) => {\\n  res.","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:16'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".get('/hello', (req, res) => {\\n  res.","completionText":"app.get('/hello', (req, res) => {\\n  res.","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:16'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".get('/hello', (req, res) => {\\n  res.","completionText":"app.get('/hello', (req, res) => {\\n  res.","done":false,"sessionId":"xaXVl91pPS4HrFk2AABX","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:16'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "send('Hello Adnan!');\\n});\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 633,\n' +
    '    "candidatesTokenCount": 25,\n' +
    '    "totalTokenCount": 658,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 633\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 25\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "zwC4aILGJ73qqsMPtMbK0Q0"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:16'
}
{
  message: `✅ Token extracted via chunk.text(): "send('Hello Adnan!');\n});\n"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:16'
}
{
  message: `📊 CHUNK SUMMARY: token="send('Hello Adnan!');\n` +
    '});\n' +
    '", hasToken=true, tokenLength=26',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:16'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"send('Hello Adnan!');\\n});\\n","completionText":"app.get('/hello', (req, res) => {\\n  res.send('Hello Adnan!');\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:16'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"send('Hello Adnan!');\\n});\\n","completionText":"app.get('/hello', (req, res) => {\\n  res.send('Hello Adnan!');\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:16'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"send('Hello Adnan!');\\n});\\n","completionText":"app.get('/hello', (req, res) => {\\n  res.send('Hello Adnan!');\\n});\\n","done":false,"sessionId":"xaXVl91pPS4HrFk2AABX","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:16'
}
{
  message: '🏁 Stream completed. Total chunks: 3, Final completion length: 66',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:16'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"app.get('/hello', (req, res) => {\\n  res.send('Hello Adnan!');\\n});\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:16'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"app.get('/hello', (req, res) => {\\n  res.send('Hello Adnan!');\\n});\\n","done":true,"sessionId":"xaXVl91pPS4HrFk2AABX","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:16'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:16'
}
{
  message: 'Completion finished for adnan99@gmail.com: 4 tokens, 66 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:16'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:16'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:17'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:17'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:17'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:17'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:17'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:17'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:27'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:27'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:27'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:27'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:27'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:27'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:34'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:34'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:34'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:34'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:34'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:34'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:38'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:38'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:38'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:38'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:38'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:38'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:44'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:44'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:44'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:44'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:44'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:44'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket uyhFNfBUEYw_dmvaAABZ',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:45'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: uyhFNfBUEYw_dmvaAABZ)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:45'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 1267,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:48:45'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:45'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:45'
}
{
  message: '📝 Enhanced prompt for completion (1932 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:45'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:45'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:45'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "app"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 629,\n' +
    '    "totalTokenCount": 629,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 629\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "7QC4aLb1JZa2qsMPi5PP8QE"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:45'
}
{
  message: '✅ Token extracted via chunk.text(): "app"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:45'
}
{
  message: '📊 CHUNK SUMMARY: token="app", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:45'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:45'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:45'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"app","completionText":"app","done":false,"sessionId":"uyhFNfBUEYw_dmvaAABZ","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:45'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".post('/signup', (req, res) => {\\n  const {"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 629,\n' +
    '    "totalTokenCount": 629,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 629\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "7QC4aLb1JZa2qsMPi5PP8QE"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:45'
}
{
  message: `✅ Token extracted via chunk.text(): ".post('/signup', (req, res) => {\n` +
    '  const {"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:45'
}
{
  message: `📊 CHUNK SUMMARY: token=".post('/signup', (req, res) => {\n` +
    '  const {", hasToken=true, tokenLength=42',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:45'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".post('/signup', (req, res) => {\\n  const {","completionText":"app.post('/signup', (req, res) => {\\n  const {","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:45'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".post('/signup', (req, res) => {\\n  const {","completionText":"app.post('/signup', (req, res) => {\\n  const {","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:45'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".post('/signup', (req, res) => {\\n  const {","completionText":"app.post('/signup', (req, res) => {\\n  const {","done":false,"sessionId":"uyhFNfBUEYw_dmvaAABZ","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:45'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " username, password } = req.body;\\n  // Add user signup logic"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 629,\n' +
    '    "totalTokenCount": 629,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 629\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "7QC4aLb1JZa2qsMPi5PP8QE"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:46'
}
{
  message: '✅ Token extracted via chunk.text(): " username, password } = req.body;\n' +
    '  // Add user signup logic"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:46'
}
{
  message: '📊 CHUNK SUMMARY: token=" username, password } = req.body;\n' +
    '  // Add user signup logic", hasToken=true, tokenLength=60',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:46'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":" username, password } = req.body;\\n  // Add user signup logic","completionText":"app.post('/signup', (req, res) => {\\n  const { username, password } = req.body;\\n  // Add user signup logic","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:46'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":" username, password } = req.body;\\n  // Add user signup logic","completionText":"app.post('/signup', (req, res) => {\\n  const { username, password } = req.body;\\n  // Add user signup logic","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:46'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":" username, password } = req.body;\\n  // Add user signup logic","completionText":"app.post('/signup', (req, res) => {\\n  const { username, password } = req.body;\\n  // Add user signup logic","done":false,"sessionId":"uyhFNfBUEYw_dmvaAABZ","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:46'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": " here\\n  res.send('User signed up successfully!');\\n});\\n"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 628,\n' +
    '    "candidatesTokenCount": 48,\n' +
    '    "totalTokenCount": 676,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 628\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 48\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "7QC4aLb1JZa2qsMPi5PP8QE"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:46'
}
{
  message: '✅ Token extracted via chunk.text(): " here\n' +
    "  res.send('User signed up successfully!');\n" +
    '});\n' +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:46'
}
{
  message: '📊 CHUNK SUMMARY: token=" here\n' +
    "  res.send('User signed up successfully!');\n" +
    '});\n' +
    '", hasToken=true, tokenLength=54',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:46'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":" here\\n  res.send('User signed up successfully!');\\n});\\n","completionText":"app.post('/signup', (req, res) => {\\n  const { username, password } = req.body;\\n  // Add user signup logic here\\n  res.send('User signed up successfully!');\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:46'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":" here\\n  res.send('User signed up successfully!');\\n});\\n","completionText":"app.post('/signup', (req, res) => {\\n  const { username, password } = req.body;\\n  // Add user signup logic here\\n  res.send('User signed up successfully!');\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:46'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":" here\\n  res.send('User signed up successfully!');\\n});\\n","completionText":"app.post('/signup', (req, res) => {\\n  const { username, password } = req.body;\\n  // Add user signup logic here\\n  res.send('User signed up successfully!');\\n});\\n","done":false,"sessionId":"uyhFNfBUEYw_dmvaAABZ","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:46'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 159',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:46'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"app.post('/signup', (req, res) => {\\n  const { username, password } = req.body;\\n  // Add user signup logic here\\n  res.send('User signed up successfully!');\\n});\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:46'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"app.post('/signup', (req, res) => {\\n  const { username, password } = req.body;\\n  // Add user signup logic here\\n  res.send('User signed up successfully!');\\n});\\n","done":true,"sessionId":"uyhFNfBUEYw_dmvaAABZ","tokenCount":5}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:46'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:46'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 159 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:46'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:46'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:48'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:48'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:48'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:48'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:48'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:48'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:58'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:58'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:58'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:58'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:58'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:48:58'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:07'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:07'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:07'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:07'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:07'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:07'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket BpJbkm9l-79LkjZZAABb',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:09'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: BpJbkm9l-79LkjZZAABb)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:09'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 1316,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:49:09'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:09'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:09'
}
{
  message: '📝 Enhanced prompt for completion (1981 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:09'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:09'
}
{
  service: 'collabcode-backend',
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [
        {
          quotaMetric: 'generativelanguage.googleapis.com/generate_content_free_tier_requests',
          quotaId: 'GenerateRequestsPerDayPerProjectPerModel-FreeTier',
          quotaDimensions: { location: 'global', model: 'gemini-1.5-flash' },
          quotaValue: '50'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.Help',
      links: [
        {
          description: 'Learn more about Gemini API quotas',
          url: 'https://ai.google.dev/gemini-api/docs/rate-limits'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '50s'
    }
  ],
  level: 'error',
  message: 'Error generating streaming completion: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"50s"}]',
  stack: 'Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"50s"}]\n' +
    '    at handleResponseNotOk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async makeRequest (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n' +
    '    at async generateContentStream (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:862:22)\n' +
    '    at async StreamingCompletionService.generateCompletion (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\streamingCompletionService.js:48:22)\n' +
    '    at async Socket.<anonymous> (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\socket\\completionSocketHandler.js:100:26)',
  timestamp: '2025-09-03 13:49:09'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"","done":true,"error":"[GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{\\"@type\\":\\"type.googleapis.com/google.rpc.QuotaFailure\\",\\"violations\\":[{\\"quotaMetric\\":\\"generativelanguage.googleapis.com/generate_content_free_tier_requests\\",\\"quotaId\\":\\"GenerateRequestsPerDayPerProjectPerModel-FreeTier\\",\\"quotaDimensions\\":{\\"location\\":\\"global\\",\\"model\\":\\"gemini-1.5-flash\\"},\\"quotaValue\\":\\"50\\"}]},{\\"@type\\":\\"type.googleapis.com/google.rpc.Help\\",\\"links\\":[{\\"description\\":\\"Learn more about Gemini API quotas\\",\\"url\\":\\"https://ai.google.dev/gemini-api/docs/rate-limits\\"}]},{\\"@type\\":\\"type.googleapis.com/google.rpc.RetryInfo\\",\\"retryDelay\\":\\"50s\\"}]"}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:09'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"","done":true,"error":"[GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{\\"@type\\":\\"type.googleapis.com/google.rpc.QuotaFailure\\",\\"violations\\":[{\\"quotaMetric\\":\\"generativelanguage.googleapis.com/generate_content_free_tier_requests\\",\\"quotaId\\":\\"GenerateRequestsPerDayPerProjectPerModel-FreeTier\\",\\"quotaDimensions\\":{\\"location\\":\\"global\\",\\"model\\":\\"gemini-1.5-flash\\"},\\"quotaValue\\":\\"50\\"}]},{\\"@type\\":\\"type.googleapis.com/google.rpc.Help\\",\\"links\\":[{\\"description\\":\\"Learn more about Gemini API quotas\\",\\"url\\":\\"https://ai.google.dev/gemini-api/docs/rate-limits\\"}]},{\\"@type\\":\\"type.googleapis.com/google.rpc.RetryInfo\\",\\"retryDelay\\":\\"50s\\"}]","sessionId":"BpJbkm9l-79LkjZZAABb","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:09'
}
{
  message: '🏁 Completion terminating: done=true error=[GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"50s"}]',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:09'
}
{
  message: 'Completion finished for adnan99@gmail.com: 1 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:09'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:09'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket X_RiKNn0RUlfa7REAABd',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:16'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: X_RiKNn0RUlfa7REAABd)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:16'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 1316,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:49:16'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:16'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:16'
}
{
  message: '📝 Enhanced prompt for completion (1981 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:16'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:16'
}
{
  service: 'collabcode-backend',
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [
        {
          quotaMetric: 'generativelanguage.googleapis.com/generate_content_free_tier_requests',
          quotaId: 'GenerateRequestsPerDayPerProjectPerModel-FreeTier',
          quotaDimensions: { location: 'global', model: 'gemini-1.5-flash' },
          quotaValue: '50'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.Help',
      links: [
        {
          description: 'Learn more about Gemini API quotas',
          url: 'https://ai.google.dev/gemini-api/docs/rate-limits'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '43s'
    }
  ],
  level: 'error',
  message: 'Error generating streaming completion: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"43s"}]',
  stack: 'Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"43s"}]\n' +
    '    at handleResponseNotOk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async makeRequest (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n' +
    '    at async generateContentStream (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:862:22)\n' +
    '    at async StreamingCompletionService.generateCompletion (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\streamingCompletionService.js:48:22)\n' +
    '    at async Socket.<anonymous> (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\socket\\completionSocketHandler.js:100:26)',
  timestamp: '2025-09-03 13:49:16'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"","done":true,"error":"[GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{\\"@type\\":\\"type.googleapis.com/google.rpc.QuotaFailure\\",\\"violations\\":[{\\"quotaMetric\\":\\"generativelanguage.googleapis.com/generate_content_free_tier_requests\\",\\"quotaId\\":\\"GenerateRequestsPerDayPerProjectPerModel-FreeTier\\",\\"quotaDimensions\\":{\\"location\\":\\"global\\",\\"model\\":\\"gemini-1.5-flash\\"},\\"quotaValue\\":\\"50\\"}]},{\\"@type\\":\\"type.googleapis.com/google.rpc.Help\\",\\"links\\":[{\\"description\\":\\"Learn more about Gemini API quotas\\",\\"url\\":\\"https://ai.google.dev/gemini-api/docs/rate-limits\\"}]},{\\"@type\\":\\"type.googleapis.com/google.rpc.RetryInfo\\",\\"retryDelay\\":\\"43s\\"}]"}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:16'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"","done":true,"error":"[GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{\\"@type\\":\\"type.googleapis.com/google.rpc.QuotaFailure\\",\\"violations\\":[{\\"quotaMetric\\":\\"generativelanguage.googleapis.com/generate_content_free_tier_requests\\",\\"quotaId\\":\\"GenerateRequestsPerDayPerProjectPerModel-FreeTier\\",\\"quotaDimensions\\":{\\"location\\":\\"global\\",\\"model\\":\\"gemini-1.5-flash\\"},\\"quotaValue\\":\\"50\\"}]},{\\"@type\\":\\"type.googleapis.com/google.rpc.Help\\",\\"links\\":[{\\"description\\":\\"Learn more about Gemini API quotas\\",\\"url\\":\\"https://ai.google.dev/gemini-api/docs/rate-limits\\"}]},{\\"@type\\":\\"type.googleapis.com/google.rpc.RetryInfo\\",\\"retryDelay\\":\\"43s\\"}]","sessionId":"X_RiKNn0RUlfa7REAABd","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:16'
}
{
  message: '🏁 Completion terminating: done=true error=[GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"43s"}]',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:16'
}
{
  message: 'Completion finished for adnan99@gmail.com: 1 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:16'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:16'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket rrxYu4b49f77Oeh0AABf',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:31'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: rrxYu4b49f77Oeh0AABf)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:31'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 1316,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 13:49:31'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:31'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:31'
}
{
  message: '📝 Enhanced prompt for completion (1981 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:31'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:31'
}
{
  service: 'collabcode-backend',
  status: 429,
  statusText: 'Too Many Requests',
  errorDetails: [
    {
      '@type': 'type.googleapis.com/google.rpc.QuotaFailure',
      violations: [
        {
          quotaMetric: 'generativelanguage.googleapis.com/generate_content_free_tier_requests',
          quotaId: 'GenerateRequestsPerDayPerProjectPerModel-FreeTier',
          quotaDimensions: { location: 'global', model: 'gemini-1.5-flash' },
          quotaValue: '50'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.Help',
      links: [
        {
          description: 'Learn more about Gemini API quotas',
          url: 'https://ai.google.dev/gemini-api/docs/rate-limits'
        }
      ]
    },
    {
      '@type': 'type.googleapis.com/google.rpc.RetryInfo',
      retryDelay: '28s'
    }
  ],
  level: 'error',
  message: 'Error generating streaming completion: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"28s"}]',
  stack: 'Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"28s"}]\n' +
    '    at handleResponseNotOk (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async makeRequest (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n' +
    '    at async generateContentStream (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:862:22)\n' +
    '    at async StreamingCompletionService.generateCompletion (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\services\\streamingCompletionService.js:48:22)\n' +
    '    at async Socket.<anonymous> (C:\\Users\\Mosafir\\Desktop\\CollabCode(updated)\\backend\\src\\socket\\completionSocketHandler.js:100:26)',
  timestamp: '2025-09-03 13:49:31'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"","done":true,"error":"[GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{\\"@type\\":\\"type.googleapis.com/google.rpc.QuotaFailure\\",\\"violations\\":[{\\"quotaMetric\\":\\"generativelanguage.googleapis.com/generate_content_free_tier_requests\\",\\"quotaId\\":\\"GenerateRequestsPerDayPerProjectPerModel-FreeTier\\",\\"quotaDimensions\\":{\\"location\\":\\"global\\",\\"model\\":\\"gemini-1.5-flash\\"},\\"quotaValue\\":\\"50\\"}]},{\\"@type\\":\\"type.googleapis.com/google.rpc.Help\\",\\"links\\":[{\\"description\\":\\"Learn more about Gemini API quotas\\",\\"url\\":\\"https://ai.google.dev/gemini-api/docs/rate-limits\\"}]},{\\"@type\\":\\"type.googleapis.com/google.rpc.RetryInfo\\",\\"retryDelay\\":\\"28s\\"}]"}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:31'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"","completionText":"","done":true,"error":"[GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{\\"@type\\":\\"type.googleapis.com/google.rpc.QuotaFailure\\",\\"violations\\":[{\\"quotaMetric\\":\\"generativelanguage.googleapis.com/generate_content_free_tier_requests\\",\\"quotaId\\":\\"GenerateRequestsPerDayPerProjectPerModel-FreeTier\\",\\"quotaDimensions\\":{\\"location\\":\\"global\\",\\"model\\":\\"gemini-1.5-flash\\"},\\"quotaValue\\":\\"50\\"}]},{\\"@type\\":\\"type.googleapis.com/google.rpc.Help\\",\\"links\\":[{\\"description\\":\\"Learn more about Gemini API quotas\\",\\"url\\":\\"https://ai.google.dev/gemini-api/docs/rate-limits\\"}]},{\\"@type\\":\\"type.googleapis.com/google.rpc.RetryInfo\\",\\"retryDelay\\":\\"28s\\"}]","sessionId":"rrxYu4b49f77Oeh0AABf","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:31'
}
{
  message: '🏁 Completion terminating: done=true error=[GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:streamGenerateContent?alt=sse: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [{"@type":"type.googleapis.com/google.rpc.QuotaFailure","violations":[{"quotaMetric":"generativelanguage.googleapis.com/generate_content_free_tier_requests","quotaId":"GenerateRequestsPerDayPerProjectPerModel-FreeTier","quotaDimensions":{"location":"global","model":"gemini-1.5-flash"},"quotaValue":"50"}]},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Learn more about Gemini API quotas","url":"https://ai.google.dev/gemini-api/docs/rate-limits"}]},{"@type":"type.googleapis.com/google.rpc.RetryInfo","retryDelay":"28s"}]',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:31'
}
{
  message: 'Completion finished for adnan99@gmail.com: 1 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:31'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 13:49:31'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:16:59'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:16:59'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:16:59'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:16:59'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:16:59'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:16:59'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:17:13'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:17:13'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:17:13'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:17:13'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:17:13'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:17:13'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:17:15'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:17:15'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:17:15'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:17:15'
}
{
  message: '📂 File sync completed: 1/1 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:17:15'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:17:15'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: bvuTQixhRXfBVbYrAAAT) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:45:50'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:45:50'
}
{
  message: '📊 Remaining active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:45:50'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:45:50'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:45:50'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:45:50'
}
{
  message: '📊 Total active project rooms: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:45:50'
}
{
  message: '🧹 Cleanup: Stopped container session for socket bvuTQixhRXfBVbYrAAAT',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:45:50'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:45:51'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID PV_NyADETa0nG5BAAABh from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:45:52'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket PV_NyADETa0nG5BAAABh',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:45:52'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: PV_NyADETa0nG5BAAABh)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:45:52'
}
{
  message: '📊 Total active connections: 2',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:45:52'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:45:52'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:45:52'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:45:52'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:45:52'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:45:52'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:45:52',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:45:52'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:45:52'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 14:45:52'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:45:52'
}
{
  message: '👥 Project Room Status: 2 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:45:52'
}
{
  message: '👥 Users in room: Ahsan Haroon, Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:45:52'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:45:52'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:45:52'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:45:52'
}
{
  message: '🔌 WebSocket Disconnection: User ahsan@gmail.com (Socket ID: 1uPZPVRFVZLkX2krAABN) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:51:51'
}
{
  message: '👤 User ahsan@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:51:51'
}
{
  message: '📊 Remaining active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:51:51'
}
{
  message: '🚪 User ahsan@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:51:51'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:51:51'
}
{
  message: '✅ Disconnect Cleanup Complete: User ahsan@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:51:51'
}
{
  message: '📊 Total active project rooms: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:51:51'
}
{
  message: '🧹 Cleanup: Stopped container session for socket 1uPZPVRFVZLkX2krAABN',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 14:51:51'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:11:39'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:11:39'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:11:39'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:11:39'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:11:39'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:11:39'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:11:39'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:11:39'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:11:39'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID AjWox277qlEnhTYMAAAB from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:11:39'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket AjWox277qlEnhTYMAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:11:39'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: AjWox277qlEnhTYMAAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:11:39'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:11:39'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:11:39'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:11:40',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:11:40'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 15:11:40'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:11:40'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:11:40'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:11:40'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:11:40'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:11:40'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:11:40'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:11:40'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:22:39'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:22:39'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:22:39'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:22:39'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:22:39'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:22:39'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:22:39'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:22:39'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:22:39'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID d2gNNK3wYM7yzuEdAAAB from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:22:39'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket d2gNNK3wYM7yzuEdAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:22:39'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: d2gNNK3wYM7yzuEdAAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:22:39'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:22:39'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:22:39'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:22:39',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:22:40'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 15:22:40'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:22:40'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:22:40'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:22:40'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:22:40'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:22:40'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:22:40'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:22:40'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:39:50'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:39:50'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:39:50'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:39:50'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:39:50'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:39:50'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:39:50'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:39:50'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:39:50'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID Ve2MVqfBIZJrjsXgAAAB from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:39:50'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket Ve2MVqfBIZJrjsXgAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:39:50'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: Ve2MVqfBIZJrjsXgAAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:39:50'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:39:50'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:39:50'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:39:50',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:39:50'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 15:39:50'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:39:50'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:39:50'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:39:50'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:39:50'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:39:50'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:39:50'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:39:50'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:41:17'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:41:17'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:41:17'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:41:17'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:41:17'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:41:17'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:41:17'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:41:17'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:41:17'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID uagYYLibdfnktal5AAAB from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:41:19'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket uagYYLibdfnktal5AAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:41:19'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: uagYYLibdfnktal5AAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:41:19'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:41:19'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:41:19'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:41:19',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:41:19'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 15:41:19'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:41:19'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:41:19'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:41:19'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:41:19'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:41:19'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:41:19'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:41:19'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:43:36'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:43:36'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:43:36'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:43:36'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:43:36'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:43:36'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:43:36'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:43:36'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:43:36'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID kWEMHGer6_Wz_3F9AAAB from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:43:37'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket kWEMHGer6_Wz_3F9AAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:43:37'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: kWEMHGer6_Wz_3F9AAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:43:37'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:43:37'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:43:37'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:43:37',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:43:37'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 15:43:37'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:43:37'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:43:37'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:43:37'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:43:37'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:43:37'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:43:37'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:43:37'
}
{
  message: 'SIGINT received. Shutting down gracefully...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:53:21'
}
{
  message: 'Socket.io instance set in SocketService',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:53:30'
}
{
  message: 'Initializing Socket.io handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:53:30'
}
{
  message: '✅ Socket.io handlers successfully initialized and ready for connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:53:30'
}
{
  message: '🔧 WebSocket logging enhanced with detailed event tracking',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:53:30'
}
{
  message: '📡 Real-time collaboration features are now fully monitored',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:53:30'
}
{
  message: 'Initializing streaming completion WebSocket handlers...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:53:30'
}
{
  message: 'MongoDB Connected: localhost',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:53:30'
}
{
  message: 'Server running in development mode on port 5000',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:53:30'
}
{
  message: 'Health check available at http://localhost:5000/health',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:53:30'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID yfTshrO8yzkB2dhuAAAB from IP ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:53:33'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket yfTshrO8yzkB2dhuAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:53:33'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: yfTshrO8yzkB2dhuAAAB)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:53:33'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:53:33'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:53:33'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:53:33',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:53:33'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 15:53:33'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:53:33'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:53:33'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:53:33'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:53:33'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:53:33'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:53:33'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:53:33'
}
{
  message: 'GET /health - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:53:46'
}
{
  message: 'GET /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:53:53'
}
{
  message: 'POST /api/auth/login - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:55:26'
}
{
  message: 'POST /api/auth/register - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:55:27'
}
{
  message: 'POST /api/auth/login - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:56:03'
}
{
  message: 'POST /api/auth/register - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:56:03'
}
{
  message: 'POST /api/auth/login - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:56:18'
}
{
  message: 'POST /api/auth/register - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:56:18'
}
{
  message: 'New user registered: test-1756896978024@example.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:56:18'
}
{
  message: 'POST /api/auth/login - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:56:18'
}
{
  message: 'User logged in: test-1756896978024@example.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:56:18'
}
{
  message: 'POST /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:56:18'
}
{
  message: 'POST /api/auth/login - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:56:42'
}
{
  message: 'POST /api/auth/register - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:56:42'
}
{
  message: 'New user registered: test-1756897002335@example.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:56:42'
}
{
  message: 'POST /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:56:42'
}
{
  message: 'Project created: Test Project for File Attachments by test-1756897002335@example.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:56:42'
}
{
  message: 'POST /api/files - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:56:42'
}
{
  message: 'POST /api/auth/login - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:57:31'
}
{
  message: 'POST /api/auth/register - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:57:31'
}
{
  message: 'New user registered: test-1756897051299@example.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:57:31'
}
{
  message: 'POST /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:57:31'
}
{
  message: 'Project created: Test Project for File Attachments by test-1756897051299@example.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:57:31'
}
{
  message: 'POST /api/files - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:57:31'
}
{
  message: 'file created: test.js in project Test Project for File Attachments by test-1756897051299@example.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:57:31'
}
{
  message: '📡 Broadcasting file creation via WebSocket: test.js in project 68b81f1b85b376955fe07a7e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:57:31'
}
{
  message: 'GET /api/files/68b81f1b85b376955fe07a85/content - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:57:31'
}
{
  message: 'POST /api/chatbot/session - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:57:31'
}
{
  message: 'POST /api/chatbot/query - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:57:31'
}
{
  message: 'POST /api/auth/login - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:58:30'
}
{
  message: 'POST /api/auth/register - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:58:30'
}
{
  message: 'New user registered: test-1756897110162@example.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:58:30'
}
{
  message: 'POST /api/projects - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:58:30'
}
{
  message: 'Project created: Test Project for File Attachments by test-1756897110162@example.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:58:30'
}
{
  message: 'POST /api/files - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:58:30'
}
{
  message: 'file created: test.js in project Test Project for File Attachments by test-1756897110162@example.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:58:30'
}
{
  message: '📡 Broadcasting file creation via WebSocket: test.js in project 68b81f5685b376955fe07a97',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:58:30'
}
{
  message: 'GET /api/files/68b81f5685b376955fe07a9e/content - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:58:30'
}
{
  message: 'POST /api/chatbot/session - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:58:30'
}
{
  message: 'POST /api/chatbot/query - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 15:58:30'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: yfTshrO8yzkB2dhuAAAB) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:34:39'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:34:40'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:34:40'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:34:40'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:34:40'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:34:40'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:34:40'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:34:41'
}
{
  message: '🧹 Cleanup: Stopped container session for socket yfTshrO8yzkB2dhuAAAB',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:34:41'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID junGirYEjJkNmqYNAAAD from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:34:47'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket junGirYEjJkNmqYNAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:34:47'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: junGirYEjJkNmqYNAAAD)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:34:47'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:34:47'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:34:47'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:34:47',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:34:47'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 16:34:47'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:34:47'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:34:47'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:34:47'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:34:47'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:34:47'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:34:47'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:34:47'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: junGirYEjJkNmqYNAAAD) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:50'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:50'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:50'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:50'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:50'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:50'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:50'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:50'
}
{
  message: '🧹 Cleanup: Stopped container session for socket junGirYEjJkNmqYNAAAD',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:50'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID tArTz6NVV5827GD7AAAF from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:51'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket tArTz6NVV5827GD7AAAF',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:51'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: tArTz6NVV5827GD7AAAF)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:51'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:51'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:51'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:51',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:51'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 16:41:51'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:51'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:51'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:51'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:51'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:51'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:51'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:51'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: tArTz6NVV5827GD7AAAF) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:51'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:51'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:51'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:51'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:51'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:51'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:51'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:51'
}
{
  message: '🧹 Cleanup: Stopped container session for socket tArTz6NVV5827GD7AAAF',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:51'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:52'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID QQ567jgiwziWOlzhAAAH from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:53'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket QQ567jgiwziWOlzhAAAH',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:53'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: QQ567jgiwziWOlzhAAAH)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:53'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:53'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:53'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:54',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:54'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:54'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:54'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:54'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:54'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:54'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 16:41:54'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:54'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:54'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:54'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:54'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:54'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:54'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:41:54'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: QQ567jgiwziWOlzhAAAH) - Reason: transport close',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:03'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:03'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:03'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:03'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:03'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:03'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:03'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:03'
}
{
  message: '🧹 Cleanup: Stopped container session for socket QQ567jgiwziWOlzhAAAH',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:03'
}
{
  message: 'GET /api/auth/me - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:03'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID N4QwFv9Zq98XEE53AAAJ from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:03'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket N4QwFv9Zq98XEE53AAAJ',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:03'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: N4QwFv9Zq98XEE53AAAJ)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:03'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:03'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:03'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:03'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:03'
}
{
  message: 'GET /api/projects/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:03'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:03'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:04',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:04'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:04'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 16:46:04'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:04'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:04'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:04'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:04'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:04'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:04'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:04'
}
{
  message: 'POST /api/chatbot/session - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:07'
}
{
  message: 'POST /api/chatbot/session - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:07'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:10'
}
{
  message: 'POST /api/chatbot/query - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:21'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:46:50'
}
{
  message: 'POST /api/files - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:47:17'
}
{
  message: 'file created: main.js in project test by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:47:17'
}
{
  message: '📡 Broadcasting file creation via WebSocket: main.js in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:47:17'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:47:17'
}
{
  message: 'GET /api/files/68b82ac585b376955fe07b09 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:47:17'
}
{
  message: 'User adnan99@gmail.com started editing file 68b82ac585b376955fe07b09',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:47:17'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:47:19'
}
{
  message: 'PUT /api/files/68b82ac585b376955fe07b09 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:47:35'
}
{
  message: 'File updated: main.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:47:35'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b82ac585b376955fe07b09 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:47:35'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:47:35'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:47:35'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:47:35'
}
{
  message: 'PUT /api/files/68b82ac585b376955fe07b09 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:47:41'
}
{
  message: 'File updated: main.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:47:41'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b82ac585b376955fe07b09 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:47:41'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:47:41'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:47:41'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 16:47:41'
}
{
  message: 'GET /api/files/project/68b2b75a8c39733d2fdbc23e - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:07:35'
}
{
  message: 'POST /api/chatbot/query - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:07:43'
}
{
  message: 'GET /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:07:46'
}
{
  message: 'User adnan99@gmail.com started editing file 68b2b76997f9699fd82dfd42',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:07:46'
}
{
  message: '🔌 WebSocket Disconnection: User adnan99@gmail.com (Socket ID: N4QwFv9Zq98XEE53AAAJ) - Reason: ping timeout',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:35:07'
}
{
  message: '👤 User adnan99@gmail.com removed from active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:35:08'
}
{
  message: '📊 Remaining active connections: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:35:08'
}
{
  message: '🚪 User adnan99@gmail.com left project room 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:35:08'
}
{
  message: '👥 Remaining users in project 68b2b75a8c39733d2fdbc23e: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:35:08'
}
{
  message: '🗑️ Empty project room 68b2b75a8c39733d2fdbc23e cleaned up',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:35:08'
}
{
  message: '✅ Disconnect Cleanup Complete: User adnan99@gmail.com left 1 project(s)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:35:09'
}
{
  message: '📊 Total active project rooms: 0',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:35:09'
}
{
  message: '🧹 Cleanup: Stopped container session for socket N4QwFv9Zq98XEE53AAAJ',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:35:09'
}
{
  message: '🔐 WebSocket Authentication Attempt: Socket ID fM6_0dpPGf__vx5PAAAL from IP ::ffff:127.0.0.1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:35:45'
}
{
  message: '✅ WebSocket Auth Success: User adnan99@gmail.com (Adnan Fazil) authenticated for socket fM6_0dpPGf__vx5PAAAL',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:35:46'
}
{
  message: '🔌 WebSocket Connection Established: adnan99@gmail.com (Socket ID: fM6_0dpPGf__vx5PAAAL)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:35:46'
}
{
  message: '📊 Total active connections: 1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:35:46'
}
{
  message: '👤 User Adnan Fazil (adnan99@gmail.com) added to active connections',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:35:46'
}
{
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:35:46',
  level: 'info',
  message: '🏓 Ping received from adnan99@gmail.com:'
}
{
  message: 'User adnan99@gmail.com left project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:35:46'
}
{
  service: 'collabcode-backend',
  projectId: '68b2b75a8c39733d2fdbc23e',
  level: 'info',
  message: '🚪 Join Project Request: User adnan99@gmail.com attempting to join project',
  timestamp: '2025-09-03 17:35:46'
}
{
  message: '🏠 Room Joined: User adnan99@gmail.com joined room project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:35:46'
}
{
  message: '🆕 New Project Room Created: project:68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:35:46'
}
{
  message: '👥 Project Room Status: 1 users in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:35:46'
}
{
  message: '👥 Users in room: Adnan Fazil',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:35:46'
}
{
  message: '📢 Broadcasting user-joined event for adnan99@gmail.com to project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:35:46'
}
{
  message: '📤 Sent project-joined confirmation to adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:35:46'
}
{
  message: '✅ Join Project Success: User adnan99@gmail.com successfully joined project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:35:46'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:19'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:19'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:19'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:19'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:19'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:19'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket iG_khxOCvI97lNweAAAN',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:19'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: iG_khxOCvI97lNweAAAN)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:19'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 1320,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 17:57:19'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:19'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:19'
}
{
  message: '📝 Enhanced prompt for completion (1985 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:19'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:19'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "app"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 644,\n' +
    '    "totalTokenCount": 644,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 644\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "MDu4aOvELv2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: '✅ Token extracted via chunk.text(): "app"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: '📊 CHUNK SUMMARY: token="app", hasToken=true, tokenLength=3',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"app","completionText":"app","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"app","completionText":"app","done":false,"sessionId":"iG_khxOCvI97lNweAAAN","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": ".post('/signup', async (req, res) => {\\n  try"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 644,\n' +
    '    "totalTokenCount": 644,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 644\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "MDu4aOvELv2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: `✅ Token extracted via chunk.text(): ".post('/signup', async (req, res) => {\n` +
    '  try"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: `📊 CHUNK SUMMARY: token=".post('/signup', async (req, res) => {\n` +
    '  try", hasToken=true, tokenLength=44',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":".post('/signup', async (req, res) => {\\n  try","completionText":"app.post('/signup', async (req, res) => {\\n  try","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":".post('/signup', async (req, res) => {\\n  try","completionText":"app.post('/signup', async (req, res) => {\\n  try","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":".post('/signup', async (req, res) => {\\n  try","completionText":"app.post('/signup', async (req, res) => {\\n  try","done":false,"sessionId":"iG_khxOCvI97lNweAAAN","tokenCount":2}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " {\\n    const { username, email, password } = req.body;"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 644,\n' +
    '    "totalTokenCount": 644,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 644\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "MDu4aOvELv2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: '✅ Token extracted via chunk.text(): " {\n' +
    '    const { username, email, password } = req.body;"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: '📊 CHUNK SUMMARY: token=" {\n' +
    '    const { username, email, password } = req.body;", hasToken=true, tokenLength=54',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":" {\\n    const { username, email, password } = req.body;","completionText":"app.post('/signup', async (req, res) => {\\n  try {\\n    const { username, email, password } = req.body;","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":" {\\n    const { username, email, password } = req.body;","completionText":"app.post('/signup', async (req, res) => {\\n  try {\\n    const { username, email, password } = req.body;","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":" {\\n    const { username, email, password } = req.body;","completionText":"app.post('/signup', async (req, res) => {\\n  try {\\n    const { username, email, password } = req.body;","done":false,"sessionId":"iG_khxOCvI97lNweAAAN","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "\\n    // ... validation and database interaction ...\\n    res.status(201).json({ message: 'User created successfully' });\\n  }"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 644,\n' +
    '    "totalTokenCount": 644,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 644\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "MDu4aOvELv2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: '✅ Token extracted via chunk.text(): "\n' +
    '    // ... validation and database interaction ...\n' +
    "    res.status(201).json({ message: 'User created successfully' });\n" +
    '  }"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: '📊 CHUNK SUMMARY: token="\n' +
    '    // ... validation and database interaction ...\n' +
    "    res.status(201).json({ message: 'User created successfully' });\n" +
    '  }", hasToken=true, tokenLength=123',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"\\n    // ... validation and database interaction ...\\n    res.status(201).json({ message: 'User created successfully' });\\n  }","completionText":"app.post('/signup', async (req, res) => {\\n  try {\\n    const { username, email, password } = req.body;\\n    // ... validation and database interaction ...\\n    res.status(201).json({ message: 'User created successfully' });\\n  }","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"\\n    // ... validation and database interaction ...\\n    res.status(201).json({ message: 'User created successfully' });\\n  }","completionText":"app.post('/signup', async (req, res) => {\\n  try {\\n    const { username, email, password } = req.body;\\n    // ... validation and database interaction ...\\n    res.status(201).json({ message: 'User created successfully' });\\n  }","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"\\n    // ... validation and database interaction ...\\n    res.status(201).json({ message: 'User created successfully' });\\n  }","completionText":"app.post('/signup', async (req, res) => {\\n  try {\\n    const { username, email, password } = req.body;\\n    // ... validation and database interaction ...\\n    res.status(201).json({ message: 'User created successfully' });\\n  }","done":false,"sessionId":"iG_khxOCvI97lNweAAAN","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: '🔍 RAW GEMINI CHUNK #5: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " catch (error) {\\n    res.status(500).json({ error: error.message });\\n  }\\n});\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 643,\n' +
    '    "candidatesTokenCount": 94,\n' +
    '    "totalTokenCount": 737,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 643\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 94\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "MDu4aOvELv2UsbQPudazOA"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: '✅ Token extracted via chunk.text(): " catch (error) {\n' +
    '    res.status(500).json({ error: error.message });\n' +
    '  }\n' +
    '});\n' +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: '📊 CHUNK SUMMARY: token=" catch (error) {\n' +
    '    res.status(500).json({ error: error.message });\n' +
    '  }\n' +
    '});\n' +
    '", hasToken=true, tokenLength=77',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":" catch (error) {\\n    res.status(500).json({ error: error.message });\\n  }\\n});\\n","completionText":"app.post('/signup', async (req, res) => {\\n  try {\\n    const { username, email, password } = req.body;\\n    // ... validation and database interaction ...\\n    res.status(201).json({ message: 'User created successfully' });\\n  } catch (error) {\\n    res.status(500).json({ error: error.message });\\n  }\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":" catch (error) {\\n    res.status(500).json({ error: error.message });\\n  }\\n});\\n","completionText":"app.post('/signup', async (req, res) => {\\n  try {\\n    const { username, email, password } = req.body;\\n    // ... validation and database interaction ...\\n    res.status(201).json({ message: 'User created successfully' });\\n  } catch (error) {\\n    res.status(500).json({ error: error.message });\\n  }\\n});\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":" catch (error) {\\n    res.status(500).json({ error: error.message });\\n  }\\n});\\n","completionText":"app.post('/signup', async (req, res) => {\\n  try {\\n    const { username, email, password } = req.body;\\n    // ... validation and database interaction ...\\n    res.status(201).json({ message: 'User created successfully' });\\n  } catch (error) {\\n    res.status(500).json({ error: error.message });\\n  }\\n});\\n","done":false,"sessionId":"iG_khxOCvI97lNweAAAN","tokenCount":5}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: '🏁 Stream completed. Total chunks: 5, Final completion length: 301',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"app.post('/signup', async (req, res) => {\\n  try {\\n    const { username, email, password } = req.body;\\n    // ... validation and database interaction ...\\n    res.status(201).json({ message: 'User created successfully' });\\n  } catch (error) {\\n    res.status(500).json({ error: error.message });\\n  }\\n});\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"app.post('/signup', async (req, res) => {\\n  try {\\n    const { username, email, password } = req.body;\\n    // ... validation and database interaction ...\\n    res.status(201).json({ message: 'User created successfully' });\\n  } catch (error) {\\n    res.status(500).json({ error: error.message });\\n  }\\n});\\n","done":true,"sessionId":"iG_khxOCvI97lNweAAAN","tokenCount":6}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: 'Completion finished for adnan99@gmail.com: 6 tokens, 301 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:21'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:24'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:24'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:24'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:24'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:24'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:24'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket kPJ3XrnbymDRoGQnAAAP',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:34'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: kPJ3XrnbymDRoGQnAAAP)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:34'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 1630,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 17:57:34'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:34'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:34'
}
{
  message: '📝 Enhanced prompt for completion (2295 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:34'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:34'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "    "\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 738,\n' +
    '    "totalTokenCount": 738,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 738\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Pzu4aMKhCvz-gLUPy_COiAk"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: '✅ Token extracted via chunk.text(): "    "',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: '📊 CHUNK SUMMARY: token="    ", hasToken=true, tokenLength=4',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"    ","completionText":"    ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"    ","completionText":"    ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"    ","completionText":"    ","done":false,"sessionId":"kPJ3XrnbymDRoGQnAAAP","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "if (!username || !email || !password) {\\n      return res."\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 738,\n' +
    '    "totalTokenCount": 738,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 738\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Pzu4aMKhCvz-gLUPy_COiAk"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: '✅ Token extracted via chunk.text(): "if (!username || !email || !password) {\n' +
    '      return res."',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: '📊 CHUNK SUMMARY: token="if (!username || !email || !password) {\n' +
    '      return res.", hasToken=true, tokenLength=57',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"if (!username || !email || !password) {\\n      return res.","completionText":"    if (!username || !email || !password) {\\n      return res.","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"if (!username || !email || !password) {\\n      return res.","completionText":"    if (!username || !email || !password) {\\n      return res.","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"if (!username || !email || !password) {\\n      return res.","completionText":"    if (!username || !email || !password) {\\n      return res.","done":false,"sessionId":"kPJ3XrnbymDRoGQnAAAP","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "status(400).json({ error: 'All fields are required'"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 738,\n' +
    '    "totalTokenCount": 738,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 738\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Pzu4aMKhCvz-gLUPy_COiAk"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: `✅ Token extracted via chunk.text(): "status(400).json({ error: 'All fields are required'"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: `📊 CHUNK SUMMARY: token="status(400).json({ error: 'All fields are required'", hasToken=true, tokenLength=51`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"status(400).json({ error: 'All fields are required'","completionText":"    if (!username || !email || !password) {\\n      return res.status(400).json({ error: 'All fields are required'","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"status(400).json({ error: 'All fields are required'","completionText":"    if (!username || !email || !password) {\\n      return res.status(400).json({ error: 'All fields are required'","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"status(400).json({ error: 'All fields are required'","completionText":"    if (!username || !email || !password) {\\n      return res.status(400).json({ error: 'All fields are required'","done":false,"sessionId":"kPJ3XrnbymDRoGQnAAAP","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " });\\n    }\\n    // ... further validation (e.g., email format, password strength) ...\\n  }\\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 737,\n' +
    '    "candidatesTokenCount": 59,\n' +
    '    "totalTokenCount": 796,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 737\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 59\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Pzu4aMKhCvz-gLUPy_COiAk"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: '✅ Token extracted via chunk.text(): " });\n' +
    '    }\n' +
    '    // ... further validation (e.g., email format, password strength) ...\n' +
    '  }\n' +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: '📊 CHUNK SUMMARY: token=" });\n' +
    '    }\n' +
    '    // ... further validation (e.g., email format, password strength) ...\n' +
    '  }\n' +
    '", hasToken=true, tokenLength=89',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":" });\\n    }\\n    // ... further validation (e.g., email format, password strength) ...\\n  }\\n","completionText":"    if (!username || !email || !password) {\\n      return res.status(400).json({ error: 'All fields are required' });\\n    }\\n    // ... further validation (e.g., email format, password strength) ...\\n  }\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":" });\\n    }\\n    // ... further validation (e.g., email format, password strength) ...\\n  }\\n","completionText":"    if (!username || !email || !password) {\\n      return res.status(400).json({ error: 'All fields are required' });\\n    }\\n    // ... further validation (e.g., email format, password strength) ...\\n  }\\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":" });\\n    }\\n    // ... further validation (e.g., email format, password strength) ...\\n  }\\n","completionText":"    if (!username || !email || !password) {\\n      return res.status(400).json({ error: 'All fields are required' });\\n    }\\n    // ... further validation (e.g., email format, password strength) ...\\n  }\\n","done":false,"sessionId":"kPJ3XrnbymDRoGQnAAAP","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 201',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"    if (!username || !email || !password) {\\n      return res.status(400).json({ error: 'All fields are required' });\\n    }\\n    // ... further validation (e.g., email format, password strength) ...\\n  }\\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"    if (!username || !email || !password) {\\n      return res.status(400).json({ error: 'All fields are required' });\\n    }\\n    // ... further validation (e.g., email format, password strength) ...\\n  }\\n","done":true,"sessionId":"kPJ3XrnbymDRoGQnAAAP","tokenCount":5}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 201 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:35'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket Z-Fv-CmogLl-cVR5AAAR',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:40'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: Z-Fv-CmogLl-cVR5AAAR)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:40'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 1630,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 17:57:40'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:40'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:40'
}
{
  message: '📝 Enhanced prompt for completion (2295 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:40'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:40'
}
{
  message: 'Completion cancellation requested by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:40'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:40'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:40'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "    "\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 738,\n' +
    '    "totalTokenCount": 738,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 738\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "RDu4aPToKu6LqsMPhfO--Aw"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:40'
}
{
  message: '✅ Token extracted via chunk.text(): "    "',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:40'
}
{
  message: '📊 CHUNK SUMMARY: token="    ", hasToken=true, tokenLength=4',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:40'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"    ","completionText":"    ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:40'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"    ","completionText":"    ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:40'
}
{
  message: 'Completion cancelled for socket Z-Fv-CmogLl-cVR5AAAR',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:40'
}
{
  message: 'Completion finished for adnan99@gmail.com: 0 tokens, 0 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:40'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:41'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:41'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:41'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:41'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:41'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:41'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:45'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:45'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:45'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:45'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:45'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:45'
}
{
  message: 'Completion WebSocket: User adnan99@gmail.com authenticated for socket SOYZe0vbXYcg3izkAAAT',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:46'
}
{
  message: '🤖 Completion WebSocket connected: adnan99@gmail.com (Socket ID: SOYZe0vbXYcg3izkAAAT)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:46'
}
{
  service: 'collabcode-backend',
  language: 'javascript',
  promptLength: 1638,
  filename: '',
  level: 'info',
  message: 'Completion request from adnan99@gmail.com:',
  timestamp: '2025-09-03 17:57:46'
}
{
  message: 'Generating streaming completion for language: javascript',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:46'
}
{
  message: '🔧 Mock mode: false, API Key exists: true',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:46'
}
{
  message: '📝 Enhanced prompt for completion (2303 chars): You are an expert javascript developer providing code completions.\n' +
    '\n' +
    'Context:\n' +
    '- Language: javascript\n' +
    '- File: \n' +
    '- Task: Complete the code naturally and concisely\n' +
    '\n' +
    'Instructions:\n' +
    '- Use modern ES6+ syntax\n' +
    '-...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:46'
}
{
  message: '🤖 Calling Gemini API with model: gemini-1.5-flash',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:46'
}
{
  message: '✅ Gemini API stream created successfully',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: '🔍 RAW GEMINI CHUNK #1: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "    "\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 743,\n' +
    '    "totalTokenCount": 743,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 743\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Sju4aImVL8bQhMIP-t6LqAM"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: '✅ Token extracted via chunk.text(): "    "',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: '📊 CHUNK SUMMARY: token="    ", hasToken=true, tokenLength=4',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"    ","completionText":"    ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"    ","completionText":"    ","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"    ","completionText":"    ","done":false,"sessionId":"SOYZe0vbXYcg3izkAAAT","tokenCount":1}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: '🔍 RAW GEMINI CHUNK #2: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": "if (!username || !email || !password) {\\n      return res."\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 743,\n' +
    '    "totalTokenCount": 743,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 743\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Sju4aImVL8bQhMIP-t6LqAM"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: '✅ Token extracted via chunk.text(): "if (!username || !email || !password) {\n' +
    '      return res."',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: '📊 CHUNK SUMMARY: token="if (!username || !email || !password) {\n' +
    '      return res.", hasToken=true, tokenLength=57',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: '🚀 YIELDING TO SOCKET: {"token":"if (!username || !email || !password) {\\n      return res.","completionText":"    if (!username || !email || !password) {\\n      return res.","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: '📥 SOCKET RECEIVED CHUNK: {"token":"if (!username || !email || !password) {\\n      return res.","completionText":"    if (!username || !email || !password) {\\n      return res.","done":false}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: '📤 SOCKET EMITTING completion-token: {"token":"if (!username || !email || !password) {\\n      return res.","completionText":"    if (!username || !email || !password) {\\n      return res.","done":false,"sessionId":"SOYZe0vbXYcg3izkAAAT","tokenCount":2}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: '🔍 RAW GEMINI CHUNK #3: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    `            "text": "status(400).json({ error: 'All fields are required'"\n` +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      }\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 743,\n' +
    '    "totalTokenCount": 743,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 743\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Sju4aImVL8bQhMIP-t6LqAM"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: `✅ Token extracted via chunk.text(): "status(400).json({ error: 'All fields are required'"`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: `📊 CHUNK SUMMARY: token="status(400).json({ error: 'All fields are required'", hasToken=true, tokenLength=51`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":"status(400).json({ error: 'All fields are required'","completionText":"    if (!username || !email || !password) {\\n      return res.status(400).json({ error: 'All fields are required'","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"status(400).json({ error: 'All fields are required'","completionText":"    if (!username || !email || !password) {\\n      return res.status(400).json({ error: 'All fields are required'","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"status(400).json({ error: 'All fields are required'","completionText":"    if (!username || !email || !password) {\\n      return res.status(400).json({ error: 'All fields are required'","done":false,"sessionId":"SOYZe0vbXYcg3izkAAAT","tokenCount":3}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: '🔍 RAW GEMINI CHUNK #4: {\n' +
    '  "candidates": [\n' +
    '    {\n' +
    '      "content": {\n' +
    '        "parts": [\n' +
    '          {\n' +
    '            "text": " });\\n    }\\n    // ... further validation (e.g., email format, password strength) ...\\n  \\n"\n' +
    '          }\n' +
    '        ],\n' +
    '        "role": "model"\n' +
    '      },\n' +
    '      "finishReason": "STOP"\n' +
    '    }\n' +
    '  ],\n' +
    '  "usageMetadata": {\n' +
    '    "promptTokenCount": 742,\n' +
    '    "candidatesTokenCount": 58,\n' +
    '    "totalTokenCount": 800,\n' +
    '    "promptTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 742\n' +
    '      }\n' +
    '    ],\n' +
    '    "candidatesTokensDetails": [\n' +
    '      {\n' +
    '        "modality": "TEXT",\n' +
    '        "tokenCount": 58\n' +
    '      }\n' +
    '    ]\n' +
    '  },\n' +
    '  "modelVersion": "gemini-1.5-flash",\n' +
    '  "responseId": "Sju4aImVL8bQhMIP-t6LqAM"\n' +
    '}',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: '✅ Token extracted via chunk.text(): " });\n' +
    '    }\n' +
    '    // ... further validation (e.g., email format, password strength) ...\n' +
    '  \n' +
    '"',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: '📊 CHUNK SUMMARY: token=" });\n' +
    '    }\n' +
    '    // ... further validation (e.g., email format, password strength) ...\n' +
    '  \n' +
    '", hasToken=true, tokenLength=88',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: `🚀 YIELDING TO SOCKET: {"token":" });\\n    }\\n    // ... further validation (e.g., email format, password strength) ...\\n  \\n","completionText":"    if (!username || !email || !password) {\\n      return res.status(400).json({ error: 'All fields are required' });\\n    }\\n    // ... further validation (e.g., email format, password strength) ...\\n  \\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":" });\\n    }\\n    // ... further validation (e.g., email format, password strength) ...\\n  \\n","completionText":"    if (!username || !email || !password) {\\n      return res.status(400).json({ error: 'All fields are required' });\\n    }\\n    // ... further validation (e.g., email format, password strength) ...\\n  \\n","done":false}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":" });\\n    }\\n    // ... further validation (e.g., email format, password strength) ...\\n  \\n","completionText":"    if (!username || !email || !password) {\\n      return res.status(400).json({ error: 'All fields are required' });\\n    }\\n    // ... further validation (e.g., email format, password strength) ...\\n  \\n","done":false,"sessionId":"SOYZe0vbXYcg3izkAAAT","tokenCount":4}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: '🏁 Stream completed. Total chunks: 4, Final completion length: 200',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: `📥 SOCKET RECEIVED CHUNK: {"token":"","completionText":"    if (!username || !email || !password) {\\n      return res.status(400).json({ error: 'All fields are required' });\\n    }\\n    // ... further validation (e.g., email format, password strength) ...\\n  \\n","done":true}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: `📤 SOCKET EMITTING completion-token: {"token":"","completionText":"    if (!username || !email || !password) {\\n      return res.status(400).json({ error: 'All fields are required' });\\n    }\\n    // ... further validation (e.g., email format, password strength) ...\\n  \\n","done":true,"sessionId":"SOYZe0vbXYcg3izkAAAT","tokenCount":5}`,
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: '🏁 Completion terminating: done=true error=undefined',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: 'Completion finished for adnan99@gmail.com: 5 tokens, 200 characters',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: '🤖 Completion WebSocket disconnected: adnan99@gmail.com (client namespace disconnect)',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:47'
}
{
  message: 'PUT /api/files/68b2b76997f9699fd82dfd42 - ::1',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:50'
}
{
  message: 'File updated: index.js by adnan99@gmail.com',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:51'
}
{
  message: '📡 Broadcasting file update via WebSocket: file 68b2b76997f9699fd82dfd42 in project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:51'
}
{
  message: '📂 Starting file sync for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:51'
}
{
  message: '📂 File sync completed: 2/2 files synced',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:51'
}
{
  message: '🔄 File synced to container filesystem for project 68b2b75a8c39733d2fdbc23e',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 17:57:51'
}
{
  message: 'SIGINT received. Shutting down gracefully...',
  level: 'info',
  service: 'collabcode-backend',
  timestamp: '2025-09-03 18:00:01'
}
